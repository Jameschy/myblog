passport._define("regPhone.js"/*tpa=http://passport.baidu.com/passApi/js/regPhone.js*/,function(){var e=e||window.passport||{},t=e.tangramInst||t||window.baidu;!function(e){e.apiDomain={staticDomain:window.location?"http:"==window.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com":"http:"==document.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com"}}(e);var n=null;if("function"!=typeof n)var n=function(){};n._baiduInstName=n._baiduInstName||"bdInst_"+(new Date).getTime();var a=a||t.baiduInstance||window.baiduInstance;window[n._baiduInstName]=window[n._baiduInstName]||a,n.resourcePath="",n.skinName="default",n.version="1.0.0.0",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),t.form=t.form||{},t.url=t.url||{},t.url.escapeSymbol=t.url.escapeSymbol||function(e){return String(e).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(e){return"%"+(256+e.charCodeAt()).toString(16).substring(1).toUpperCase()})},t.form.json=t.form.json||function(e,n){function a(e,t){var n=u[e];n?(n.push||(u[e]=[n]),u[e].push(t)):u[e]=t}for(var s,r,o,i,c,l,d,g,p=e.elements,n=n||function(e){return e},u={},f=0,m=p.length;m>f;f++)if(s=p[f],o=s.name,!s.disabled&&o)switch(r=s.type,i=t.url.escapeSymbol(s.value),r){case"radio":case"checkbox":s.checked&&a(o,n(i,o));break;case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":a(o,n(i,o));break;case"select-multiple":for(c=s.options,d=c.length,l=0;d>l;l++)g=c[l],g.selected&&a(o,n(g.value,o))}return u},n.Base=function(){t.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},t.lang.inherits(n.Base,t.lang.Class,"http://passport.baidu.com/passApi/js/magic.Base").extend({getElement:function(e){return document.getElementById(this.$getId(e))},getElements:function(){var e={},t=this._ids;for(var n in t)e[n]=this.getElement(n);return e},$getId:function(e){return e=t.lang.isString(e)?e:"",this._ids[e]||(this._ids[e]=this._eid+e)},$mappingDom:function(e,n){return t.lang.isString(n)?this._ids[e]=n:n&&n.nodeType&&(n.id?this._ids[e]=n.id:n.id=this.$getId(e)),this},$hide:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="none",e.style.visibility="hidden"),this},$show:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="block",e.style.visibility="visible",e.style.opacity="1"),this},$dispose:function(){this.fire("ondispose")&&t.lang.Class.prototype.dispose.call(this)}}),n.control=n.control||{},function(){function e(e,t){var n,a=e.getAttribute(t),r=!1;if(a&&(n=a.match(s[0]))){r={};for(var o,i=0;i<n.length;i++)o=n[i].match(s[1]),!isNaN(o[2])&&(o[2]=+o[2]),s[2].test(o[2])&&(o[2]=o[2].replace(s[3],"$2")),s[4].test(o[2])&&(o[2]=s[5].test(o[2])),r[o[1]]=o[2]}return r}function a(a,s){var r=e(a,"tang-event");if(r)for(var o in r){var i=r[o].substr(1);i.indexOf("(")<0&&(i+="()"),t.dom(a).on(o,new Function(n._baiduInstName+"('"+s+"') && "+n._baiduInstName+"('"+s+"')"+i))}}n.setup=n.setup||function(t,n,s){var r=e(t,"tang-param")||{};for(var o in s)r[o]=s[o];var i=new n(r);i.$mappingDom("",t),a(t,i.guid);for(var c=t.getElementsByTagName("*"),o=c.length-1;o>=0;o--)a(c[o],i.guid);return i};var s=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i]}();var e=e||window.passport||{};e.err=e.err||{},function(e){var t=null;t="function"===(typeof e.getCurrent).toLowerCase()?e.getCurrent():{errMsg:{},labelText:{}},t.errMsg.reg={"-1":{msg:'系统错误,休息一会儿,请您稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"isAgree"},100027:{msg:"百度正在进行系统升级，暂时不能提供服务，敬请谅解",field:"isAgree"},110002:{msg:"用户名仅支持中英文、数字和下划线,且不能为纯数字",field:"userName"},130006:{msg:'您的用户名不可用,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"userName"},130007:{msg:'您的用户名不可用,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"userName"},110023:{msg:'该邮箱已注册可<a href="http://passport.baidu.com/v2/?login#{urldata}">直接登录</a>,如忘记密码<a href="http://passport.baidu.com/?getpassindex#{urldata}">点此处找回</a>',field:"email"},110024:{msg:'该邮箱已被注册,但未激活,请到验证邮件中激活或者<a href="#{gotourl}" target="_blank">重发验证邮件</a>',field:"email"},130036:{msg:'为了确保您能及时收到邮件,请使用<a href="http://www.baidu.com/search/passport_help.html#09" target="_blank">主流邮箱</a>',field:"email"},10:{msg:"请您填写用户名",field:"userName"},11:{msg:"用户名仅支持中英文、数字和下划线,且不能为纯数字",field:"userName"},12:{msg:"用户名仅支持中英文、数字和下划线,且不能为纯数字",field:"userName"},14:{msg:"此用户名太受欢迎,请更换一个",field:"userName"},15:{msg:"您的用户名不可用",field:"userName"},16:{msg:'系统错误,请您稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"isAgree"},20:{msg:"请填写密码",field:"password"},21:{msg:"密码必须由8-14个字符组成",field:"password"},22:{msg:"密码与确认密码不一致",field:"verifyPass"},23:{msg:"密码仅能由数字,字母和符号组成 / 密码中不能含有空格",field:"password"},24:{msg:"您的密码太过简单,请使用字母和数字的组合,否则无法注册成功",field:"password"},30:{msg:"请您输入新的邮箱",field:"email"},31:{msg:"您填写的邮箱格式有误,请重新输入",field:"email"},40:{msg:"请输入验证码",field:"verifyCode"},41:{msg:"验证码格式错误",field:"verifyCode"},42:{msg:"您输入的验证码有误",field:"verifyCode"},"-2":{msg:'服务正在升级中,请您稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:""}},t.errMsg.regPhone={"-1":{msg:'系统错误,休息一会儿,请您稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"isAgree"},100027:{msg:"百度正在进行系统升级，暂时不能提供服务，敬请谅解",field:"isAgree"},130018:{msg:"请您输入手机号",field:"phone"},130019:{msg:"您输入的手机号格式有误",field:"phone"},130020:{msg:"该手机已注册可直接登录",field:"phone"},130035:{msg:'您的手机号已被注册,请<a href="http://passport.baidu.com/v2/?login#{urldata}">直接登录</a>或更换手机号注册',field:"phone"},130017:{msg:"发送短信过多,请24小时后再试",field:"verifyCodeSend"},130038:{msg:"发送短信过于频繁,请您稍后再试",field:"verifyCodeSend"},130010:{msg:"请您输入密码",field:"password"},130011:{msg:"密码必须由8-14个字符组成",field:"password"},110013:{msg:"密码仅支持数字,字母和符号,且密码中不能含有空格",field:"password"},110012:{msg:"密码过于简单,建议使用数字加字母组合,否则无法注册成功",field:"password"},130023:{msg:"请输入短信激活码",field:"smsCode"},130021:{msg:"请您输入短信激活码",field:"smsCode"},130022:{msg:"短信激活码错误",field:"smsCode"},130003:{msg:"您输入的短信激活码有误",field:"smsCode"},130036:{msg:'为了确保您能及时收到邮件,请使用<a href="http://www.baidu.com/search/passport_help.html#09" target="_blank">主流邮箱</a>',field:"smsCode"},130037:{msg:"激活码错误次数过多,请24小时后重新注册",field:"smsCode"},130004:{msg:"激活码已失效,请您重新获取",field:"smsCode"},130032:{msg:"您还未接受百度用户协议,请勾选",field:"isAgree"},130039:{msg:'系统繁忙,请稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"isAgree"},130040:{msg:"",field:""},130044:{msg:"系统检测到当前帐号通过非法渠道注册，为了您的帐号安全，请更换手机号重试",field:""},130041:{msg:"验证码为空",field:"confirmVerifyCode"},130042:{msg:"验证码错误",field:"confirmVerifyCode"},340001:{msg:'网络不给力， 请刷新重试 ,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:""},400001:{msg:"已被其他帐号绑定",field:"phone"},400003:{msg:"已被其他帐号绑定",field:"phone"},400005:{msg:"已被其他帐号绑定",field:"phone"},400603:{msg:"当前您的手机号码仅支持快速注册，请您采用快速注册方式，注册百度帐号",field:"phone"},50023:{msg:"1个手机号30日内最多换绑3个账号",field:"phone"},50024:{msg:"注册过于频繁，请稍候再试",field:""},50025:{msg:"注册过于频繁，请稍候再试；也可以通过上行短信的方式进行注册",field:""},50030:{msg:"抱歉，该手机号的申请次数已达当日上限，请更换手机号",field:"phone"},50031:{msg:"抱歉，该手机号的申请次数已达当月上限，请更换手机号",field:"phone"},50032:{msg:"抱歉，该手机号的申请次数已达本季度上限，请更换手机号",field:"phone"},50036:{msg:"注册过于频繁，请稍后再试"},130045:{msg:"系统检测到当前帐号通过非法渠道注册，为了您的帐号安全，请使用正规渠道注册",field:"verifyCode"},50043:{msg:"当前浏览器版本过低，请升级或更换浏览器后重试",field:""},100060:{msg:"因系统升级暂不支持注册，预计6月7日恢复服务",field:"verifyCode"},71e3:{msg:"",field:""}},t.labelText.reg={captcha:"验证码",captchaAlt:"验证码图片",captchaChange:"换一张",captchaTip:"请输入图片中的字符,不区分大小写",agree:"阅读并接受",password:"密码",passwordPlaceholder:"请设置登录密码",baiduUserProtocal:"《百度用户协议》",getSMSKey:"获取短信验证码",register:"注册",strength:"强度：",strengthTip:"密码长度6~14位,字母区分大小写",phoneNum:"手机号",phoneNumTip:"请输入中国大陆手机号,其他用户不可见",foreignMobileError:"手机号码格式不正确",SMSKey:"短信激活码",SMSKeyTip:"请输入您手机短信中的激活码",SMSKeySendTip:'短信激活码已发送,请您在30分钟内填写。<a href="http://help.baidu.com/question?prod_en=passport&class=%D7%A2%B2%E1%BC%B0%B5%C7%C2%BC&id=1000318" target="_blank">无法获取</a>？',VoiceKeySendTip:'语音激活码已发送,请您在30分钟内填写。<a href="http://help.baidu.com/question?prod_en=passport&class=%D7%A2%B2%E1%BC%B0%B5%C7%C2%BC&id=1000318" target="_blank">无法获取</a>？',SMSKeyResendTip:"秒后重新获取激活码",SMSKeyResendTipMerge:"重新发送",account:"手机/邮箱",accountTip:"请输入中国大陆手机号或常用邮箱,可用于登录和找回密码,注册成功后,所有百度产品通用",account_username:"帐号",accountTip_username:"请输入中国大陆手机号/常用邮箱/用户名",email:"邮箱",emailTip:"请输入常用邮箱,通过验证后可用于登录和找回密码",userName:"用户名",userNamePlaceholder:"请设置用户名",userNameTip:"设置后不可更改<br>中英文均可，最长14个英文或7个汉字",confirmPassword:"确认密码",mailLengthError:"邮箱地址过长,请更换较短邮箱,总体不超过60个字符",mainEmailError:'为了确保您能及时收到邮件,请使用<a href="http://www.baidu.com/search/passport_help.html#09" target="_blank">主流邮箱</a>',pwdCharError:"密码仅支持数字,字母和符号,且密码中不能含有空格",matchPwdError:"密码与确认密码不一致",pwdLengthError:"密码必须由8-14个字符组成",checkLicenseError:"请勾选“阅读并接受百度用户协议”",userNameRulesError:"用户名不能超过7个汉字或14个字符",userNameNumberError:"用户名仅支持中英文、数字和下划线,且不能为纯数字",weakPwdError:"您的密码太过简单,请使用字母、数字和符号的组合,以便完成注册",userNameExistsError:"此用户名太受欢迎,请更换一个",nopwd:"",nopwdMsg:"请输入密码",weak:"弱",weakMsg:"请重新设置,试试数字、字母、符号组合",middle:"中",middleMsg:"您的密码还可以更复杂些",strong:"强",strongMsg:"您的密码很安全,请牢记！",placeholder:"可用于登录和找回密码",regMergePlaceholder:"手机/邮箱",regMergePlaceholder_username:"手机/邮箱/用户名",matchGmailError:"gmail邮箱收信时会自动过滤用户名内的圆点,您可以去掉用户名内的圆点直接注册",emailLimitError:"不能使用该邮箱",accountMergeError:"请填写正确的手机/邮箱",accountEmpty:"邮箱/手机",accountEmpty_username:"邮箱/手机/用户名",emailEmptyError:"您填写的邮箱格式有误,请重新输入",phoneEmptyError:"您填写的手机号格式有误,请输入11位大陆手机号",confirmVerCodeEmpty:"验证码为空",pwdChecklist_len:"长度为8~14个字符",pwdChecklist_cha:"支持数字,大小写字母和标点符号",pwdChecklist_spa:"不允许有空格",verifyCode:"验证码",verifyCodePlaceholder:"请输入验证码",smsVerifyCode:"短信激活码",sysUpdate:"服务正在升级中,请您稍后再试",multiTip:"一个手机号绑带多个帐号？<a href='http://passport.baidu.com/export/multi/index.html' target='_blank'>立即体验</a>",notsafeMsg:"为了提升您的帐号安全，建议不要使用您的常用密码，请重新输入",notsafe:"",baiduPersonalProtocal:"《百度隐私权保护声明》",sysError:"系统错误，休息一会儿，请稍后再试"},e.getCurrent=function(){return t}}(e.err);var e=e||window.passport||{};return e.data=e.data||{},function(t){function n(e){this._requests=[],this._value=null,this._exception=null,this._isComplete=!1;var t=this;e(function(e){t._fulfillPromise(e)},function(e){t._breakPromise(e)})}function a(e,t,n){return t?n?function(n){return n=n||{},d.submit(g+t,s(n,e,f[e],m[e],!0),{charset:"utf-8",processData:function(t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];a&&(t[n]=decodeURIComponent(a))}return r(e,t)}})}:function(n){return d.jsonp(g+t,s(n,e,f[e],m[e],!1),{charset:"utf-8",processData:function(t){return r(e,t)}})}:c}function s(e,t,n,a,s){var r=s?{staticpage:_.staticPage,charset:_.charset||document.characterSet||document.charset||""}:{},o=h[t];if(o)for(var i in o){if(o.hasOwnProperty(i)){var c=o[i];r[i]="function"==typeof c?c(e):c}"verifypass"==i&&(r[i]=decodeURIComponent(r[i]))}if(r.token=_.token,r.tpl=_.product||"",r.subpro=_.subpro,r.apiver="v3",r.tt=(new Date).getTime(),e){n=n||{},a=a||{};for(var i in e)if(e.hasOwnProperty(i)){var d=a[i],g=d?d(e[i],e):e[i];"string"==typeof g&&(s&&(g=decodeURIComponent(g)),v[i]||(g=l.trim(g))),r[n[i]||i.toLowerCase()]=g}}return r}function r(e,n){if(t&&t.traceID&&t.traceID.getTraceID&&t.traceID.getTraceID(n),n){var a=y[e];a&&a(n);var s=n.errInfo,r=n,i=r;return s?r.errInfo=o(e,s,r):(s={no:n.err_no,msg:n.err_msg||""},delete r.err_no,delete r.err_msg,i={data:r,errInfo:o(e,s,r)}),i}return n}function o(e,t){var n=C[w[e]||e];if(n&&t&&0!=t.no){var a=n[t.no]||n[-1];if(a){var s=a.msg;t.msg=s,t.field=a.field}}return t}function i(e){if(t&&t.traceID&&t.traceID.getTraceID&&t.traceID.getTraceID(e),e){var n=e.errInfo,a=e;if(!n)for(var s in e)if(e.hasOwnProperty(s)){var r=e[s];r&&(e[s]=decodeURIComponent(r))}n||(n={no:e.err_no,msg:e.err_msg||""},delete a.err_no,delete a.err_msg,e={data:a,errInfo:n})}return e}var c=function(){};n.prototype={get_isComplete:function(){return this._isComplete},get_value:function(){if(!this._isComplete)return void 0;if(this._exception)throw this._exception;return this._value},call:function(e){for(var t=[],n=0,a=arguments.length-1;a>n;n++)t[n]=arguments[n+1];return this.when(function(n){return n[e].apply(n,t)})},getValue:function(e){return this.when(function(t){return t[e]})},setValue:function(e,t){this.whenOnly(function(n){n[e]=t})},when:function(e,t,a){return n.when(this,e,t,a)},whenOnly:function(e,t,a){n.whenOnly(this,e,t,a)},success:function(e,t){return this.when(e,c,t)},fail:function(e,t){return this.when(c,e,t)},_enqueueOne:function(e){this._isComplete?this._notify(e):this._requests.push(e)},_notify:function(e){this._exception?e.breakPromise&&e.breakPromise(this._exception):e.fulfillPromise&&e.fulfillPromise(this._value)},_notifyAll:function(){for(var e=0,t=this._requests.length;t>e;e++)this._notify(this._requests[e])},_fulfillPromise:function(e){this._value=e,this._exception=null,this._isComplete=!0,this._notifyAll()},_breakPromise:function(e){this._value=null,this._exception=e||new Error("An error occured"),this._isComplete=!0,this._notifyAll()}},n.when=function(e,t,a,s){return new n(function(r,o){n.make(e)._enqueueOne({fulfillPromise:function(e){r(t?t.call(s,e):e)},breakPromise:function(e){if(a)try{r(a.call(s,e))}catch(t){o(t)}else o(e)}})})},n.whenOnly=function(e,t,a,s){n.make(e)._enqueueOne({fulfillPromise:function(e){t&&t.call(s,e)},breakPromise:function(e){a&&a.call(s,e)}})},n.make=function(e){return e instanceof n?e:n.immediate(e)},n.immediate=function(e){return new n(function(t){t(e)})};var l={};!function(e){var t=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");e.trim=function(e){return String(e).replace(t,"")},e.getUniqueId=function(e){return e+Math.floor(2147483648*Math.random()).toString(36)},e.g=function(e){return e?"string"==typeof e||e instanceof String?document.getElementById(e):!e.nodeName||1!=e.nodeType&&9!=e.nodeType?null:e:null},e.getParent=function(t){return t=e.g(t),t.parentElement||t.parentNode||null},e.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},e.array=e.array||{},e.array.indexOf=function(e,t,n){var a=e.length;for(n=0|n,0>n&&(n=Math.max(0,a+n));a>n;n++)if(n in e&&e[n]===t)return n;return-1},e.browser=e.browser||{},e.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,e.insertHTML=function(t,n,a){t=e.g(t);var s,r;return t.insertAdjacentHTML&&!e.browser.opera?t.insertAdjacentHTML(n,a):(s=t.ownerDocument.createRange(),n=n.toUpperCase(),"AFTERBEGIN"==n||"BEFOREEND"==n?(s.selectNodeContents(t),s.collapse("AFTERBEGIN"==n)):(r="BEFOREBEGIN"==n,s[r?"setStartBefore":"setEndAfter"](t),s.collapse(r)),s.insertNode(s.createContextualFragment(a))),t}}(l),t.base=l;var d={};!function(e){var a="__bdpp_pstc__"+(new Date).getTime(),s=a+"_form",r=a+"_ifr",o=function(e){if("object"==typeof e){var t=[];for(var n in e){var a=e[n];if(void 0!==a&&null!==a){t.length&&t.push("&");var s=encodeURIComponent("boolean"==typeof a?a?"1":"0":a.toString());t.push(encodeURIComponent(n),"=",s)}}return t.join("")}return"string"==typeof e?e:null},i=function(e,t){if(t=o(t),"string"==typeof t){var n=/\?/g.test(e);e+=(n?"&":"?")+o(t)}return e},c=function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},d=function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},g=function(e,t,n){function a(e){return function(){try{e?g.onfailure&&g.onfailure():(t.apply(window,arguments),clearTimeout(r)),window[s]=null,delete window[s]}catch(n){}finally{d(o)}}}var s,r,o=document.createElement("SCRIPT"),i="bd__cbs__",g=n||{},p=g.charset,u=g.queryField||"callback",f=g.timeOut||0,m=new RegExp("(\\?|&)"+u+"=([^&]*)");s=l.getUniqueId(i),window[s]=a(0),f&&(r=setTimeout(a(1),f)),e=e.replace(m,"$1"+u+"="+s),e.search(m)<0&&(e+=(e.indexOf("?")<0?"?":"&")+u+"="+s),c(o,e,p)},p=function(e,t){var n=[];n.push("<form id='",s,"' target='",r,"' "),n.push("action='",l.encodeHTML(e),"' method='post'>");for(var a in t)if(t.hasOwnProperty(a)){var o=t[a];if(void 0!==o&&null!==o){var i=l.encodeHTML("boolean"==typeof o?o?"1":"0":o);n.push("<input type='hidden' name='",l.encodeHTML(a),"' value='",i,"' />")}}return n.push("</form>"),n.join("")},u=function(e,t,n,o){function i(e){return function(){try{e?o.onfailure&&o.onfailure():(n.apply(window,arguments),d&&clearTimeout(d)),window[g]=null,delete window[g]}catch(t){}}}o=o||{};var c=o.timeOut||0,d=!1,g=l.getUniqueId("bd__pcbs__");t[o.queryField||"callback"]="parent."+g;var u=p(e,t);if(l.g(s))l.getParent(s).innerHTML=u;else{var f=[];f.push("<div id='",a,"' style='display:none;'>"),f.push("<div>",u,"</div>"),f.push("<iframe name='",r,"' src='"+("https:"==(window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase())?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank")+"' style='display:none;'></iframe>"),f.push("</div>"),l.insertHTML(document.body,"beforeEnd",f.join(""))}window[g]=i(),c&&(d=setTimeout(i(1),c)),l.g(s).submit()};e.jsonp=function(e,a,s){return s=s||{},t&&t.traceID&&t.traceID.createTraceID&&(a.traceid=t.traceID.createTraceID()),new n(function(t,n){e=i(e,a),g(e,function(e){s.processData&&(e=s.processData(e)),t&&t(e)},{charset:s.charset,queryField:s.queryField,timeOut:s.timeOut,onfailure:function(){n&&n()}})})},e.submit=function(e,a,s){return t&&t.traceID&&t.traceID.createTraceID&&(a.traceid=t.traceID.createTraceID()),e&&a?new n(function(t){u(e,a,function(e){s.processData&&(e=s.processData(e)),t&&t(e)},s)}):void 0};var f=[];e.load=function(e){return new n(function(t){var n=f.push(new Image)-1,a=!1,s=setTimeout(function(){a=!0,t&&t()},1e3);f[n].onload=function(){clearTimeout(s),a||t&&t(),a=!0,f[n]=f[n].onload=null},f[n].src=e})}}(d);var g="https://passport.baidu.com",p={getApiInfo:"/v2/api/?getapi",getLoginHistory:"/v2/api/?loginhistory",loginCheck:"/v2/api/?logincheck",getVerifyCodeStr:"/v2/?reggetcodestr",getRegSmsVerifyCodeStr:"/v2/?regsmscodestr",checkUserName:"/v2/?regnamesugg",checkPassword:"/v2/?regpwdcheck",checkMail:"/v2/?regmailcheck",isUserNoName:"/v2/api/?ucenteradduname",checkPhone:"/v2/?regphonecheck",getphonestatus:"/v2/?getphonestatus",sendPhoneCode:"/v2/?regphonesend",multiBind:"/v2/?multiaccountassociate",multiUnbind:"/v2/?multiaccountdisassociate",multiCheckUserName:"/v2/?multiaccountusername",multiGetaccounts:"/v2/?multiaccountget",multiSwitchuser:"/v2/?loginswitch",checkVerifycode:"/v2/?checkvcode",getRsaKey:"/v2/getpublickey",authwidGetverify:"/v2/sapi/authwidgetverify",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert",checkIDcardState:"/v3/finance/main/checkupcert"},u={login:"/v2/api/?login",reg:"/v2/api/?reg",fillUserName:"/v2/api/?ucenteradduname",regPhone:"/v2/api/?regphone",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert"},f={getApiInfo:{apiType:"class"},login:{memberPass:"mem_pass",safeFlag:"safeflg",isPhone:"isPhone",timeSpan:"ppui_logintime",logLoginType:"logLoginType"},fillUserName:{selectedSuggestName:"pass_fillinusername_suggestuserradio",timeSpan:"ppui_fillusernametime"},reg:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"},regPhone:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"}},m={loginCheck:{isPhone:function(e){return e?"true":"false"}},login:{memberPass:function(e){return e?"on":""}}},h={checkPassword:{fromreg:1},reg:{registerType:1,verifypass:function(e){return e.password}}},v={password:!0},y={login:function(){}},w={checkUserName:"reg",checkMail:"reg",checkPhone:"regPhone",sendPhoneCode:"regPhone",multiCheckUserName:"multiBind",multiSwitchuser:"changeUser",checkVerifycode:"checkVerifycode"},C=e.err.getCurrent().errMsg||e.err.getCurrent(),_={};t.setContext=function(e){_.product=e.product||_.product,_.charset=e.charset||_.charset,_.staticPage=e.staticPage||_.staticPage,_.token=e.token||_.token,_.subpro=e.subpro||_.subpro},t.traceID={headID:t.traceID&&t.traceID.headID||"",flowID:t.traceID&&t.traceID.flowID||"",cases:t.traceID&&t.traceID.cases||"",initTraceID:function(e){var t=this;e&&e.length>0?(t.headID=e.slice(0,6),t.flowID=e.slice(6,8)):t.destory()},createTraceID:function(){var e=this;return e.headID+e.flowID+e.cases},startFlow:function(e){var t=this,n=t.getFlowID(e);0===t.flowID.length||t.flowID===n?(t.createHeadID(),t.flowID=n):t.finishFlow(n)},finishFlow:function(){var e=this;e.destory()},getRandom:function(){return parseInt(90*Math.random()+10,10)},createHeadID:function(){var e=this,t=(new Date).getTime()+e.getRandom().toString(),n=Number(t).toString(16),a=n.length,s=n.slice(a-6,a).toUpperCase();e.headID=s},getTraceID:function(e){var t=this,n=e&&e.traceid||"";t.initTraceID(n)},getFlowID:function(e){var t={login:"01",reg:"02"};return t[e]},setData:function(e){var t=this;return e.data?e.data.traceid=t.createTraceID():e.url=e.url+(e.url.indexOf("?")>-1?"&":"?")+"traceid="+t.createTraceID(),e},destory:function(){var e=this;e.headID="",e.flowID=""}};for(var b in p)p.hasOwnProperty(b)&&(t[b]=a(b,p[b]));for(var b in u)u.hasOwnProperty(b)&&(t[b]=a(b,u[b],!0));t.jsonp=function(e,t){return 0!=e.indexOf("http")&&(e=g+e),t=t||{},t.flag_code&&1==t.flag_code||(t.apiver="v3"),t.tt=(new Date).getTime(),d.jsonp(e,t,{charset:"utf-8",processData:function(e){return i(e)}})},t.post=function(e,t){return t=t||{},"wap"!==t.apitype&&(e=g+e),t.staticpage=t.staticpage||_.staticPage,t.charset=t.charset||_.charset||document.characterSet||document.charset||"",t.token=t.token||_.token,t.tpl=t.tpl||_.product,d.submit(e,t,{charset:"utf-8",processData:function(e){return i(e)}})},t.request=d}(e.data),n.passport=t.lang.createClass(function(){this._validateInfo={}},{type:"magic.passport",superClass:n.Base}).extend({_getRegularField:function(e){var t=e.pwd?"password":"text",n=this,a='autocomplete="off"',s=e.maxLength?'maxlength="'+e.maxLength+'"':"",r=e.tip?e.tip:"",o=e.value?e.value:"",i=e.field+""=="verifycode"?"none":"",c="";c="text"===t?'<input type="text" style="display:none;">':'<input type="password" style="display: none;">';var l='<p id="'+n.$getId(e.field+"Wrapper")+'" class="pass-form-item pass-form-item-'+e.field+'" style="display:'+i+'">'+(e.label?'<label for="'+n.$getId(e.field)+'" id="'+n.$getId(e.field+"Label")+'" class="pass-label pass-label-'+e.field+'">'+e.label+"</label>":"")+c+'<input id="'+n.$getId(e.field)+'" type="'+t+'" name="'+e.field+'" class="pass-text-input pass-text-input-'+e.field+'" '+s+(e.placeholder?'placeholder="'+e.placeholder+'" ':"")+a+(e.disabled?'" disabled':"")+' value="'+o+'"/>'+(e.noError?"":'<span id="'+n.$getId(e.field+"Error")+'" class="pass-item-error pass-item-error-'+e.field+'"></span>')+(e.hasSucc?'<span id="'+n.$getId(e.field+"Succ")+'" class="pass-item-succ pass-item-succ-'+e.field+'" style="display:none;"></span>':"")+'<span id="'+n.$getId(e.field+"Tip")+'" class="pass-item-tip pass-item-tip-'+e.field+'" style="display:none"><span id="'+n.$getId(e.field+"TipText")+'" class="pass-item-tiptext pass-item-tiptext-'+e.field+'">'+r+"</span></span></p>";return l},_getHiddenField:function(e,t){var n,a=this,s='<p id="'+a.$getId(t||"hiddenFields")+'" style="display:none">';for(var r in e)e.hasOwnProperty(r)&&(n="string"==typeof e[r]?e[r].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;"):e[r],s+='<input type="hidden" id="'+a.$getId((t?t+"_":"")+r)+'" name="'+r+'" value="'+n+'" />');return s+="</p>"},_setEvent:function(){var e=this,n=this.getElement(),a=function(t){e._eventHandler.entrance.apply(e,[t])};t(e.getElement()).on("resize",function(){var e=(navigator.userAgent,!navigator.userAgent.match(/OS [1-8]_\d[_\d]* like Mac OS X/i)),t=!!navigator.userAgent.toString().match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=navigator.userAgent.toString().indexOf("iPad");if(e&&t&&null!=n){var a=document.getElementsByClassName("popBox");null!=a&&a.length>0&&(a[0].style.height=window.screen.height>document.body.clientHeight?window.screen.height*(window.screen.height/document.body.clientHeight)+120+"px":window.screen.height*(window.screen.height/document.body.clientHeight))}}),t(e.getElement("form")).on("submit",a),t(e.getElement("license")).on("click",a),t(e.getElement("verifyCodeChange")).on("click",a),t(e.getElement("verifyCodeSend")).on("click",a),t(e.getElement("smsVcodeSend")).on("click",a),t(n).delegate(".pass-suggest-item label","click",a),t(".pass-text-input",e.getElement()).on({focus:a,blur:a,change:a,keyup:a,mouseover:a,mouseout:a})},_validator:{confStorage:{},builtInMsg:{required:"请您输入%s",phone:"手机号码格式不正确",email:"邮箱格式不正确",idcard:"身份证格式不正确"},builtInRules:{required:/\S+/,phone:/^1[3456789]\d{9}$/,email:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,idcard:/(^\d{15}$)|(^\d{17}(\d|X|x)$)/},init:function(e,t){this.confStorage[e.$getId()]=t},validate:function(e,t,n,a){var s=e.getElement(t),r={field:t},o=/^\s*(.+?)\s*$/;if(!s||0===+s.offsetHeight)return!1;for(var i=s.value.replace(o,"$1"),c=this.confStorage[e.$getId()][t],l=c.rules,d=0,g=l.length;g>d;d++){var p,u=l[d],f=this.builtInRules[u];if(p="[object function]"===Object.prototype.toString.call(f).toLowerCase()?f.call(e,s,a):new RegExp(f).test(i),!p)return r.error=!0,e._validateInfo[t]=0,r.msg=this.builtInMsg[u].replace(/\%s/,c.desc),e._validateError(r),void n.error(r)}c.asyncRule?c.asyncRule.call(e,{success:function(a){r.error=!1,r.data=a.data,e._validateInfo[t]=1,e._validateSuccess(r),n.success(r)},error:function(a){r.error=!0,e._validateInfo[t]=0,r.msg=a.msg,e._validateError(r),n.error(r)}},a):(r.error=!1,e._validateInfo[t]=1,e._validateSuccess(r),n.success(r))},validateAll:function(e,t,n){function a(){i=!0,o?t&&t.error(c):t&&t.success(c)}var s=this.confStorage[e.$getId()],r=0,o=!1,i=!1,c=[],l=this._getActiveValidate(e,!0);for(var d in s){if(i)break;this.validate(e,d,{success:function(e){r++,c.push(e),r===l&&a()},error:function(e){return o=!0,r++,c.push(e),n?void a():void(r===l&&a())}},"all")}},_getActiveValidate:function(e,t){var n=this.confStorage[e.$getId()],a=[];for(var s in n){var r=e.getElement(s);r&&0!==r.offsetHeight&&a.push(r)}return t?a.length:a},addRule:function(e,n){var a={};a[e]=n,t.extend(this.builtInRules,a)},addMsg:function(e,n){var a={};a[e]=n,t.extend(this.builtInMsg,a)}},validate:function(e,n){var a=this,s=a.fireEvent("beforeValidate",{validate:{field:e,ele:t(a.getElement(e))}});s&&a._validator.validate(a,e,{success:function(e){var t=a.fireEvent("validateSuccess",{validate:e});t&&n&&n.success&&n.success(e)},error:function(e){var t=a.fireEvent("validateError",{validate:e});t&&n&&n.error&&n.error(e)}})},validateAll:function(e,t){var n=this;t="boolean"==typeof e?e:t?t:!1;var a=n.fireEvent("beforeValidateAll");a&&n._validator.validateAll(n,{success:function(t){var a=n.fireEvent("validateAllSuccess",{validates:t});a&&e&&e.success&&e.success(t)},error:function(t){var a=n.fireEvent("validateAllError",{validates:t});a&&e&&e.error&&e.error(t)}},t)},getValidateStatus:function(e){return this._validateInfo.hasOwnProperty(e)?this._validateInfo[e]:-1},setValidateSuccess:function(e){var t=this;t._validateInfo[e]=1,t._validateSuccess({field:e})},setValidateError:function(e,t,n){var a=this;a._validateInfo[e]=0,a._validateError({field:e,msg:t},n)},setGeneralError:function(e){this.getElement("error").innerHTML=e},clearGeneralError:function(){this.getElement("error").innerHTML=""},_isSupportPlaceholder:function(){return"placeholder"in document.createElement("input")},_getPlaceholder:function(e){for(var n=this,a={},s="",r={},o=0;o<e.length;o++)s=n.lang[e[o].placeholder],0!==+e[o].clearbtn&&(r[o]=t('<span id="'+n.$getId(e[o].label+"_clearbtn")+'" class="pass-clearbtn pass-clearbtn-'+e[o].label+'" style="display:none;"></span>'http://passport.baidu.com/passApi/js/),t(n.getElement(e[o].label)).after(r[o])),n._isSupportPlaceholder()&&!t.browser.ie?t(n.getElement(e[o].label)).attr({placeholder:s}):(a[o]=t('<span id="'+n.$getId(e[o].label+"_placeholder")+'" class="pass-placeholder pass-placeholder-'+e[o].label+'">'+s+"</span>"),t(n.getElement(e[o].label)).after(a[o])),n._rendEventPlaceholder(n.getElement(e[o].label),a[o],r[o])},_getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},_logPass:function(e,t){function n(e){var t,n,a,s,r,o,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=e.length,n=0,t="";a>n;){if(s=255&e.charCodeAt(n++),n===a){t+=i.charAt(s>>2),t+=i.charAt((3&s)<<4),t+="==";break}if(r=e.charCodeAt(n++),n===a){t+=i.charAt(s>>2),t+=i.charAt((3&s)<<4|(240&r)>>4),t+=i.charAt((15&r)<<2),t+="=";break}o=e.charCodeAt(n++),t+=i.charAt(s>>2),t+=i.charAt((3&s)<<4|(240&r)>>4),t+=i.charAt((15&r)<<2|(192&o)>>6),t+=i.charAt(63&o)}return t}var a=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&v="+(new Date).getTime(),s="";for(var r in t)s=s+r+":"+t[r]+",";s=n("{"+s.substring(0,s.length-1)+"}");for(var o in e)e.hasOwnProperty(o)&&(a+="&"+o+"="+e[o]);if(a+="&source=pc",a+="&auto_statistic="+s+"&auto_en="+t.eventType){var i=new Image;i.onload=i.onerror=function(){i.onload=i.onerror=null,i=null},i.src=a}},logClickLink:function(e,t){e=e||{},e=this.formatLogData(e);var n=t.target||t.srcElement,a=n&&n.getAttribute&&n.getAttribute("target"),s="_self"===a||null===a,r=this.makeImgSrc(e);if(s&&(t.preventDefault?t.preventDefault():t.returnValue=!1),window.navigator.sendBeacon&&s)window.navigator.sendBeacon(r),window.location.href=n.getAttribute("href");else if(s)this.lazyLog(n,r,null);else{var o=new Image;o.onload=o.onerror=function(){o.onload=o.onerror=null,o=null},o.src=r}},logCallBack:function(e,t){e=e||{},e=this.formatLogData(e);var n=this.makeImgSrc(e);this.lazyLog({},n,t)},formatLogData:function(e){var n=this.config||{};return t.extend({},{page:e.logPage||"",source:"pc-api",tpl:n.product||"",subpro:n.subpro||"",extrajson:n.extrajson||"",data_source:"fe"},e)},makeImgSrc:function(e){var t=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&v="+(new Date).getTime(),n="";for(var a in e)e.hasOwnProperty(a)&&(n+="en"!==a?"&"+a+"="+e[a]:"&auto_en="+e[a]);var s="{eventType:"+(e.en||"")+"}";return s=this.base64encode(s),t+="&auto_statistic="+s,t+="&auto_en="+(e.en||""),t+=n},lazyLog:function(e,t,n){function a(){n?n():window.location.href=s}var s=e.getAttribute&&e.getAttribute("href"),r=new Image,o=setTimeout(function(){r.onload=r.onerror=r=null,a("imgTimeout")},200);r.onload=r.onerror=function(){clearTimeout(o),r.onload=r.onerror=r=null,a("imgSuccess")},r.src=t},base64encode:function(e){var t,n,a,s,r,o,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=e.length,n=0,t="";a>n;){if(s=255&e.charCodeAt(n++),n===a){t+=i.charAt(s>>2),t+=i.charAt((3&s)<<4),t+="==";break}if(r=e.charCodeAt(n++),n===a){t+=i.charAt(s>>2),t+=i.charAt((3&s)<<4|(240&r)>>4),t+=i.charAt((15&r)<<2),t+="=";break}o=e.charCodeAt(n++),t+=i.charAt(s>>2),t+=i.charAt((3&s)<<4|(240&r)>>4),t+=i.charAt((15&r)<<2|(192&o)>>6),t+=i.charAt(63&o)}return t},_rendEventPlaceholder:function(e,n,a){if(e||a){var s,r,o=this,i=function(e){1===+e?(n&&n[0]&&o.$hide(n[0]),a&&a[0]&&o.$show(a[0])):(n&&n[0]&&o.$show(n[0]),a&&a[0]&&o.$hide(a[0]))};setTimeout(function(){e&&e.value&&i(1)},200),t(n).on("mousedown",function(){r=!0,clearTimeout(s),s=setTimeout(function(){o.suggestionDom&&"none"!==o.suggestionDom.style.display||e.focus()},0)}),t(a).on("click",function(){e.value="",i(0),e.focus(),o.suggestionDom&&(o.suggestionDom.data_delete=!0,setTimeout(function(){o.suggestionDom.data_delete=!1
},200))}),t(e).on("keyup",function(){i(e.value?1:0)}),t(e).on("focus",function(){window.inputCheckTimer=setInterval(function(){e.value.length?(i(1),clearInterval(window.inputCheckTimer)):i(0)},30)})}},SBCtoDBC:function(e){var t="";if(e){for(var n=e.length,a=0;n>a;a++){var s=e.charCodeAt(a);s=s>=65281&&65374>=s?s-65248:s,s=12288==s?32:s,t+=String.fromCharCode(s)}return t}},hide:function(){this.getElement().style.display="none"},show:function(){this.getElement().style.display="block"},_analysis:function(e,t){return window.passport.analysis&&window.passport.analysis[this.module]&&window.passport.analysis[this.module][e]?(window.passport.analysis[this.module][e](this,t),{preventDefault:!1,preventEvent:!1}):void 0},_hook:function(e,t){return window.passport.hook&&window.passport.hook[this.module]&&window.passport.hook[this.module][e]?window.passport.hook[this.module][e](this,t):{preventDefault:!1,preventEvent:!1}},fireEvent:function(e,t){var n=this._hook(e,t),a=!0;return n.preventEvent||(a=this.fire(e,t)),!n.preventDefault&&a},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):""}}),n.passport.reg=t.lang.createClass(function(n){var a=this;a.config={isPhone:!1,userName:!1,staticPage:"",u:"",retu:"",passwordConfirm:!1,product:"",charset:"",lang:"zh-CN",isexchangeable:0,subpro:"",nocaptcha:!1,isVoiceSms:0},t.object.extend(a.config,n),this.module="reg",this.guideRandom=function(){return"xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}).toUpperCase()}(),a._domain={https:"https://passport.baidu.com",http:"http://passport.baidu.com/",auto:window.location?"https:"===window.location.protocol.toLowerCase()?"https://passport.baidu.com":"http://passport.baidu.com/":"https:"===document.location.protocol.toLowerCase()?"https://passport.baidu.com":"http://passport.baidu.com/",wapAuto:window.location?"https:"===window.location.protocol.toLowerCase()?"https://wappass.baidu.com":"http://wappass.baidu.com/":"https:"===document.location.protocol.toLowerCase()?"https://wappass.baidu.com":"http://wappass.baidu.com/"},a.constant={CONTAINER_CLASS:"tang-pass-reg",FOCUS_CLASS:"pass-text-input-focus",HOVER_CLASS:"pass-text-input-hover",ERROR_CLASS:"pass-text-input-error",DISABLED_CLASS:"pass-text-input-disabled",VERIFYCODE_URL_PREFIX:a._domain.https+"/cgi-bin/genimage?",BLANK_IMG_URL:e.apiDomain.staticDomain+"/passApi/img/small_blank.gif",PROTOCAL_URL:a._domain.http+"/static/passpc-account/html/protocal.html",MODIFY_PWD_URL_PREFIX:a._domain.https+"/forcsdnpasschange",PERSONAL_PROTOCAL_URL:"https://www.baidu.com/duty/yinsiquan.html",NOCAPTCHA_URL:a._domain.auto+"/static/passpc-base/js/ld.min.js?cdnversion="+(new Date).getTime(),TOUCHAPIMKD_URL:a._domain.wapAuto+"/static/touch/js/api/wrapper_touch.js?cdnversion="+(new Date).getTime()},a.lang=e.err.getCurrent().labelText.reg,a.AccountExchangeFlag=0,a.initTime=(new Date).getTime(),a.insertNoCaptchaScript(),a.initMkd(),a.config.overseas&&1===+a.config.overseas&&(this.foreignMobile=!0),this.internation=!1,a.config.regMergeUserName=!1,a.config.userName=1,e.data.setContext(t.extend({},a.config)),this.isBrowser=/passport\.baidu\.com/gi.test(window.location.href),a.sendLog=function(e,t,n){var a={page:e.isBrowser?"pc-browser":"pc-inside",tpl:e.config.product||""};if(n)for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);var r={eventType:t};e._logPass(a,r)},a.sendLog(a,"pc-register-show",{})},{type:"http://passport.baidu.com/passApi/js/magic.passport.reg",superClass:n.passport}).extend({_getIrregularField:function(e){var t=this,n={verifyCode:'<p id="'+t.$getId("verifyCodeImgWrapper")+'" class="pass-form-item pass-form-item-verifyCode" style="display:none"><label for="'+t.$getId("verifyCode")+'" id="'+t.$getId("verifyCodeLabel")+'" class="pass-label pass-label-verifyCode">'+t.lang.captcha+'</label><input id="'+t.$getId("verifyCode")+'" type="text" name="verifyCode" class="pass-text-input pass-text-input-verifyCode" autocomplete="off" maxlength="6"/><span><img id="'+t.$getId("verifyCodeImg")+'" title="'+t.lang.captchaAlt+'" alt="'+t.lang.captchaAlt+'" class="pass-verifyCode" src="'+t.constant.BLANK_IMG_URL+'" /></span><a id="'+t.$getId("verifyCodeChange")+'" href="#" class="pass-change-verifyCode">'+t.lang.captchaChange+"</a>"+(t.config.regMerge?'<input id="'+t.$getId("verifyCodeSend")+'" type="button" value="'+t.lang.getSMSKey+'" class="pass-button pass-button-verifyCodeSend" autocomplete="off" style="display:none"/>':"")+(t.config.regMerge?'<span id="'+t.$getId("verifyCodeSendTip")+'" class="pass-item-tip pass-item-tip-verifyCodeSend" style="display:none;"></span>':"")+'<span id="'+t.$getId("verifyCodeError")+'" class="pass-item-error pass-item-error-verifyCode"></span><span id="'+t.$getId("verifyCodeTip")+'" class="pass-item-tip pass-item-tip-verifyCode" style="display:none;"><span id="'+t.$getId("verifyCodeTipText")+'" class="pass-item-tiptext pass-item-tiptext-verifycode">'+t.lang.captchaTip+"</span></span></p>",generalError:'<p id="'+t.$getId("errorWrapper")+'" class="pass-generalErrorWrapper"><span id="'+t.$getId("error")+'" class="pass-generalError"></span></p>',suggestName:'<div id="'+t.$getId("suggestNameWrapper")+'" class="pass-suggest-name"></div>',isAgree:'<p id="'+t.$getId("isAgreeWrapper")+'" class="pass-form-item pass-form-item-isAgree"><input name="isAgree" id="'+t.$getId("isAgree")+'" type="checkbox" class="pass-checkbox-input pass-checkbox-isAgree" autocomplete="off" /><label for="'+t.$getId("isAgree")+'">'+t.lang.agree+'</label><a target="_blank" href="'+t.constant.PROTOCAL_URL+'">'+t.lang.baiduUserProtocal+'</a></span>及<a target="_blank" href="'+t.constant.PERSONAL_PROTOCAL_URL+'">'+t.lang.baiduPersonalProtocal+'<a></span><span id="'+t.$getId("isAgreeError")+'" class="pass-item-error pass-item-error-isAgree"></span></p>',submit:'<p id="'+t.$getId("submitWrapper")+'" class="pass-form-item pass-form-item-submit"><input id="'+t.$getId("submit")+'" type="submit" value="'+t.lang.register+'" class="pass-button pass-button-submit" /></p>',tip:'<div id="'+t.$getId("tip")+'" class="pass-pop-tip" style="display:none"><div class="pass-pop-tip-header"></div><div class="pass-pop-tip-container"><div class="pass-pop-tip-body"><div class="pass-pop-tip-content" id="'+t.$getId("tipContainer")+'"></div></div></div></div>',verifyCodeSend:'<p id="'+t.$getId("verifyCodeSendWrapper")+'" class="pass-form-item pass-form-item-verifyCodeSend">'+(!t.config.regMerge&&t.config.isPhone?'<label for="'+t.$getId("verifyCode")+'" id="'+t.$getId("verifyCodeLabel")+'" class="pass-label pass-label-verifyCode">'+t.lang.captcha+"</label>":"")+(!t.config.regMerge&&t.config.isPhone?'<input id="'+t.$getId("verifyCode")+'" type="text"name="verifyCode" class="pass-text-input pass-text-input-verifyCode" autocomplete="off" maxlength="6"/>':"")+'<input id="'+t.$getId("verifyCodeSend")+'" type="button" value="'+t.lang.getSMSKey+'" class="pass-button pass-button-verifyCodeSend" autocomplete="off"/><span id="'+t.$getId("verifyCodeError")+'" class="pass-item-error pass-item-error-verifyCodeSend"></span><span id="'+t.$getId("verifyCodeSendTip")+'" class="pass-item-tip pass-item-tip-verifyCodeSend"></span></p>',nocaptchaContainer:'<div id="'+t.$getId("nocaptchaWrapper")+'" class="pass-nocaptcha"></div>',nocaptchaVCode:'<p id="'+t.$getId("verifyCodeSendWrapper")+'" class="pass-form-item pass-form-item-verifyCodeSend pass-captcha-resend-hide"><label for="'+t.$getId("verifyCode")+'" id="'+t.$getId("verifyCodeLabel")+'" class="pass-label pass-label-verifyCode">'+t.lang.captcha+'</label><input id="'+t.$getId("verifyCode")+'" type="text" name="verifyCode" class="pass-text-input" autocomplete="off" maxlength="6"/><input type="text" style="visibility:hidden;height:0px;border:none;float:left;"/><span id="'+t.$getId("verifyCodeResend")+'" class="pass-captcha-resend"></span><span id="'+t.$getId("verifyCodeError")+'" class="pass-item-error pass-item-error-verifyCodeSend"></span><span id="'+t.$getId("verifyCodeSendTip")+'" class="pass-item-tip pass-item-tip-verifyCodeSend"></span></p>',nocaptchaMargin:'<div style="height:40px"></div>',strengthTip:'<span id="'+t.$getId("strengthTip")+'"><span class="pwd-strength clearfix"><span class="strength-title">'+t.lang.strength+'</span><span id="'+t.$getId("strengthTipText")+'" class="strength-value pass-item-tiptext pass-item-tiptext-strength"></span><span class="strength-bg"><span class="strength-inner" id="'+t.$getId("strengthTipPic")+'"></span></span></span><span class="strength-explain">'+t.lang.strengthTip+"</span></span>",passwordCheck:'<div  id="'+t.$getId("passwordCheck")+' class="pass-pop-tip pass-pop-tip-passwordCheck"><ul id="'+t.$getId("passwordCheckList")+' class="pass-pop-tip-passwordCheck-list"></ul><span class="pass-pop-tip-passwordCheck-arrow"></span></div>',pwdChecklist:'<div class="pwd-checklist-wrapper"><span class="pwd-checklist-arrow"><em class="arrowa">◆</em><em class="arrowb">◆</em></span><ul id="'+t.$getId("pwdChecklist")+'" class="pwd-checklist"><li id="'+t.$getId("pwd_checklist_len")+'" data-rule="len" class="pwd-checklist-item">'+t.lang.pwdChecklist_len+'</li><li id="'+t.$getId("pwd_checklist_cha")+'" data-rule="cha" class="pwd-checklist-item">'+t.lang.pwdChecklist_cha+'</li><li id="'+t.$getId("pwd_checklist_spa")+'" data-rule="spa" class="pwd-checklist-item">'+t.lang.pwdChecklist_spa+"</li></ul></div>",foreignMobileWrapper:'<div class="pass-form-item pass-form-item-phone pass-form-item-PhoneCountry" id="'+t.$getId("foreignMobileWrapper")+'"><label for="'+t.$getId("phone")+'" id="'+t.$getId("phoneLabel")+'" class="pass-label pass-label-phone">'+t.lang.phoneNum+'</label><span id="'+t.$getId("foreignMobileLabel")+'" class="pass-foreign-label" data-countryCode="">+86</span><input id="'+t.$getId("phone")+'" type="text" name="phone" maxlength="11" autocomplete="off" class="pass-text-input pass-foreign-input"/><span id="'+t.$getId("phoneError")+'" class="pass-item-error pass-item-error-phone"></span><span id="'+t.$getId("phoneSucc")+'" class="pass-item-succ pass-item-succ-phone" style="display:none;"></span><span id="'+t.$getId("phoneTip")+'" class="pass-item-tip pass-item-tip-phone" style="display:none;"><span id="'+t.$getId("phoneTipText")+'" class="pass-item-tiptext pass-item-tiptext-phone">'+t.lang.phoneNumTip+'</span></span><ul id="'+t.$getId("foreignCountryList")+'" class="pass-country-list"></ul></div>',multiTip:'<div class="pass-multiTip" id="'+t.$getId("multiTip")+'" style="position:absolute;top:0px;left:0px;background:#ffffda;border:1px solid #d1b07c;border-radius:3px;z-index:5000;margin:0px;"><span class="pass-multiTip-text" style="display:block;padding:5px 10px;font-size:12px;color:#907448;">'+t.lang.multiTip+'</span><span class="pass-multiTup-arrow" style="position:absolute;bottom:6px;left:10px;"><em style="position:absolute;top:0px;left:0px;color:#d1b07c;font-style:normal;font-size:12px;line-height:14px;">◆</em><em style="position:absolute;top:-1px;left:0px;color:#ffffda;font-style:normal;font-size:12px;line-height:14px;">◆</em></span></div>',dvInput:'<input type="hidden" node-type="_username" id="_username" name="_username" value=""><input type="hidden" node-type="_regpass" id="_regpass" name="_regpass" value=""><input type="hidden" node-type="_rsakey" id="_rsakey" name="_rsakey" value=""><input type="hidden" node-type="_regfrom" id="_regfrom" name="_regfrom" value="reg">'};return n[e]},_getTemplate:function(){var e=this,t='<form autocomplete="off" id="'+e.$getId("form")+'" method="POST">',n={retu:e.config.retu,u:e.config.u,quick_user:e.config.isPhone||0!=!!e.config.email?0:1,regMerge:e.config.regMerge?!0:!1,suggestIndex:"",suggestType:"",codeString:"",vcodesign:"",vcodestr:"",gid:e.guideRandom||"",app:e.config.app?e.config.app:"",staticPage:e.config.staticPage,selectedSuggestName:"",isLowpwdCheck:e.config.isLowpwdCheck,logRegType:e.config.diaPassreg?"pc_regDialog":"pc_regBasic",isexchangeable:e.config.isexchangeable,exchange:e.AccountExchangeFlag,subpro:e.config.subpro},a=[];e.config.userName&&a.push({field:"userName",label:e.lang.userName,tip:e.lang.userNameTip,hasSucc:!0}),e.config.regMerge?a.push({field:"account",label:e.config.regMergeUserName?e.lang.account_username:e.lang.account,tip:e.config.regMergeUserName?e.lang.accountTip_username:e.lang.accountTip,hasSucc:!0}):e.config.isPhone?e.foreignMobile||a.push({field:"phone",label:e.lang.phoneNum,tip:e.lang.phoneNumTip,maxLength:11,hasSucc:!0}):0!=!!e.config.email&&a.push({field:"email",label:e.lang.email,tip:e.lang.emailTip,hasSucc:!0}),e.config.nocaptcha&&a.push({field:"nocaptchaVCode"}),a.push({field:"password",pwd:!0,label:e.lang.password,hasSucc:!0}),e.config.passwordConfirm&&a.push({field:"verifyPass",pwd:!0,label:e.lang.confirmPassword,hasSucc:!0}),t+=e._getIrregularField("generalError"),t+=e._getHiddenField(n),t+=e._getIrregularField("dvInput"),!e.config.regMerge&&e.config.isPhone&&e.foreignMobile&&(t+=e._getIrregularField("foreignMobileWrapper"));for(var s=0; s<a.length; s++)a[s].field+""!="nocaptchaVCode"?("password"===a[s].field&&(t+='<input type="password" name="password" style="display:none"/>'),t+=e._getRegularField(a[s],"reg")):(t+=e._getIrregularField("nocaptchaContainer"),t+=e._getIrregularField(a[s].field));return e.config.regMerge||!e.config.isPhone||e.config.nocaptcha||(t+=e._getIrregularField("verifyCodeSend")),e.config.verifyCode!==!1&&(e.config.isPhone||(t+=e._getIrregularField("verifyCode"))),t+=e._getIrregularField("isAgree"),t+=e._getIrregularField("submit"),t+=e._getIrregularField("tip"),e.config.nocaptcha&&(t+=e._getIrregularField("nocaptchaMargin")),t+="</form>"},initMkd:function(){var e=this;e.insertScriptW(e.constant.TOUCHAPIMKD_URL,function(){window.passportTouch.use("mkd",{defaultCss:!0},function(){if(window.Pass&&window.Pass.mkd&&!e.regPassMkd){var t=window.Pass.mkd;e.regPassMkd=new t({maskModule:!0,ak:"1e3f2dd1c81f2075171a547893391274",verifySuccessFn:function(t){e._sendSMSVcode(null,null,{success:function(){e.disableSmsButton()}},null,t),e.regPassMkd.removeMask()}})}})})},insertNoCaptchaScript:function(){var e=this;e.insertScriptW(e.constant.NOCAPTCHA_URL,function(){})},insertScriptW:function(e, t){if(window._loadedFilesW=window._loadedFilesW||{},!window._loadedFilesW[e]){window._loadedFilesW[e]=!0;var n=document,a=n.createElement("SCRIPT");a.type="text/javascript",a.charset="UTF-8",a.readyState?a.onreadystatechange=function(){("loaded"===a.readyState||"complete"===a.readyState)&&(a.onreadystatechange=null,t&&t())}:a.onload=function(){t&&t()},a.src=e,n.getElementsByTagName("head")[0].appendChild(a)}},getVerifyCode:function(t){var n=this;n.config.verifyCode!==!1&&(n.getElement("verifyCodeImg").src="",t&&t.length?(n.getElement("verifyCodeImgWrapper").style.display="block",n.getElement("verifyCodeImg").src=n.constant.VERIFYCODE_URL_PREFIX+t,n.getElement("codeString").value=t):e.data.getVerifyCodeStr({app:n.config.app?n.config.app:""}).success(function(e){0===+e.errInfo.no&&(n.getElement("verifyCodeImgWrapper").style.display="block",n.getElement("verifyCodeImg").src=n.constant.VERIFYCODE_URL_PREFIX+e.data.verifyStr,n.getElement("codeString").value=e.data.verifyStr)}),n.getElement("verifyCode")&&(n.getElement("verifyCode").value=""),n.getElement("verifyCode_clearbtn")&&(n.getElement("verifyCode_clearbtn").style.display="none"))},_loadWCss:function(){if(!e.loadWCss){e.loadWCss=!0;var t=".pass-item-placeholder{color: #ABABAB;cursor: text;display: block;font-size: 12px;height: 20px;left: 163px;line-height: 20px;position: absolute;top: 5px;width: 160px;}.pass-item-placeholder-inactive{color:#ccc;}",n=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(n);try{n.innerHTML=t}catch(a){try{n.styleSheet.cssText=t}catch(a){}}}},_setPlaceholder:function(){function e(){i.getElement(a).focus()}function n(){i.getElement(a).value.length&&(s.hide(),clearInterval(o))}var a,s,r,o,i=this;(i.config.isPhone||0!=!!i.config.email||i.config.regMerge)&&(i._loadWCss(),i.config.regMerge?a="account":i.config.isPhone?a="phone":0!=!!i.config.email&&(a="email"),a&&(s=t('<span class="pass-item-placeholder" id="'+i.$getId("Placeholder")+'">'+(i.config.regMerge?i.config.regMergeUserName?i.lang.regMergePlaceholder_username:i.lang.regMergePlaceholder:i.lang.placeholder)+"</span>"),r=t(i.getElement(a+"Wrapper")),r.append(s),s.on("click",e),t(i.getElement(a)).on("focus",function(){s.addClass("pass-item-placeholder-inactive"),o=setInterval(n,1)}),t(i.getElement(a)).on("blur",function(){s.removeClass("pass-item-placeholder-inactive"),clearInterval(o),i.getElement(a).value||s.show()}),n()))},render:function(e){var n=this;n.getElement()||n.$mappingDom("",e||document.body);var a=t(n.getElement()),s=n._getTemplate();a.addClass(n.constant.CONTAINER_CLASS),a.append(t(s));var r=n.fireEvent("render");r&&(n._initApi(),n._setValidator(),n._setEvent(),n._initNocaptcha(),n.foreignMobile&&(n._getCountryCode(),n._setForeignMobileEvent()),n.config.displayMail&&n._setSuggestion(),n.suggestion&&n.suggestion.hide(),n._setPwdStrengthTip(),n._setPlaceholder(),n._accountFocus())},_accountFocus:function(){var e=this;e.config.userName?e.getElement("userName").focus():e.config.regMerge?e.getElement("account").focus():e.config.isPhone&&e.getElement("phone").focus()},_bindShowPwdEvent:function(){var e=this,n=e.getElement("showpwdbtn_password");if(n){var a=e.getElement("showpwd_password");t(n).on("click",function(){a.style.display="none"!==a.style.display?"none":"block"})}},_showPasswordTip:function(){var e=this,n='<span class="pass-showpwd pass-showpwd-password" id="'+e.$getId("showpwd_password")+'" style="display:none"><span class="pass-showpwd-arrow"><em class="arrowa">◆</em><em class="arrowb">◆</em></span><span class="pass-showpwd-content" id="'+e.$getId("showpwd_password_content")+'">'+e.getElement("password").value+"</span></span>",a='<span class="pass-showpwdbtn pass-showpwdbtn-password" id="'+e.$getId("showpwdbtn_password")+'"></span>';t(e.getElement("passwordWrapper")).append(n).append(a),e._bindShowPwdEvent()},_initNocaptcha:function(){var e=this;if(e.config.nocaptcha&&window.NoCaptcha){var n=60,a=null,s=function(){if(a&&(clearTimeout(a),a=null),0>=n){t("#"+e.$getId("verifyCodeResend")).removeClass("pass-captcha-resend-disabled").text("重新获取验证码");var r=e.getElement(e.config.regMerge?"account":"phone");t("#"+e.$getId("phoneWrapper")).removeClass("pass-captcha-disabled"),r.readOnly=!1}else t("#"+e.$getId("verifyCodeResend")).text(n+"s 后重新发送"),n--,a=setTimeout(function(){s()},1e3)};t("#"+e.$getId("verifyCodeResend")).on("click",function(){-1===this.className.indexOf("pass-captcha-resend-disabled")&&e._sendSMSVcode(null,null,{success:function(){e.nocaptcha.sendSMS()}})}),e.nocaptcha=NoCaptcha.create({dom:t("#"+e.$getId("nocaptchaWrapper")),hideDisplay:!0,lang:{SLIDE_TIP:"拖动右侧图片完成拼图以获取验证码"},success:function(t,n){t.cancelTip=!0,e._sendSMSVcode(null,null,{success:function(){e.nocaptcha.tip("验证码已发送到你的手机",!0),setTimeout(function(){e.nocaptcha.hide()},2e3),e.nocaptcha.sendSMS()},error:function(t){var n=/<a.*>(.*)<\/a>/gi,a=t.match(n),s=t.replace(a,"");e.nocaptcha.tip(s,!1),setTimeout(function(){e.nocaptcha.hide(),e.nocaptcha.refresh()},2e3)},validate:function(){e.nocaptcha.hide(),e.nocaptcha.refresh()}},n)}}),e.nocaptcha.sendSMS=function(){var a=e.getElement(e.config.regMerge?"account":"phone");e.nocaptcha.phone=a.value;var r=t("#"+e.$getId("verifyCodeResend"));r.addClass("pass-captcha-resend-disabled").text(""),t("#"+e.$getId("verifyCodeSendWrapper")).removeClass("pass-captcha-resend-hide"),n=60,s(),t("#"+e.$getId("phoneWrapper")).addClass("pass-captcha-disabled"),a.readOnly=!0}}},_showNocaptcha:function(e, n){var a=this;a.config.nocaptcha&&a.nocaptcha&&(e?a.nocaptcha.phone?a.nocaptcha.phone!==n.value&&(a.nocaptcha.refresh(),a.nocaptcha.show(),t("#"+a.$getId("verifyCodeSendWrapper")).addClass("pass-captcha-resend-hide")):a.nocaptcha.init?a.nocaptcha.show():a.nocaptcha.sendSMS():a.nocaptcha.hide())},_initApi:function(n){var a=this;a.initTime=(new Date).getTime(),a.unbindRegConfirm=null,a.changeRegConfirm=null,a.confirmRegVerifyWidget=null,e.data.getApiInfo({apiType:a.config.isPhone?"regPhone":"reg",gid:a.guideRandom||"",app:a.config.app?a.config.app:""}).success(function(s){var r=a.fireEvent("getApiInfo",{rsp:s});if(r&&(1===+s.data.disable&&a.setGeneralError(a.lang.sysUpdate),0===+s.errInfo.no)){var o=s.data.token,i=s.data.codeString;e.data.setContext({token:o}),i&&i.length&&a.getVerifyCode(i),a.config.regMerge?(a.config.hasPlaceholder&&a._getPlaceholder([{label:"account",placeholder:a.config.regMergeUserName?"regMergePlaceholder_username":"regMergePlaceholder"},{label:"password",placeholder:"passwordPlaceholder"},{label:"verifyCode",placeholder:"verifyCodePlaceholder"},{label:"userName",placeholder:"userNamePlaceholder"}]),t(a.getElement("password_clearbtn")).on("mousedown",function(){t(a.getElement("pwd_checklist_len")).removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),t(a.getElement("pwd_checklist_cha")).removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),t(a.getElement("pwd_checklist_spa")).removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error")})):a.config.isPhone&&(a.config.hasPlaceholder&&a._getPlaceholder([{label:"phone",placeholder:"placeholder"},{label:"password",placeholder:"passwordPlaceholder"},{label:"verifyCode",placeholder:"verifyCodePlaceholder"},{label:"userName",placeholder:"userNamePlaceholder"}]),t(a.getElement("password_clearbtn")).on("mousedown",function(){var e=t(a.getElement("pwd_checklist_len"));e.removeClass("pwd-checklist-item-success"),e.removeClass("pwd-checklist-item-error");var n=t(a.getElement("pwd_checklist_cha"));n.removeClass("pwd-checklist-item-success"),n.removeClass("pwd-checklist-item-error");var s=t(a.getElement("pwd_checklist_spa"));s.removeClass("pwd-checklist-item-success"),s.removeClass("pwd-checklist-item-error")})),n&&n.success(s)}})},_setSuggestion:function(){var e=this;if(e.getElement(e.config.regMerge?"account":"email")&&n.setup.suggestion){var a={getData:function(n){var a=[],s=e.mainEmailSP,r=r===n.match(/(.*)@/)?r[1]:n,o=o===n.match(/\@(.*)$/)?o[1]:!1;t.each(s,function(e,t){o&&~t.indexOf(o)?a.push(r+"@"+t):o||a.push(r+"@"+t)}),this.receiveData(n,a)}};e.suggestion=n.setup.suggestion(e.$getId(e.config.regMerge?"account":"email"),a),e.config.regMerge&&e.suggestion.on("beforeshow",function(t){e.getElement("account")&&-1===e.getElement("account").value.indexOf("@")&&(t.returnValue=!1)}),e.suggestion.on("confirm",function(){e.getElement("password")&&e.getElement("password").focus(),e.config.regMerge||e.validate("email")}),e.suggestion.on("highlight",function(){e.suggestionHighlight=!0}),e.suggestion.on("clearhighlight",function(){e.suggestionHighlight=!1})}},_setValidator:function(){var e=this,n=e.mainEmailSP=["http://passport.baidu.com/passApi/js/qq.com","http://passport.baidu.com/passApi/js/163.com","http://passport.baidu.com/passApi/js/126.com","http://passport.baidu.com/passApi/js/sohu.com","http://passport.baidu.com/passApi/js/sina.com","http://passport.baidu.com/passApi/js/21cn.com","http://passport.baidu.com/passApi/js/vip.qq.com","http://passport.baidu.com/passApi/js/yeah.net"],a=n.join(")|(\\@").replace(/\./g,"\\.");a="((\\@"+a+"))$",a="^([a-zA-Z0-9_\\.\\-\\+])+"+a,e._validator.addRule("mailLength",function(e){return String(e.value).length<=60}),e._validator.addMsg("mailLength",e.lang.mailLengthError),e._validator.addRule("matchedPwd",function(e){return e.value===this.getElement("password").value}),e._validator.addMsg("matchedPwd",e.lang.matchPwdError),e._validator.addRule("emailLimit",function(e){return/([a-zA-Z0-9_\.\-\+])+\@(baidu|gmail|hotmail)\.com$/.test(e.value)?!1:!0}),e._validator.addMsg("emailLimit",e.lang.emailLimitError),e._validator.addRule("pwdChar",function(e){return/^([0-9a-zA-Z\_`!~@#$%^*+=,.?;'":)(}{/\\\|<>&\[\-]|\])+$/.test(e.value)}),e._validator.addMsg("pwdChar",e.lang.pwdCharError),e._validator.addRule("pwdLength",function(e){var t=e.value.length;return 14>=t&&t>=8}),e._validator.addMsg("pwdLength",e.lang.pwdLengthError),e._validator.addRule("passwordStrength",function(e){var t=e.value.length;return t>0}),e._validator.addMsg("passwordStrength",e.setPwdCheckStren(3)),e._validator.addRule("checkedLicense",function(e){return e.checked}),e._validator.addMsg("checkedLicense",e.lang.checkLicenseError),e._validator.addRule("userNameLength",function(e){var n=t.string.getByteLength(e.value);return 14>=n}),e._validator.addMsg("userNameLength",e.lang.userNameRulesError),e._validator.addRule("userNameNumber",function(e){return t.string.getByteLength(e.value),!/^\d+$/.test(e.value)}),e._validator.addMsg("userNameNumber",e.lang.userNameNumberError),e._validator.addRule("accountMerge",function(e){var t=e.value;return/^(([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+)|(1[3456789]\d{9})$/.test(t)?!0:!1}),e._validator.addMsg("accountMerge",e.lang.accountMergeError),e.validateRules={account:{rules:["required"],desc:e.lang.account},email:{rules:["required","mailLength","email","emailLimit"],asyncRule:e._asyncValidate.checkEmail,desc:e.lang.email},phone:{rules:["required","phone"],asyncRule:e._asyncValidate.phoneCheck,desc:e.lang.phoneNum},userName:{rules:["required","userNameLength","userNameNumber"],asyncRule:e._asyncValidate.checkUserName,desc:e.lang.userName},password:{rules:e.config.hasPasswordcheck?["passwordStrength"]:e.config.isLowpwdCheck?["required"]:["required","pwdLength","pwdChar"],asyncRule:e.config.isLowpwdCheck?null:e._asyncValidate.checkPassword,desc:e.lang.password},verifyPass:{rules:["required","matchedPwd"],desc:e.lang.confirmPassword},verifyCode:{rules:["required"],desc:e.lang.captcha},smsCode:{rules:["required"],desc:e.lang.SMSKey},isAgree:{rules:["checkedLicense"]}},e._validator.init(e,e.validateRules),e.config.regMerge&&(e._validator.builtInMsg.email=e.lang.emailEmptyError,e._validator.builtInMsg.phone=e.lang.phoneEmptyError)},_validateError:function(e,n){var a=this,s=t(a.getElement(e.field));s.addClass(a.constant.ERROR_CLASS),t(a.getElement(e.field+"Succ")).hide(),t(a.getElement(e.field+"Error")).show().get(0).innerHTML=e.msg,a.config.regMerge&&"verifyCode"===e.field&&(t(a.getElement("verifyCodeSendTip")).hide().get(0).innerHTML=""),"password"===e.field||a.config.hasPasswordcheck?a.config.hasPasswordcheck||a.config.isLowpwdCheck||a.setPwdStrength(-1):a._hideTip(e.field),n&&n.callback&&n.callback()},_validateSuccess:function(e,n){var a=this,s=t(a.getElement(e.field));a.config.regMerge&&"password"===e.field||(t(a.getElement(e.field+"Error")).hide(),t(a.getElement(e.field+"Succ")).show(),s.removeClass(a.constant.ERROR_CLASS)),n&&n.callback&&n.callback()},setPwdCheckStren:function(e,n,a){var s=this,r=t(s.getElement("password")),o=t(s.getElement("passwordError")),i={3:{text:s.lang.nopwd,msg:s.lang.nopwdMsg,className:"nopwd"},2:{text:s.lang.weak,msg:s.lang.weakMsg,className:"weak"},1:{text:s.lang.middle,msg:s.lang.middleMsg,className:"middle"},0:{text:s.lang.strong,msg:s.lang.strongMsg,className:"strong"},"-1":{text:s.lang.weak,msg:s.lang.weakMsg,className:"weak"},5:{text:s.lang.notsafe,msg:s.lang.notsafeMsg,className:"notsafe"}},c='<span class="pwd-strength '+i[e].className+'"><span class="pwd-strength-sum"><em class="pwd-strength-bg">&nbsp;</em><em class="pwd-strength-sco">&nbsp;</em><span class="pwd-strength-title">'+i[e].text+'</span></span><span class="pwd-strength-detail">'+i[e].msg+"</span></span>";return o.show().get(0).innerHTML=c,3===+e&&o.hide(),2===+e||5===+e?(r.addClass(s.constant.ERROR_CLASS),s.getElement("passwordSucc").style.display="none"):a&&a.success(n),c},passwordCheckList:function(e){var n=this,a=t(n.getElement(e)),s=t(n.getElement("passwordTip")),r=(t(n.getElement(e+"tipText")),t(n.getElement("pwd_checklist_len"))),o=t(n.getElement("pwd_checklist_cha")),i=t(n.getElement("pwd_checklist_spa"));return s.show(),n.password={},n.password.err=0,a.val().length?(a.val().length>14||a.val().length<8?(n.password.err++,r.removeClass("pwd-checklist-item-success").addClass("pwd-checklist-item-error")):r.addClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),-1!==a.val().indexOf(" ")?(n.password.err++,i.removeClass("pwd-checklist-item-success").addClass("pwd-checklist-item-error")):i.addClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),void(a.val().length?o.addClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"):(n.password.err++,o.removeClass("pwd-checklist-item-success").addClass("pwd-checklist-item-error")))):(r.removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),o.removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),void i.removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"))},_getRSA:function(t){var n=this;e.data.getRsaKey({gid:n.guideRandom||""}).success(function(n){n.errInfo.no||0===+n.errInfo.no||(n=n.data);var a=new e.lib.RSA;a.setKey(n.pubkey),t&&t({RSA:a,rsakey:n.key})})},_initCountryCode:function(e){var n=this,a='<li class="pass-item-country"><span class="pass-country-code" data-countryCode="">+86</span>大陆地区</li>',s=n.countryCodeList||{},r=s.length;if(!(0>=r)){for(var o=0;r>o;o++)a+='<li class="pass-item-country"><span class="pass-country-code" data-countryCode='+s[o].code+">+"+s[o].code.substring(2)+"</span>"+s[o].name+"</li>";t(e).html(a)}},_getCountryCode:function(t){var n=this,a={apiver:"v3",subpro:n.config.subpro};e.data.jsonp("https://passport.baidu.com/v2/?securitygetcountrycode",a).success(function(e){e.data.country.length>0&&(n.countryCodeList=e.data.country,n.getElement("foreignCountryList")&&n._initCountryCode(n.getElement("foreignCountryList")),t&&t())})},_selectCountryList:function(){var e=this,n=e.getElement("foreignCountryList"),a=e.getElement("foreignMobileLabel");0!==+a.length&&(t(n).on("click",function(s){var r=s.target;if("li"===r.tagName.toLowerCase()){t(a).html(t(r).find("span.pass-country-code").eq(0).html());var o=t(r).find("span.pass-country-code").eq(0).attr("data-countryCode");t(a).attr("data-countryCode",o)}else"span"===r.tagName.toLowerCase()&&(t(a).html(t(r).html()),t(a).attr("data-countryCode",t(r).attr("data-countryCode")));e.$hide(n),t(a).removeClass("pass-label-code-up"),e.getElement("phone")&&e.getElement("phone").value&&(e.getElement("foreignMobileLabel")&&""!==t(e.getElement("foreignMobileLabel")).attr("data-countrycode")?(t(e.getElement("phone"))[0],e._validator.addRule("foreignmobile",function(e){return/^(\d)*$/.test(e.value)}),e._validator.addMsg("foreignmobile",e.lang.foreignMobileError),e._validator.confStorage[e.$getId()].phone={rules:["required","foreignmobile"],asyncRule:e._asyncValidate.phoneCheck,desc:e.lang.phoneNum}):e._validator.confStorage[e.$getId()].phone={rules:["required","phone"],asyncRule:e._asyncValidate.phoneCheck,desc:e.lang.phoneNum},e.validate("phone")),s.preventDefault()}),t(n).on("mouseover",function(e){var a=e.target;"li"===a.tagName.toLowerCase()?(t(n).find(".pass-item-country-hover").removeClass("pass-item-country-hover"),t(a).addClass("pass-item-country-hover")):"span"===a.tagName.toLowerCase()&&(t(n).find(".pass-item-country-hover").removeClass("pass-item-country-hover"),t(a).parent("li.pass-item-country").addClass("pass-item-country-hover"))}),t(n).on("mouseout",function(e){var n=e.target;"li"===n.tagName.toLowerCase()?t(n).removeClass("pass-item-country-hover"):"span"===n.tagName.toLowerCase()&&t(n).parent("li.pass-item-country").removeClass("pass-item-country-hover")}),t("html").on("click",function(s){var r=s.target;return a?void(t(r).attr("id")!==t(e.getElement("foreignMobileLabel")).attr("id")&&setTimeout(function(){e.$hide(n),t(a).removeClass("pass-label-code-up")},200)):!1}))},_setForeignMobileEvent:function(){var e=this;e.getElement("foreignMobileLabel")&&t(e.getElement("foreignMobileLabel")).on("click",function(n){var a=e.getElement("foreignCountryList");a&&"block"!==a.style.display?(e.$show(a),t(e.getElement("foreignMobileLabel")).addClass("pass-label-code-up")):a&&(e.$hide(a),t(e.getElement("foreignMobileLabel")).removeClass("pass-label-code-up")),e._selectCountryList(),n.preventDefault()})},setPwdStrength:function(e){var n=this,a={2:{text:n.lang.weak,className:"weak"},1:{text:n.lang.middle,className:"middle"},0:{text:n.lang.strong,className:"strong"},"-1":{text:"",className:""}};
n.getElement("strengthTipText").innerHTML=a[e].text,t(n.getElement("strengthTipPic")).removeClass("weak middle strong").addClass(a[e].className)},_setPwdStrengthTip:function(){var e=this,n=t(e.getElement(e.config.hasPasswordcheck?"pwdChecklist":"strengthTip")),a=t(e.getElement("passwordTipText"));e.config.isLowpwdCheck||(n.length||e.config.hasPasswordcheck?(n=t(e._getIrregularField("pwdChecklist")),a.append(n)):(n=t(e._getIrregularField("strengthTip")),a.append(n)))},_resetPwdStrengthTipPos:function(){var e=this;e._hideTip("password"),e._showTip("password")},_showTip:function(e){var n=this,a=t(n.getElement("tipContainer")),s=t(n.getElement("tip")),r=t(n.getElement(e)),o=n.getElement(e+"TipText"),i=t(n.getElement(e+"Succ")),c=t(n.getElement(e+"Error"));if(n.config.hasPasswordcheck&&"password"===e)n.getElement("passwordTip").style.display="block",a.empty(),n.getElement("passwordError").style.display="none";else{if(!o||!o.innerHTML.length)return!1;a.empty().append(o),c.hide(),i.hide()}s.css({left:420,top:r.offset().top-t(n.getElement()).offset().top});var l=n.fireEvent("tipShow",{tip:s});l&&s.show()},_hideTip:function(e){var n=this;if(!n.config.hasPasswordcheck||"password"!==e||!n.password||0===+n.password.err){n.config.hasPasswordcheck&&"password"===e?n.getElement("passwordTip").style.display="none":t(n.getElement(e+"Tip")).append(n.getElement(e+"TipText"));var a=n.fireEvent("tipHide");a&&t(n.getElement("tip")).hide()}},_showSuggestNames:function(e,n,a){var s=this;if(n!==s.suggestListKey){t(s.getElement("suggestNameWrapper")).length||t(s._getIrregularField("suggestName")).insertAfter(s.getElement(s.config.regMergeUserName?"accountWrapper":"userNameWrapper")),s.suggestListKey=n;var r=t(s.getElement("suggestNameWrapper"));if(e&&e.length){r.empty();for(var o=0,i=e.length;i>o;o++)r.append('<p class="pass-suggest-item"><label name="suggestName"><input name="suggestName" id="'+s.$getId("suggestName__"+o)+'" type="radio" class="pass-suggest-item-radio" value="'+e[o]+'" />'+e[o]+"</label></p>");s.getElement("suggestType").value=a}else r.empty();"block"===s.getElement("tip").style.display&&s._resetPwdStrengthTipPos()}},disableSmsButton:function(){function e(){if(0===--c)return s.value=i,t(s).removeClass(a.constant.DISABLED_CLASS),s.disabled=!1,a.unbindRegConfirm&&a.unbindRegConfirm.getElement("confirm_cancel")&&(t(a.unbindRegConfirm.getElement("confirm_cancel")).removeClass("pass-confirm-btn-disabled"),a.unbindRegConfirm.getElement("confirm_cancel").disabled=!1),void(o&&(o.innerHTML="",a.config.regMerge?t(o).hide():a.config.isPhone&&t(o).hide()));var e=arguments.callee;s.value=a.config.regMerge?a.lang.SMSKeyResendTipMerge+"("+c+")":c+a.lang.SMSKeyResendTip,n=setTimeout(function(){e()},1e3)}var n,a=this,s=a.getElement("verifyCodeSend"),r=a.getElement("verifyCodeError"),o=a.getElement("verifyCodeSendTip"),i=s.value,c=60;t(s).addClass(a.constant.DISABLED_CLASS),s.disabled=!0,a.unbindRegConfirm&&a.unbindRegConfirm.getElement("confirm_cancel")&&(t(a.unbindRegConfirm.getElement("confirm_cancel")).addClass("pass-confirm-btn-disabled"),a.unbindRegConfirm.getElement("confirm_cancel").disabled=!0),r&&(r.style.display="none"),o&&(o.innerHTML=a.config.isVoiceSms?a.lang.VoiceKeySendTip:a.lang.SMSKeySendTip,a.config.regMerge?t(o).show():a.config.isPhone&&t(o).show()),e()},_asyncValidate:{checkEmail:function(t){var n=this,a=n.getElement(n.config.regMerge?"account":"email"),s=hex_md5(a.value+"Moonshadow");s=s.replace(/o/,"ow").replace(/d/,"do").replace(/a/,"ad"),s=s.replace(/h/,"ha").replace(/s/,"sh").replace(/n/,"ns").replace(/m/,"mo"),e.data.checkMail({email:a.value,moonshad:s}).success(function(e){var a=n.fireEvent("emailCheck",{rsp:e});if(a)if(0===+e.errInfo.no)t&&t.success(e);else{if(e.errInfo.msg.indexOf("#{")>0){var s=n.getElement("account")?n.getElement("account").value:n.getElement("email").value;e.errInfo.msg=n._format(e.errInfo.msg,{urldata:"&account="+s+"&tpl="+n.config.product+"&u="+(n.config.retu||n.config.u)})}e.msg=e.errInfo.msg,t&&t.error(e)}})},checkPassword:function(n){var a=this,s=a.getElement("password"),r="",o="";if(!a.config.hasPasswordcheck||!a.password||0===+a.password.err){a.config.hasPasswordcheck&&a._hideTip("password"),a.getElement("userName")&&(r=a.getElement("userName").value||""),a.getElement("phone")&&(o=a.getElement("phone").value||"");var i=s.value||"";if(a.RSA&&a.rsakey){var c=s.value;c.length<128&&!a.config.safeFlag&&(i=t.url.escapeSymbol(a.RSA.encrypt(c)))}e.data.checkPassword({password:i,gid:a.guideRandom||"",rsakey:a.rsakey,crypttype:12,userName:r,mobile:o}).success(function(e){var t=a.fireEvent("passwordStrengthCheck",{rsp:e});if(t)if(0===+e.errInfo.no){var s=e.data.pwdWeak;e.msg=a.lang.weakPwdError,a.config.hasPasswordcheck?a.setPwdCheckStren(s,e,n):(a.setPwdStrength(s),2===+s?n&&n.error(e):n&&n.success(e))}else if(4===+e.errInfo.no){var s=e.data.pwdWeak;e.msg=a.lang.weakPwdError,a.setPwdCheckStren(s,e,n)}})}},checkUserName:function(t){var n=this,a=n.getElement(n.config.regMergeUserName?"account":"userName");e.data.checkUserName({gid:n.guideRandom||"",userName:a.value}).success(function(e){var s=n.fireEvent("userNameCheck",{rsp:e});s&&(0===+e.errInfo.no?1===+e.data.userExsit?(e.msg=n.lang.userNameExistsError,t&&t.error(e),n._showSuggestNames(e.data.suggNames,a.value,e.data.userType)):(n._showSuggestNames([],a.value,e.data.userType),t&&t.success(e)):(n._showSuggestNames([],a.value,e.data.userType),e.msg=e.errInfo.msg,t&&t.error(e)))})},phoneCheck:function(n){var a=this,s=this.getElement(a.config.regMerge?"account":"phone");a.AccountExchangeFlag=a.getElement("exchange").value;var r=hex_md5(s.value+"Moonshadow");r=r.replace(/o/,"ow").replace(/d/,"do").replace(/a/,"ad"),r=r.replace(/h/,"ha").replace(/s/,"sh").replace(/n/,"ns").replace(/m/,"mo"),e.data.checkPhone({phone:s.value,moonshad:r,countrycode:a.getElement("foreignMobileLabel")?t(a.getElement("foreignMobileLabel")).attr("data-countrycode")||"":"",gid:a.guideRandom||"",exchange:a.AccountExchangeFlag,isexchangeable:a.config.isexchangeable,action:"reg"}).success(function(r){var o=a.fireEvent("phoneCheck",{rsp:r});if(o)if("1"===r.data.isCheatUser?(a.config.isVoiceSms=parseInt(r.data.isCheatUser,10)||0,a.getElement("verifyCodeSend").value="获取语音验证码"):(a.config.isVoiceSms=0,a.getElement("verifyCodeSend").value="获取短信验证码"),0===+r.errInfo.no)n&&n.success(r),a.$multiTip&&a.$multiTip.hide();else if(r.errInfo.no+""=="130020"){var i=(!a.config.regMerge&&a.config.isPhone?"手机号":"手机号或邮箱","");a.getElement("foreignMobileLabel")&&(i=t(a.getElement("foreignMobileLabel")).html()),a.unbindRegConfirm&&a.unbindRegConfirm.hide(),a.changeRegConfirm?(t(a.getElement("changeRegPhone")).html(i+s.value),a.changeRegConfirm.show()):e._load(a._domain.auto+"/passApi/js/uni_wrapper.js",!0,function(){a.changeRegConfirm=e.pop.init({type:"confirmWidget",tangram:!0,width:390,apiOpt:{Cancel:"取消",Continue:"登录",contentHTML:'<div class="pass-confirmContent-wrapper"><div class="pass-confirmContent-msg">该手机已注册，可以通过密码或短信快捷登录。</div></div>'},onConfirmClose:function(){a.changeRegConfirm.hide(),s.value="",s.focus()},onConfirmCancel:function(){a.changeRegConfirm.hide(),s.value="",s.focus()},onConfirmContinue:function(){var e=s.value,t="http://passport.baidu.com/v2/?login&account="+e+"&tpl="+a.config.product+"&u="+(a.config.retu||a.config.u);a.changeRegConfirm.hide(),window.location?window.location.href=t:document.location.href=t}}),a.changeRegConfirm.show()})}else if(r.errInfo.no+""=="400005"||r.errInfo.no+""=="400001"||r.errInfo.no+""=="400003"){a.changeRegConfirm&&a.changeRegConfirm.hide();var i="";a.getElement("foreignMobileLabel")&&(i=t(a.getElement("foreignMobileLabel")).html()),a.unbindRegConfirm?(t(a.getElement("unbindRegPhone")).html(i+s.value),a.unbindRegConfirm.show()):e._load(a._domain.auto+"/passApi/js/uni_wrapper.js",!0,function(){a.unbindRegConfirm=e.pop.init({type:"confirmWidget",tangram:!0,width:390,apiOpt:{Cancel:"取消",Continue:"登录",contentHTML:'<div class="pass-confirmContent-wrapper"><div class="pass-confirmContent-msg">该手机已注册，可以通过密码或短信快捷登录。</div></div>'},onConfirmClose:function(){a.unbindRegConfirm.hide(),s.value="",s.focus()},onConfirmCancel:function(){a.unbindRegConfirm.hide(),a.getElement("phone").value="",a.getElement("phone").focus()},onConfirmContinue:function(){var e=s.value,t="http://passport.baidu.com/v2/?login&account="+e+"&tpl="+a.config.product+"&u="+(a.config.retu||a.config.u);a.unbindRegConfirm.hide(),window.location?window.location.href=t:document.location.href=t}}),a.unbindRegConfirm.show()})}else{if(r.errInfo.msg.indexOf("#{")>0){var c=a.getElement("account")?a.getElement("account").value:a.getElement("phone").value;r.errInfo.msg=a._format(r.errInfo.msg,{urldata:"&account="+c+"&tpl="+a.config.product+"&u="+(a.config.retu||a.config.u)})}r.msg=r.errInfo.msg,n&&n.error(r)}})}},cutVerifyCode:function(e){var n=this,a=n.getElement("verifyCode_placeholder"),s=n.getElement("verifyCodeTipText");"phone"===e?(t(n.getElement("verifyCodeImg")).parent().hide(),t(n.getElement("verifyCodeChange")).hide(),t(n.getElement("verifyCodeSend")).show(),s&&(s.innerHTML=n.lang.SMSKeyTip),a&&(a.innerHTML=n.lang.smsVerifyCode)):(t(n.getElement("verifyCodeImg")).parent().show(),t(n.getElement("verifyCodeChange")).show(),t(n.getElement("verifyCodeSend")).hide(),s&&(s.innerHTML=n.lang.captchaTip),a&&(a.innerHTML=n.lang.captcha)),t(n.getElement("verifyCodeSendTip")).hide().get(0).innerHTML="",n.regMergeType=e},_sendSMSVcode:function(n,a,s,r,o){var i=this,c=i.getElement(i.config.regMerge?"account":"phone").value;i.config.isexchangeable&&(i.AccountExchangeFlag=1),i.validate(i.config.regMerge?"account":"phone",{success:function(){var n={is_voice_sms:i.config.isVoiceSms,phone:c,countrycode:i.getElement("foreignMobileLabel")?t(i.getElement("foreignMobileLabel")).attr("data-countrycode")||"":"",gid:i.guideRandom||"",isexchangeable:i.config.isexchangeable,subpro:i.config.subpro,validatedata:r,dv:document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||""};o&&o.ds&&o.tk&&(n.ds=o.ds,n.tk=o.tk),e.data.sendPhoneCode(n).success(function(n){var a=i.fireEvent("smsCodeSend",{rsp:n});if(a)if(0===+n.errInfo.no)s&&s.success&&s.success();else if(50042===+n.errInfo.no)i.regPassMkd.initVcode();else if(130040===+n.errInfo.no){s&&s.validate&&s.validate();var r=i.constant.VERIFYCODE_URL_PREFIX+n.data.vcodestr;i.getElement("vcodesign").value=n.data.vcodesign,i.getElement("vcodestr").value=n.data.vcodestr,i.confirmRegVerifyWidget?(i.getElement("confirmVerifyCodeImg").src=r,t(i.getElement("confirmVerifyCode")).val(""),i.confirmRegVerifyWidget.show()):setTimeout(function(){e._load(i._domain.auto+"/passApi/js/uni_wrapper.js",!0,function(){i.confirmRegVerifyWidget=e.pop.init({type:"confirmWidget",tangram:!0,titleText:"安全验证",width:490,apiOpt:{Continue:"确定",contentHTML:'<p class="pass-confirmReg-verifyWidget-msg">请填写图中的验证码</p><p class="pass-confirmReg-verifyWidget-imgWrapper"><input type="text" class="pass-text-input pass-confirmReg-verifyWidget-verifyCode" id="'+i.$getId("confirmVerifyCode")+'" name="confirmVerifyCode" value="" /><img src="'+r+'" title="" class="pass-confirmReg-verifyWidget-verifyCode-img" id="'+i.$getId("confirmVerifyCodeImg")+'" /><a href="#" class="pass-confirmReg-verifyWidget-imgChange" id="'+i.$getId("confirmVerifyCodeChange")+'">换一张</a><span class="pass-confirmReg-verifyWidget-error" id="'+i.$getId("confirmVerifyCodeError")+'"></span></p>'},onRender:function(){t(i.confirmRegVerifyWidget.getElement("confirmWidget_footer")).addClass("pass-confirmReg-verifyWidget-bottom"),i.config.hasPlaceholder&&i._getPlaceholder([{label:"confirmVerifyCode",placeholder:"verifyCode"}]),t(i.getElement("confirmVerifyCodeChange")).on("click",function(){e.data.getRegSmsVerifyCodeStr().success(function(e){if(0===+e.errInfo.no){var t=i.getElement("confirmVerifyCodeImg");t.src=i.constant.VERIFYCODE_URL_PREFIX+e.data.verifyStr,i.getElement("vcodesign").value=e.data.vcodesign,i.getElement("vcodestr").value=e.data.vcodestr}})}),t(i.getElement("confirmVerifyCode")).on("keyup",function(){t(i.getElement("confirmVerifyCode")).removeClass("pass-text-input-error");var e=t(i.getElement("confirmVerifyCodeError"));e.hide(),e.get(0).innerHTML=""}),t(i.getElement("confirmVerifyCode")).on("change",function(){var e=i.getElement("confirmVerifyCode");e.value=e.value.replace(/\s/g,"")})},onConfirmCancel:function(){},onConfirmContinue:function(){var n=t(i.getElement("confirmVerifyCode"));if(""===n.val()){n.addClass("pass-text-input-error");var a=t(i.getElement("confirmVerifyCodeError"));return a.show(),void(a.get(0).innerHTML=i.lang.confirmVerCodeEmpty)}var s=t(i.getElement("foreignMobileLabel"));e.data.sendPhoneCode({is_voice_sms:i.config.isVoiceSms,phone:c,countrycode:i.getElement("foreignMobileLabel")?s.attr("data-countrycode")||"":"",isexchangeable:i.config.isexchangeable,subpro:i.config.subpro,confirmVerifyCode:n.val(),vcodesign:i.getElement("vcodesign").value,dv:document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"",vcodestr:i.getElement("vcodestr").value}).success(function(e){var n=t(i.getElement("confirmVerifyCodeError"http://passport.baidu.com/passApi/js/));0===+e.errInfo.no?(n.hide(),t(i.getElement("verifyCodeError")).hide(),i.confirmRegVerifyWidget.hide(),i.config.nocaptcha?i.nocaptcha.sendSMS():i.disableSmsButton()):130041===+e.errInfo.no||130042===+e.errInfo.no?(t(i.getElement("confirmVerifyCode")).addClass("pass-text-input-error"),n.show(),n.get(0).innerHTML=e.errInfo.msg):(n.hide(),i.confirmRegVerifyWidget.hide(),t(i.getElement("verifyCodeError")).show().get(0).innerHTML=e.errInfo.msg,t(i.getElement("verifyCodeSendTip")).hide().get(0).innerHTML="")})}}),i.confirmRegVerifyWidget.show()})},80)}else i.getElement("verifyCodeError")&&(t(i.getElement("verifyCodeError")).show(),t(i.getElement("verifyCodeError")).get(0).innerHTML=n.errInfo.msg),i.getElement("verifyCodeSendTip")&&(t(i.getElement("verifyCodeSendTip")).hide(),t(i.getElement("verifyCodeSendTip")).get(0).innerHTML=""),s&&s.error&&s.error(n.errInfo.msg)})}})},_format:function(e,t){e=String(e);var n=Array.prototype.slice.call(arguments,1),a=Object.prototype.toString;return n.length?(n=1===n.length&&null!==t&&/\[object Array\]|\[object Object\]/.test(a.call(t))?t:n,e.replace(/#\{(.+?)\}/g,function(e,t){var s=n[t];return"[object Function]"===a.call(s)&&(s=s(t)),"undefined"==typeof s?"":s})):e},_eventHandler:function(){var n,a={focus:function(){var e=n.fireEvent("fieldFocus",{ele:this});e&&(this.addClass(n.constant.FOCUS_CLASS),this.removeClass(n.constant.ERROR_CLASS))},blur:function(e){n.getElement(e).value=n.getElement(e).value.replace(/\s/g,"");var t=n.fireEvent("fieldBlur",{ele:this});t&&this.removeClass(n.constant.FOCUS_CLASS)},mouseover:function(){var e=n.fireEvent("fieldMouseover",{ele:this});e&&this.addClass(n.constant.HOVER_CLASS)},mouseout:function(){var e=n.fireEvent("fieldMouseout",{ele:this});e&&this.removeClass(n.constant.HOVER_CLASS)},keyup:function(){n.fireEvent("fieldKeyup",{ele:this})}},s={focus:{account:function(){n.getElement("exchange").value=0,n._showTip("account")},email:function(){n._showTip("email")},phone:function(){n.getElement("exchange").value=0,n._showTip("phone"),n._showNocaptcha(!1)},userName:function(){n._showTip("userName")},password:function(){n._showTip("password"),n._getRSA(function(e){n.RSA=e.RSA,n.rsakey=e.rsakey})},verifyPass:function(){n._showTip("verifyPass")},verifyCode:function(){n._showTip("verifyCode"),n.getElement("verifyCodeSendTip")&&(n.getElement("verifyCodeSendTip").style.display="none"),n.getElement("verifyCodeError")&&(n.getElement("verifyCodeError").style.display="none")},smsCode:function(){n._showTip("smsCode")}},blur:{account:function(e){var a=n.getElement(e);a.value&&(n.$multiTip&&n.$multiTip.hide(),/\S+/.test(a.value)?/^\d+$/.test(a.value)?(n.AccountExchangeFlag=0,n.getElement("suggestNameWrapper")&&t(n.getElement("suggestNameWrapper")).empty(),n.suggestListKey&&(n.suggestListKey=""),n._validator.confStorage[n.$getId()][e]={rules:["required","phone"],asyncRule:n._asyncValidate.phoneCheck,desc:n.lang.account},n.cutVerifyCode("phone"),n.validate(e)):a.value.indexOf("@")>-1?(n.suggestListKey&&(n.suggestListKey=""),n.getElement("suggestNameWrapper")&&t(n.getElement("suggestNameWrapper")).empty(),n._validator.confStorage[n.$getId()][e]={rules:["required","mailLength","email","emailLimit"],asyncRule:n._asyncValidate.checkEmail,desc:n.lang.account},n.cutVerifyCode("email"),setTimeout(function(){n.validate(e)},200)):n.config.regMergeUserName?(n._validator.confStorage[n.$getId()][e]={rules:["required","userNameLength","userNameNumber"],asyncRule:n._asyncValidate.checkUserName,desc:n.lang.account},n.cutVerifyCode("userName"),n.validate(e)):(n._validator.confStorage[n.$getId()][e]={rules:["accountMerge"],desc:n.lang.account},n.cutVerifyCode("email"),n.validate(e)):(n._validator.confStorage[n.$getId()][e]={rules:["required"],desc:n.config.regMergeUserName?n.lang.accountEmpty_username:window.accountEmpty},n.validate(e)))},email:function(e){var t=n.getElement(e);t.value&&n.validate(e)},phone:function(e){var a=n.getElement(e);a.value&&(n.getElement("foreignMobileLabel")&&""!==t(n.getElement("foreignMobileLabel")).attr("data-countrycode")?(n._validator.addRule("foreignmobile",function(e){return/^(\d)*$/.test(e.value)}),n._validator.addMsg("foreignmobile",n.lang.foreignMobileError),n._validator.confStorage[n.$getId()].phone={rules:["required","foreignmobile"],asyncRule:n._asyncValidate.phoneCheck,desc:n.lang.phoneNum}):n._validator.confStorage[n.$getId()].phone={rules:["required","phone"],asyncRule:n._asyncValidate.phoneCheck,desc:n.lang.phoneNum},n.validate(e,{success:function(){a.value&&n._showNocaptcha(!0,a)}}))},userName:function(e){var t=n.getElement(e);t.value&&n.validate(e)},password:function(e){var t=n.getElement(e);t.value&&n.validate(e)},verifyPass:function(e){var t=n.getElement(e);t.value&&n.validate(e)},verifyCode:function(e){var t=n.getElement(e);t.value&&n.validate(e)},smsCode:function(e){var t=n.getElement(e);t.value&&n.validate(e)}},change:{email:function(){}},keyup:{account:function(e){var t=n.getElement(e).value;n.suggestion&&-1===t.indexOf("@")&&n.suggestion.hide()},password:function(e){var t=n.getElement(e);n.isInputPassword||(n.isInputPassword=!0,n.sendLog(n,"pc-register-password-input",{})),n.config.isLowpwdCheck||(t.value.length<8&&!n.config.hasPasswordcheck?n.setPwdStrength(-1):n.config.hasPasswordcheck?n.passwordCheckList(e):n.validate(e),n.getElement("showpwd_password_content")&&(n.getElement("showpwd_password_content").innerHTML=t.value))},phone:function(e){n.getElement(e).value,n.isInputPhone||(n.isInputPhone=!0,n.sendLog(n,"pc-register-phone-input",{}))},userName:function(){n.isInputUserName||(n.isInputUserName=!0,n.sendLog(n,"pc-register-username-input",{}))},verifyCode:function(){n.isInputSmsCode||(n.isInputSmsCode=!0,n.sendLog(n,"pc-register-sms-input",{}))}},click:{isAgree:function(e){n.validate(e)},suggestName:function(){var e=this,a=e.get(0);a.tagName&&"LABEL"===a.tagName||(e=e.parent()),e=e.find("input");var s=e.get(0).value,r=n.fireEvent("selectSuggestName",{suggestName:s});if(r){t(n.getElement("suggestNameWrapper")).empty(),n.getElement(n.config.regMergeUserName?"account":"userName").value=s,n.getElement(n.config.regMergeUserName?"account":"userName").focus(),n._hideTip(n.config.regMergeUserName?"account":"userName"),n.config.regMerge&&t(n.getElement("Placeholder")).hide(),n.setValidateSuccess(n.config.regMergeUserName?"account":"userName"),n.suggestListKey=s;var o=e.attr("id").match(/(\d+)$/)[1];n.getElement("selectedSuggestName").value=s,n.getElement("suggestIndex").value=o}},verifyCodeChange:function(e,t){n.getVerifyCode(),n.getElement("verifyCode").focus(),t.preventDefault(),n.sendLog(n,"pc-register-sms-again-click",{})},verifyCodeSend:function(e,t){if(n.regPassMkd&&n.regPassMkd.getDataAsync){var a={};n.regPassMkd.getDataAsync(function(s){a.ds=s.ds||"xxx",a.tk=s.tk||"xxx",n._sendSMSVcode(e,t,{success:function(){n.disableSmsButton()}},null,a)})}else n._sendSMSVcode(e,t,{success:function(){n.disableSmsButton()}});n.sendLog(n,"pc-register-sms-click",{})}},submit:function(a){n.config.isexchangeable&&(n.AccountExchangeFlag=1),n.sendLog(n,"pc-register-submit-click",{}),n.validateAll({success:function(){n.getElement("submit").focus();var a=n.fireEvent("beforeSubmit");if(a){var s=t.form.json(n.getElement("form"));!n.config.regMerge&&n.config.isPhone&&(s.smscode=s.verifyCode),("userName"===n.regMergeType||n.config.userName)&&s.userName!==s.selectedSuggestName&&(s.suggestIndex="",s.suggestType=""),n.getElement("submit").style.color="#9ebef4",s.timeSpan=(new Date).getTime()-n.initTime;var r=function(t){if(0===+t.errInfo.no)if(n.getElement("submit").style.color="#fff",t.data.needToModifyPassword)window.loaction.href=n.constant.MODIFY_PWD_URL_PREFIX+"?u="+window.u||"";else{var a=n.fireEvent("regSuccess",{rsp:t});if(!a)return;window.location.href=t.data.u}else{if("400413"===t.errInfo.no||"400414"===t.errInfo.no){var s,r=window.location?"http:"===window.location.protocol.toLowerCase()?"http://passport.baidu.com/":"https://passport.baidu.com":"http:"===document.location.protocol.toLowerCase()?"http://passport.baidu.com/":"https://passport.baidu.com",o={uni_armorwidget:"uni_armorwidget_13812f7.js"/*tpa=http://passport.baidu.com/passApi/js/uni_armorwidget_13812f7.js*/,uni_forceverify:"uni_forceverify_fd55741.js"/*tpa=http://passport.baidu.com/passApi/js/uni_forceverify_fd55741.js*/,uni_accConnect:"uni_accConnect_wrapper.js"/*tpa=http://passport.baidu.com/passApi/js/uni_accConnect_wrapper.js*/,uni_wrapper:"uni_wrapper.js"/*tpa=http://passport.baidu.com/passApi/js/uni_wrapper.js*/};return n.config.u=t.data.u||n.config.u,setTimeout(function(){e._load(r+o.uni_wrapper,!0,function(){s?(s.reRender&&s.reRender({lstr:t.data.lstr||"",ltoken:t.data.ltoken||"",token:t.data.authtoken||"",loginproxy:t.data.loginproxy||"",select:"400413"http://passport.baidu.com/passApi/js/===t.errInfo.no?"1":"0"}),s.show()):(s=e.pop.init({type:"secondCardVerify",tangram:!0,color:n.config.color||"blue",apiOpt:{u:n.config.u,product:n.config.product,lstr:t.data.lstr||"",ltoken:t.data.ltoken||"",token:t.data.authtoken||"",staticPage:n.config.staticPage,select:"400413"http://passport.baidu.com/passApi/js/===t.errInfo.no?"1":"0",scscene:t.data.scscene||"",scnewuser:t.data.scnewuser||"",loginproxy:t.data.loginproxy||""},onloginSuccess:function(e){location.href=e.target.config.u},onSubmitSuccess:function(t,a){a.rsp.data.loginproxy&&e.data.jsonp(a.rsp.data.loginproxy).success(function(e){"0"http://passport.baidu.com/passApi/js/===e.errInfo.no?document.location.href="https://passport.baidu.com/v3/security/main/secondcardmodifyaccinfo?tpl="+n.config.product+"&bdstoken="+a.rsp.data.bdstoken+"&authsid="+a.rsp.data.mod_authsid+"&u="+encodeURIComponent(e.data.u)+"&loginType="+a.rsp.data.loginType+"&hasUsername="+a.rsp.data.hasUsername:t.target.getElement("secondCardError").innerHTML=n.lang.sysError})}}),s.show())})},80),!1}n.getElement("submit").style.color="#fff";var a=n.fireEvent("regError",{rsp:t});if(!a)return;if(t.errInfo.msg&&t.errInfo.msg.indexOf("#{")>=0)if(110024===+t.errInfo.no){var i=n._domain.https+"/v2/?regnotify&action=resend&tpl="+n.config.product+"&email="+encodeURIComponent(t.data.email)+"&u="+encodeURIComponent(t.data.u);t.errInfo.msg=n._format(t.errInfo.msg,{gotourl:i})}else{var c=n.getElement("account").value;t.errInfo.msg=n._format(t.errInfo.msg,{urldata:"&account="+c+"&tpl="+n.config.product+"&u="+(n.config.retu||n.config.u)})}t.errInfo.field?(n.config.regMerge?/^(phone|email|userName)$/g.test(t.errInfo.field)?t.errInfo.field="account":/^(smsCode)$/g.test(t.errInfo.field)&&(t.errInfo.field="verifyCode"):n.config.isPhone&&(/^(phone)$/g.test(t.errInfo.field)?t.errInfo.field="phone":/^(smsCode)$/g.test(t.errInfo.field)&&(t.errInfo.field="verifyCode")),n.setValidateError(t.errInfo.field,t.errInfo.msg)):n.setGeneralError(t.errInfo.msg);var l=71e3===parseInt(t.errInfo.no,10);if(n.config.isPhone||l||n.getVerifyCode(),l){var d=n._domain.auto+"/passApi/js/uni_wrapper.js";e._load(d,!0,function(){var t=e.pop.init({type:"confirmWidget",tangram:!0,apiOpt:{Cancel:"取消",Continue:"登录",contentHTML:'<div class="pass-reg-confirm-dia"><span class="pass-reg-confirm-diamsg">该手机已注册，可以通过密码或短信快捷登录。</span></div>'},onRender:function(){},onConfirmClose:function(){t.hide(),n.getElement("phone").value="",n.getElement("phone").focus()},onConfirmCancel:function(){t.hide(),n.getElement("phone").val(""),n.getElement("phone").focus()},onConfirmContinue:function(){var e=n.getElement("phone").value,a="http://passport.baidu.com/v2/?login&account="+e+"&tpl="+n.config.product+"&u="+(n.config.retu||n.config.u);t.hide(),window.location?window.location.href=a:document.location.href=a}});t.show()})}}};if(s.isVoiceSmsReg=n.config.isVoiceSms?1:0,"phone"===n.regMergeType?(s.phone=s.account,s.smscode=s.verifyCode,s.registerType=0):"email"===n.regMergeType?s.email=s.account:"userName"===n.regMergeType&&(s.username=s.account,s.quick_user=n.config.regMergeUserName),n.RSA&&n.rsakey){var o=n.getElement("password").value;o.length<128&&!n.config.safeFlag&&(s.loginpass=t.url.escapeSymbol(n.RSA.encrypt(o)),s.rsakey=n.rsakey,s.crypttype=12,document.getElementById("_rsakey").value=s.rsakey,document.getElementById("_regpass").value=s.loginpass,document.getElementById("_username").value=s.userName)}var i=document.getElementById("dv_Input");s.dv=i?i.value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"",n.isBrowser||(s.isInside=1),"phone"===n.regMergeType||n.config.isPhone?(s.countrycode=n.getElement("foreignMobileLabel")?t(n.getElement("foreignMobileLabel")).attr("data-countrycode")||"":"",e.data.regPhone(s).success(r)):(s.verifypass=s.loginpass||"",e.data.reg(s).success(r))}},error:function(){t(n.getElement("tipContainer")).hide()}}),a.preventDefault()}};return{entrance:function(e){n=this;var r=(t(e.target),e.target.name);if(!r&&e.target.id){var o=e.target.id.match(/\d+__(.*)$/);o&&(r=o[1])}r&&(a.hasOwnProperty(e.type)&&a[e.type].apply(t(e.target),[r,e]),s.hasOwnProperty(e.type)&&("function"==typeof s[e.type]&&s[e.type].apply(t(e.target),[e]),s[e.type].hasOwnProperty(r)&&s[e.type][r].apply(t(e.target),[r,e])),"blur"===e.type&&n._hideTip(r))}}}(),$dispose:function(){var e=this;e.disposed||(t.dom(e.getElement()).removeClass(e.constant.CONTAINER_CLASS),t.dom(e.getElement("form")).remove(),n.Base.prototype.$dispose.call(e))}}),n});