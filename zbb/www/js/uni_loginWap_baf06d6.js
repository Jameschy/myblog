!function(){function t(e){"use strict";function n(t,e){return function(){return t.apply(e,arguments)}}var r;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e,t.notNeeded(e)||(o&&(e.addEventListener("mouseover",n(this.onMouse,this),!0),e.addEventListener("mousedown",n(this.onMouse,this),!0),e.addEventListener("mouseup",n(this.onMouse,this),!0)),e.addEventListener("click",n(this.onClick,this),!0),e.addEventListener("touchstart",n(this.onTouchStart,this),!1),e.addEventListener("touchmove",n(this.onTouchMove,this),!1),e.addEventListener("touchend",n(this.onTouchEnd,this),!1),e.addEventListener("touchcancel",n(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,o){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,o):r.call(e,t,n,o)},e.addEventListener=function(t,n,o){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),o):r.call(e,t,n,o)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null))}var e=e||window.passport||{},n=e.tangramInst||n||window.baidu;!function(t){t.apiDomain={staticDomain:window.location?"http:"==window.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com":"http:"==document.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com"}}(e);var o=navigator.userAgent.indexOf("Android")>0,r=/iP(ad|hone|od)/.test(navigator.userAgent),i=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=r&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);t.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){"use strict";var n,o;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),o=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){"use strict";return o&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){"use strict";var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"http://passport.baidu.com/passApi/js/!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){"use strict";var e,n,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],r){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!i){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){"use strict";var e,n,s,c,l,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(l=t.changedTouches[0],u=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(e=this.findControl(u)){if(this.focus(u),o)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-n>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),i&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return r&&!i&&(c=u.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},t.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:!t.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0},t.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){"use strict";var t=this.layer;o&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){"use strict";var e,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!o)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},t.attach=function(e){"use strict";return new t(e)},"undefined"http://passport.baidu.com/passApi/js/!=typeof define&&define.amd?define(function(){"use strict";return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t;var s,c=n&&n.phoenix,n=s=function(t,e){return n.dom?n.dom(t,e):null};n.phoenix=c,n.version="2.0.1.2",n.guid="$BAIDU$",n.key="tangram_guid";var l=window[n.guid]=window[n.guid]||{};(l.versions||(l.versions=[])).push(n.version),n.check=n.check||function(){},n.merge=function(t,e){var n=t.length,o=0;if("number"==typeof e.length)for(var r=e.length;r>o;o++)t[n++]=e[o];else for(;void 0!==e[o];)t[n++]=e[o++];return t.length=n,t},n.forEach=function(t,e,n){var o,r,i;if("function"==typeof e&&t)if(r="number"==typeof t.length?t.length:t.byteLength,"number"==typeof r){if("[object Function]"===Object.prototype.toString.call(t))return t;for(o=0;r>o;o++)i=t[o]||t.charAt&&t.charAt(o),e.call(n||null,i,o,t)}else if("number"==typeof t)for(o=0;t>o;o++)e.call(n||null,o,o,o);else if("object"==typeof t)for(o in t)t.hasOwnProperty(o)&&e.call(n||null,t[o],o,t);return t},n.lang=n.lang||{},n.type=function(){var t={},e=[,"HTMLElement","Attribute","Text",,,,,"Comment","Document",,"DocumentFragment"],o="Array Boolean Date Error Function Number RegExp String",r={object:1,"function":"1"},i=t.toString;return n.forEach(o.split(" "),function(e){t["[object "+e+"]"]=e.toLowerCase(),n["is"+e]=function(t){return n.type(t)==e.toLowerCase()}}),function(n){var o=typeof n;return r[o]?null==n?"null":n._type_||t[i.call(n)]||e[n.nodeType]||(n==n.window?"Window":"")||"object":o}}(),n.isDate=function(t){return"date"==n.type(t)&&"Invalid Date"!=t.toString()&&!isNaN(t)},n.isElement=function(t){return"HTMLElement"==n.type(t)},n.isEnumerable=function(t){return null!=t&&("object"==typeof t||~Object.prototype.toString.call(t).indexOf("NodeList"))&&("number"==typeof t.length||"number"==typeof t.byteLength||"undefined"!=typeof t[0])},n.isNumber=function(t){return"number"==n.type(t)&&isFinite(t)},n.isPlainObject=function(t){var e,o=Object.prototype.hasOwnProperty;if("object"!=n.type(t))return!1;if(t.constructor&&!o.call(t,"constructor")&&!o.call(t.constructor.prototype,"isPrototypeOf"))return!1;for(e in t);return void 0===e||o.call(t,e)},n.isObject=function(t){return"function"==typeof t||"object"==typeof t&&null!=t},n.extend=function(t,e){var o,r,i,a,s,c,l=1,u=arguments.length,d=t||{};for(n.isBoolean(t)&&(l=2)&&(d=e||{}),!n.isObject(d)&&(d={});u>l;l++)if(o=arguments[l],n.isObject(o))for(r in o)i=d[r],a=o[r],i!==a&&(n.isBoolean(t)&&t&&a&&(n.isPlainObject(a)||(s=n.isArray(a)))?(s?(s=!1,c=i&&n.isArray(i)?i:[]):c=i&&n.isPlainObject(i)?i:{},d[r]=n.extend(t,c,a)):void 0!==a&&(d[r]=a));return d},n.createChain=function(t,e,o){var r="dom"==t?"$DOM":"$"+t.charAt(0).toUpperCase()+t.substr(1),i=Array.prototype.slice,a=n[t]=n[t]||e||function(e){return n.extend(e,n[t].fn)};return a.extend=function(e){var o;for(o in e)"splice"!=o&&(a[o]=function(){var e=arguments[0];"dom"==t&&"string"==n.type(e)&&(e="#"+e);var r=a(e),s=r[o].apply(r,i.call(arguments,1));return"$DOM"==n.type(s)?s.get(0):s});return n.extend(n[t].fn,e)},n[t][r]=n[t][r]||o||function(){},a.fn=n[t][r].prototype,a},n.overwrite=function(t,e,n){for(var o=e.length-1;o>-1;o--)t.prototype[e[o]]=n(e[o]);return t},n.createChain("array",function(t){var e,o=n.array.$Array.prototype,r=Array.prototype;"array"!=n.type(t)&&(t=[]);for(e in o)r[e]||(t[e]=o[e]);return t}),n.overwrite(n.array.$Array,"concat slice".split(" "),function(t){return function(){return n.array(Array.prototype[t].apply(this,arguments))}}),n.array.extend({unique:function(t){var e,n,o=this.length,r=this.slice(0);for("function"!=typeof t&&(t=function(t,e){return t===e});--o>0;)for(n=r[o],e=o;e--;)if(t(n,r[e])){r.splice(o,1);break}for(o=this.length=r.length,e=0;o>e;e++)this[e]=r[e];return this}}),n.query=n.query||function(){function t(t,e){var r,c,l,u,d,f,p,g=[];return o.test(t)?(l=RegExp.$2,u=RegExp.$1||"*",n.forEach(e.getElementsByTagName(u),function(t){t.id==l&&g.push(t)})):i.test(t)||"*"==t?n.merge(g,e.getElementsByTagName(t)):a.test(t)?(f=[],u=RegExp.$1,d=RegExp.$2,r=" "+d+" ",e.getElementsByClassName?f=e.getElementsByClassName(d):n.forEach(e.getElementsByTagName("*"),function(t){t.className&&~(" "+t.className+" ").indexOf(r)&&f.push(t)}),u&&(u=u.toUpperCase())?n.forEach(f,function(t){t.tagName.toUpperCase()===u&&g.push(t)}):n.merge(g,f)):s.test(t)&&(p=t.substr(1).split("."),n.forEach(e.getElementsByTagName("*"),function(t){t.className&&(r=" "+t.className+" ",c=!0,n.forEach(p,function(t){~r.indexOf(" "+t+" ")||(c=!1)}),c&&g.push(t))})),g}function e(o,i){var a,s=o,c="__tangram__",l=[];return!i&&r.test(s)&&(a=document.getElementById(s.substr(1)))?[a]:(i=i||document,i.querySelectorAll?(1!=i.nodeType||i.id?a=i.querySelectorAll(s):(i.id=c,a=i.querySelectorAll("#"+c+" "+s),i.id=""),a):~s.indexOf(" ")?(n.forEach(t(s.substr(0,s.indexOf(" ")),i),function(t){n.merge(l,e(s.substr(s.indexOf(" ")+1),t))}),l):t(s,i))}{var o=/^(\w*)#([\w\-\$]+)$/,r=/^#([\w\-\$]+)$/,i=/^\w+$/,a=/^(\w*)\.([\w\-\$]+)$/,s=/^(\.[\w\-\$]+)+$/,c=/\s*,\s*/,l=/\s+/g;Array.prototype.slice}return function(t,o,r){if(!t||"string"!=typeof t)return r||[];var i=[];return t=t.replace(l," "),r&&n.merge(i,r)&&(r.length=0),n.forEach(t.indexOf(",")>0?t.split(c):[t],function(t){n.merge(i,e(t,o))}),n.merge(r||[],n.array(i).unique())}}(),n.createChain("dom",function(t,e){var o=new n.dom.$DOM(e);if(!t)return o;if("$DOM"==t._type_)return t;if(t.nodeType||t==t.window)return o[0]=t,o.length=1,o;if(t.length&&"[object String]"!=o.toString.call(t))return n.merge(o,t);if("string"==typeof t)"<"==t.charAt(0)&&">"==t.charAt(t.length-1)&&t.length>2?n.dom.createElements&&n.merge(o,n.dom.createElements(t)):n.query(t,e,o);else if("function"==typeof t)return o.ready?o.ready(t):o;return o},function(t){this.length=0,this._type_="$DOM",this.context=t||document}).extend({size:function(){return this.length},splice:function(){},get:function(t){return"number"==typeof t?0>t?this[this.length+t]:this[t]:Array.prototype.slice.call(this,0)},toArray:function(){return this.get()}}),n.dom.extend({each:function(t){n.check("function","http://passport.baidu.com/passApi/js/baidu.dom.each");var e,o,r=this.length;for(e=0;r>e&&(o=t.call(this[e],e,this[e],this),o!==!1&&"break"!=o);e++);return this}}),n.dom.extend({html:function(t){var e,o=n.dom,r=(n._util_,this),i=!1;if(this.size()<=0)switch(typeof t){case"undefined":return void 0;default:return r}var a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",s=/<(?:script|style|link)/i,c=new RegExp("<(?:"+a+")[\\s/>]","i"),l=/^\s+/,u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/<([\w:]+)/,f={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};return f.optgroup=f.option,f.tbody=f.tfoot=f.colgroup=f.caption=f.thead,f.th=f.td,n.support.htmlSerialize||(f._default=[1,"X<div>","</div>"]),n.forEach(r,function(a,p){if(!e){var g=o(a);switch(typeof t){case"undefined":return e=1===a.nodeType?a.innerHTML:void 0;case"number":t=String(t);case"string":if(i=!0,!(s.test(t)||!n.support.htmlSerialize&&c.test(t)||!n.support.leadingWhitespace&&l.test(t)||f[(d.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(u,"<$1></$2>");try{1===a.nodeType&&(g.empty(),a.innerHTML=t),a=0}catch(m){}}a&&r.empty().append(t);break;case"function":i=!0,g.html(t.call(a,p,g.html()))}}}),i?r:e}}),n.support=n.support||function(){var t,e,o,r=document.createElement("div");return r.innerHTML='<a href="http://passport.baidu.com/a" style="top:1px; float: left; opacity: .55">Tangram</a><input type="checkbox">',e=r.getElementsByTagName("A")[0],o=r.getElementsByTagName("input")[0],o.checked=!0,t={opacity:"http://passport.baidu.com/passApi/js/0.55"===e.style.opacity,cssFloat:!!e.style.cssFloat,noCloneChecked:o.cloneNode(!0).checked,noCloneEvent:!0},!r.addEventListener&&r.attachEvent&&r.fireEvent&&(r.attachEvent("onclick",function(){t.noCloneEvent=!1}),r.cloneNode(!0).fireEvent("onclick")),n(function(){var n,o,r,i,a,s=document.getElementsByTagName("body")[0],c=document.createElement("div"),l=document.createElement("div"),u="padding: 0; margin: 0; border: ",d="left: 0; top: 0; width: 0px; height: 0px; ",f=d+u+"0; visibility: hidden;",p=d+u+"5px solid #000; position: absolute;";c.style.cssText="position: static;"+f,s.insertBefore(c,s.firstChild),c.appendChild(l),l.style.cssText="position: absolute;"+f,l.innerHTML='<div style="'+p+'display: bloack;"><div style="'+u+'0; display: block; overflow: hidden;"></div></div><table style="'+p+'" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>',n=l.firstChild,o=n.firstChild,a=n.nextSibling,t.hasBorderWidth=o.offsetTop>=5,t.hasTableCellBorderWidth=a.rows[0].cells[0].offsetTop>=5,o.style.position="fixed",o.style.top="20px",t.fixedPosition=20===o.offsetTop||15===o.offsetTop,t.deleteExpando=!0;try{delete l.test}catch(g){t.deleteExpando=!1}r=document.createElement("select"),i=r.appendChild(document.createElement("option")),r.disabled=!0,t.optDisabled=!i.disabled,t.optSelected=i.selected,l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='http://passport.baidu.com/a'>a</a><input type='checkbox'/>";var m=l.getElementsByTagName("input")[0];t.checkOn="on"===m.value,t.htmlSerialize=!!l.getElementsByTagName("link").length,t.leadingWhitespace=3===l.firstChild.nodeType,t.getSetAttribute="t"!==l.className,t.pixelMargin=!0,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",window.getComputedStyle&&(t.pixelMargin="1%"!==(window.getComputedStyle(l,null)||{}).marginTop);var m=document.createElement("input");m.value="t",m.setAttribute("type","radio"),t.radioValue="t"===m.value,t.hrefNormalized="/a"===e.getAttribute("href"),t.style=/top/.test(e.getAttribute("style")),t.enctype=!!document.createElement("form").enctype,s.removeChild(c),c=l=n=o=a=null}),t}(),n.global=n.global||function(){var t=n._global_=window[n.guid],e=t._=t._||{};return function(t,n,o){return"undefined"!=typeof n?(o||(n="undefined"==typeof e[t]?n:e[t]),e[t]=n):t&&"undefined"==typeof e[t]&&(e[t]={}),e[t]}}(),n._util_=n._util_||{},n._util_.propFixer={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",classname:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable",rboolean:/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i},!document.createElement("form").enctype&&(n._util_.propFixer.enctype="encoding"),n._util_.support=n._util_.support||function(){var t,e,n,o,r,i=document.createElement("div");return i.setAttribute("className","t"),i.innerHTML=' <link/><table></table><a href="http://passport.baidu.com/a">a</a><input type="checkbox"/>',e=i.getElementsByTagName("A")[0],e.style.cssText="top:1px;float:left;opacity:.5",o=document.createElement("select"),r=o.appendChild(document.createElement("option")),n=i.getElementsByTagName("input")[0],n.checked=!0,t={dom:{div:i,a:e,select:o,opt:r,input:n}}}(),n._util_.support.getSetAttribute="t"!==n._util_.support.dom.div.className,n._util_.removeAttr=function(){var t=n._util_.propFixer,e=/\s+/,o=n._util_.support.getSetAttribute;return function(r,i){if(i&&1===r.nodeType)for(var a,s,c,l=i.split(e),u=0;c=l[u];u++)a=t[c]||c,s=t.rboolean.test(c),!s&&n._util_.attr(r,c,""),r.removeAttribute(o?c:a),s&&a in r&&(r[a]=!1)}}(),n.dom.extend({removeAttr:function(t){return this.each(function(e,o){n._util_.removeAttr(o,t)}),this}}),n._util_.access=function(t,e,o,r,i){if(t.size()<=0)return t;switch(n.type(e)){case"string":if(void 0===o)return r.call(t,t[0],e);t.each(function(a,s){r.call(t,s,e,"function"===n.type(o)?o.call(s,a,r.call(t,s,e)):o,i)});break;case"object":for(var a in e)n._util_.access(t,a,e[a],r,o)}return t},n._util_.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1},n.browser=n.browser||function(){var t=navigator.userAgent,e={isStrict:"CSS1Compat"==document.compatMode,isGecko:/gecko/i.test(t)&&!/like gecko/i.test(t),isWebkit:/webkit/i.test(t)};try{/(\d+\.\d+)/.test(external.max_version)&&(e.maxthon=+RegExp.$1)}catch(o){}switch(!0){case/msie (\d+\.\d+)/i.test(t):e.ie=document.documentMode||+RegExp.$1;break;case/chrome\/(\d+\.\d+)/i.test(t):e.chrome=+RegExp.$1;break;case/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(t)&&!/chrome/i.test(t):e.safari=+(RegExp.$1||RegExp.$2);break;case/firefox\/(\d+\.\d+)/i.test(t):e.firefox=+RegExp.$1;break;case/opera(?:\/| )(\d+(?:\.\d+)?)(.+?(version\/(\d+(?:\.\d+)?)))?/i.test(t):e.opera=+(RegExp.$4||RegExp.$1)}return n.extend(n,e),e}(),n.id=function(){var t=n.global("_maps_id"),e=n.key;return window[n.guid]._counter=window[n.guid]._counter||1,function(o,r){var i,a=n.isString(o),s=n.isObject(o),c=s?o[e]:a?o:"";if(n.isString(r))switch(r){case"get":return s?c:t[c];case"remove":case"delete":return(i=t[c])&&(n.isElement(i)&&n.browser.ie<8?i.removeAttribute(e):delete i[e],delete t[c]),c;default:return a?((i=t[c])&&delete t[c],i&&(t[i[e]=r]=i)):s&&(c&&delete t[c],t[o[e]=r]=o),r}return s?(!c&&(t[o[e]=c=n.id()]=o),c):a?t[o]:"TANGRAM__PSP_"+n._global_._counter++}}(),n.id.key="tangram_guid",n.createChain("string",function(t){var e=n.type(t),o=new String(~"string|number".indexOf(e)?t:e),r=String.prototype;return n.forEach(n.string.$String.prototype,function(t,e){r[e]||(o[e]=t)}),o}),n.string.extend({getByteLength:function(){return this.replace(/[^\x00-\xff]/g,"ci").length}}),n.string.extend({trim:function(){var t=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return function(){return this.replace(t,"")}}()}),n.dom.extend({addClass:function(t){if(!arguments.length)return this;var e=typeof t,o=" ";if("string"==e){t=n.string.trim(t);var r=t.split(" ");n.forEach(this,function(t){for(var e=t.className,n=0;n<r.length;n++)~(o+e+o).indexOf(o+r[n]+o)||(e+=" "+r[n]);t.className=e.replace(/^\s+/g,"")})}else"function"==e&&n.forEach(this,function(e,o){n.dom(e).addClass(t.call(e,o,e.className))});return this}}),n.dom.extend({removeClass:function(t){var e=typeof t,o=" ";if(arguments.length||n.forEach(this,function(t){t.className=""}),"string"==e){t=n.string.trim(t);var r=t.split(" ");n.forEach(this,function(t){for(var e=t.className,i=0;i<r.length;i++)for(;~(o+e+o).indexOf(o+r[i]+o);)e=(o+e+o).replace(o+r[i]+o,o);t.className=n.string.trim(e)})}else"function"==e&&n.forEach(this,function(e,o){n.dom(e).removeClass(t.call(e,o,e.className))});return this}}),n.dom.extend({getComputedStyle:function(t){var e=this[0].ownerDocument.defaultView,n=e&&e.getComputedStyle&&e.getComputedStyle(this[0],null),o=n?n.getPropertyValue(t)||n[t]:"";return o||this[0].style[t]}}),n.dom.extend({getCurrentStyle:function(){var t=document.documentElement.currentStyle?function(t){return this[0].currentStyle?this[0].currentStyle[t]:this[0].style[t]}:function(t){return this.getComputedStyle(t)};return function(e){return t.call(this,e)}}()}),n.dom.extend({getDocument:function(){if(this.size()<=0)return void 0;var t=this[0];return 9==t.nodeType?t:t.ownerDocument||t.document}}),n._util_.contains=document.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:function(t,e){if(t===e)return!1;if(t.contains&&e.contains)return t.contains(e);for(;e=e.parentNode;)if(e===t)return!0;return!1},n.dom.extend({show:function(){function t(t){if(e[t])return e[t];var o,r,i,a=document.createElement(t);return document.body.appendChild(a),o=n.dom(a).getCurrentStyle("display"),document.body.removeChild(a),(""===o||"none"===o)&&(r=document.body.appendChild(document.createElement("iframe")),r.frameBorder=r.width=r.height=0,i=(r.contentWindow||r.contentDocument).document,i.writeln("<!DOCTYPE html><html><body>"),i.close(),a=i.appendChild(i.createElement(t)),o=n.dom(a).getCurrentStyle("display"),document.body.removeChild(r),r=null),a=null,e[t]=o}var e={};return function(){var o;return this.each(function(r,i){i.style&&(i.style.display="",o=n.dom(i),"none"!==o.getCurrentStyle("display")&&n._util_.contains(o.getDocument(),i)||(i.style.display=e[i.nodeName]||t(i.nodeName)))}),this}}()}),n.dom.extend({hide:function(){return this.each(function(t,e){e.style&&(e.style.display="none")})}}),n.dom.extend({toggle:function(){return this.each(function(t,e){e.style&&"none"==e.style.display?n.dom(e).show():n.dom(e).hide()})}}),n.dom.extend({find:function(t){var e,o=[],r="__tangram__find__",i=n.dom();switch(n.type(t)){case"string":this.each(function(){n.merge(i,n.query(t,this))});break;case"HTMLElement":e=t.tagName+"#"http://passport.baidu.com/passApi/js/+(t.id?t.id:t.id=r),this.each(function(){n.query(e,this).length>0&&o.push(t)}),t.id==r&&(t.id=""),o.length>0&&n.merge(i,o);break;case"$DOM":o=t.get(),this.each(function(){n.forEach(n.query("*",this),function(t){for(var e=0,n=o.length;n>e;e++)t===o[e]&&(i[i.length++]=o[e])})})}return i}}),n.dom.extend({attr:function(t,e){if(arguments.length<=0||"function"==typeof t)return this;var o,r=this,i=!1;return this.size()<=0?t&&e?r:t&&!e?void 0:r:(n.forEach(this,function(a,s){if(!o){var c,l,u,d=n.dom,f=n._util_,p=a.nodeType;if(a&&3!==p&&8!==p&&2!==p){if("undefined"==typeof a.getAttribute){var g=d(a);o=g.prop(t,e)}switch(typeof t){case"string":if(u=1!==p||!n._util_.isXML(a),u&&(t=t.toLowerCase(),l=f.attrHooks[t]||(f.rboolean.test(t)?f.boolHook:f.nodeHook)),"undefined"==typeof e)l&&"get"in l&&u&&null!==(c=l.get(a,t))?o=c:(c=a.getAttribute(t),o=null===c?void 0:c);else{if("function"!=typeof e){i=!0;var m={val:!0,css:!0,html:!0,text:!0,width:!0,height:!0,offset:!0};return t in m?void(o=d(a)[t](e)):null===e?void d(a).removeAttr(t):l&&"set"in l&&u&&void 0!==(c=l.set(a,e,t))?c:(a.setAttribute(t,""+e),e)}i=!0;var g=d(a);g.attr(t,e.call(a,s,g.attr(t)))}break;case"object":i=!0;var g=d(a);for(key in t)g.attr(key,t[key]);break;default:o=r}}}}),i?this:o)}}),n.dom.g=function(t){return t?"string"==typeof t||t instanceof String?document.getElementById(t):!t.nodeName||1!=t.nodeType&&9!=t.nodeType?null:t:null},n.dom.toggle=function(t){return t=n.dom.g(t),t.style.display="none"==t.style.display?"":"none",t},n.dom.extend({hasClass:function(t){if(arguments.length<=0||"function"==typeof t)return this;if(this.size()<=0)return!1;t=t.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ");var e,o=t.split(" ");return n.forEach(this,function(t){for(var n=t.className,r=0;r<o.length;r++)if(!~(" "+n+" ").indexOf(" "+o[r]+" "))return void(e=!1);return e!==!1?void(e=!0):void 0}),e}}),n._util_.getWidthOrHeight=function(){function t(t,e){var n={};for(var o in e)n[o]=t.style[o],t.style[o]=e[o];return n}var e={},o={position:"absolute",visibility:"hidden",display:"block"},r=/^(none|table(?!-c[ea]).+)/;return n.forEach(["Width","Height"],function(i){var a={Width:["Right","Left"],Height:["Top","Bottom"]}[i];e["get"+i]=function(e,s){var c=n.dom(e),l=0===e.offsetWidth&&r.test(c.getCurrentStyle("display"))&&t(e,o),u=e["offset"+i]||parseInt(c.getCurrentStyle(i.toLowerCase())),d="padding|border";return s&&n.forEach(s.split("|"),function(t){~d.indexOf(t)?d=d.replace(new RegExp("\\|?"+t+"\\|?"),""):(u+=parseFloat(c.getCurrentStyle(t+a[0]))||0,u+=parseFloat(c.getCurrentStyle(t+a[1]))||0)}),d&&n.forEach(d.split("|"),function(t){u-=parseFloat(c.getCurrentStyle(t+a[0]+("border"===t?"Width":"")))||0,u-=parseFloat(c.getCurrentStyle(t+a[1]+("border"===t?"Width":"")))||0}),l&&t(e,l),u}}),function(t,n,o){return e["width"===n?"getWidth":"getHeight"](t,o)}}(),n.string.extend({toCamelCase:function(){var t=this.valueOf();return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})}}),n.dom.styleFixer=function(){var t=/alpha\s*\(\s*opacity\s*=\s*(\d{1,3})/i,e=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,o="fillOpacity,fontWeight,opacity,orphans,widows,zIndex,zoom",r=n._util_.support.dom.a,i={"float":r.style.cssFloat?"cssFloat":"styleFloat"},a={fontWeight:{normal:400,bold:700,bolder:700,lighter:100}},s={opacity:{},width:{},height:{},fontWeight:{get:function(t,e){var n=c.get(t,e);return a.fontWeight[n]||n}}},c={set:function(t,e,n){t.style[e]=n}};return n.extend(s.opacity,/^0.5/.test(r.style.opacity)?{get:function(t,e){var o=n.dom(t).getCurrentStyle(e);return""===o?"1":o}}:{get:function(e){return t.test((e.currentStyle||e.style).filter||"")?parseFloat(RegExp.$1)/100:"1"},set:function(e,n,o){var r=(e.currentStyle||e.style).filter||"",i=100*o;e.style.zoom=1,e.style.filter=t.test(r)?r.replace(t,"Alpha(opacity="+i):r+" progid:dximagetransform.microsoft.Alpha(opacity="+i+")"}}),n.forEach(["width","height"],function(t){s[t]={get:function(e){return n._util_.getWidthOrHeight(e,t)+"px"},set:function(t,e,o){"number"===n.type(o)&&0>o&&(o=0),c.set(t,e,o)}}}),n.extend(c,document.documentElement.currentStyle?{get:function(t,o){var r,i=n.dom(t).getCurrentStyle(o);return e.test(i)&&(r=t.style.left,t.style.left="fontSize"===o?"1em":i,i=t.style.pixelLeft+"px",t.style.left=r),i}}:{get:function(t,e){return n.dom(t).getCurrentStyle(e)}}),function(t,e,r){var a,l,u=n.string(e).toCamelCase(),d=void 0===r?"get":"set";return u=i[u]||u,a="number"!==n.type(r)||~o.indexOf(u)?r:r+"px",(l=s.hasOwnProperty(u)&&s[u][d]||c[d])(t,u,a)}}(),n.dom.extend({css:function(t,e){return n.check("^(?:(?:string(?:,(?:number|string|function))?)|object)$","baidu.dom.css"/*tpa=http://passport.baidu.com/passApi/js/baidu.dom.css*/),n._util_.access(this,t,e,function(t,e,o){var r=n.dom.styleFixer;return r?r(t,e,o):void 0===o?this.getCurrentStyle(e):t.style[e]=o})}}),n.dom.createElements=function(){function t(t,e){var n,o,r,i=t.getElementsByTagName("SCRIPT");for(n=i.length-1;n>=0;n--)r=i[n],o=e.createElement("SCRIPT"http://passport.baidu.com/passApi/js/),r.id&&(o.id=r.id),r.src&&(o.src=r.src),r.type&&(o.type=r.type),o[r.text?"text":"textContent"]=r.text||r.textContent,r.parentNode.replaceChild(o,r)}var e=/<(\w+)/i,o=/<|&#?\w+;/,r={area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],_default:[0,"",""]};return r.optgroup=r.option,r.tbody=r.tfoot=r.colgroup=r.caption=r.thead,r.th=r.td,function(i,a){n.isNumber(i)&&(i=i.toString()),a=a||document;var s,c,l,u=i,d=(u.length,a.createElement("div")),f=a.createDocumentFragment(),p=[];if(n.isString(u))if(o.test(u)){for(s=r[u.match(e)[1].toLowerCase()]||r._default,d.innerHTML="<i>mz</i>"+s[1]+u+s[2],d.removeChild(d.firstChild),t(d,a),c=s[0],l=d;c--;)l=l.firstChild;n.merge(p,l.childNodes),n.forEach(p,function(t){f.appendChild(t)}),d=l=null}else p.push(a.createTextNode(u));return d=null,p}}(),n.createChain("event",function(){var t={};return function(e,o){switch(n.type(e)){case"object":return t.originalEvent===e?t:t=new n.event.$Event(e);case"$Event":return e;case"string":var r=new n.event.$Event(e);return"object"==typeof o&&n.forEach(r,o),r}}}(),function(t){var e,o,r=this;if(this._type_="$Event","object"==typeof t&&t.type){r.originalEvent=e=t;for(var i in e)"function"!=typeof e[i]&&(r[i]=e[i]);e.extraData&&n.extend(r,e.extraData),r.target=r.srcElement=e.srcElement||(o=e.target)&&(3==o.nodeType?o.parentNode:o),r.relatedTarget=e.relatedTarget||(o=e.fromElement)&&(o===r.target?e.toElement:o),r.keyCode=r.which=e.keyCode||e.which,r.which||void 0===e.button||(r.which=1&e.button?1:2&e.button?3:4&e.button?2:0);var a=document.documentElement,s=document.body;r.pageX=e.pageX||e.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),r.pageY=e.pageY||e.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0),r.data}"string"==typeof t&&(this.type=t),this.timeStamp=(new Date).getTime()}).extend({stopPropagation:function(){var t=this.originalEvent;t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},preventDefault:function(){var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}}),n._util_.eventBase={},void function(t,e){e=t.listener={},window.addEventListener?e.add=function(t,e,n){t.addEventListener(e,n,!1)}:window.attachEvent&&(e.add=function(t,e,n){t.attachEvent("on"+e,n)})}(n._util_.eventBase),void function(t){var e=n.id,o=t.queue={},r=o.attaCache=n.global("eventQueueCache"),i=t.listener;o.get=function(t,n,o,i){var a,s=e(t);return r[s]||(r[s]={}),a=r[s],n?(a[n]||this.setupCall(t,n,o,a[n]=[],i),a[n]):a},o.add=function(t,e,n,o,r){this.get(t,e,n,r).push(o)},o.remove=function(t,e,n){var o,r;if(e){var o=this.get(t,e);if(n)for(var i=o.length-1;i>=0;i--)o[i].orig==n&&o.splice(i,1);else o.length=0}else{var r=this.get(t);for(var i in r)r[i].length=0
}},o.call=function(t,e,o,r){if(o){if(!o.length)return;var i=[].slice.call(arguments,1),a=[];i.unshift(r=n.event(r||e)),r.type=e,r.currentTarget||(r.currentTarget=t);for(var s,c=0,l=o.length;l>c;c++)(s=o[c])&&(s.pkg.apply(t,i),s.one&&a.unshift(c));if(a.length)for(var c=0,l=a.length;l>c;c++)this.remove(t,e,o[c].fn)}else o=this.get(t,e),this.call(t,e,o,r)},o.setupCall=function(){var t=function(t,e,n,r){i.add(t,n,function(n){o.call(t,e,r,n)})};return function(e,o,r,i,a){if(a){e=n.dom(a,e);for(var s=0,c=e.length;c>s;s++)t(e[s],o,r,i)}else t(e,o,r,i)}}()}(n._util_.eventBase,n.event),n._util_.cleanData=function(t){for(var e,o,r=0;o=t[r];r++)e=n.id(o,"get"),e&&(n._util_.eventBase.queue.remove(o),n.id(o,"remove"))},n.dom.extend({empty:function(){for(var t,e=0;t=this[e];e++)for(1===t.nodeType&&n._util_.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this}}),n._util_.smartInsert=function(t,e,o){if(!(e.length<=0||t.size()<=0)){if("function"===n.type(e[0])){var r,i=e[0];return n.forEach(t,function(t,a){r=n.dom(t),e[0]=i.call(t,a,r.html()),n._util_.smartInsert(r,e,o)})}for(var a,s,c=t.getDocument()||document,l=c.createDocumentFragment(),u=t.length-1,d=0;s=e[d];d++)s.nodeType?l.appendChild(s):n.forEach(~"string|number".indexOf(n.type(s))?n.dom.createElements(s,c):s,function(t){l.appendChild(t)});(a=l.firstChild)&&n.forEach(t,function(t,e){o.call("table"===t.nodeName.toLowerCase()&&"tr"===a.nodeName.toLowerCase()?t.tBodies[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t,u>e?l.cloneNode(!0):l)})}},n.dom.extend({append:function(){return n.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.append"),n._util_.smartInsert(this,arguments,function(t){1===this.nodeType&&this.appendChild(t)}),this}}),n.dom.extend({prepend:function(){return n.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.prepend"),n._util_.smartInsert(this,arguments,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)}),this}}),n.dom.extend({map:function(t){n.check("function","http://passport.baidu.com/passApi/js/baidu.dom.map");var e=n.dom();return n.forEach(this,function(n,o){e[e.length++]=t.call(n,o,n,n)}),e}}),void function(t,e){var o=t.queue,r=t.core={},i=e.special={},a=[].push,s=function(t,e){for(var n=0,o=e.length;o>n;n++)if(e.get(n).contains(t))return e[n]};r.build=function(t,e,o,r,c){var l;return r&&(l=n.dom(r,t)),e in i&&i[e].pack&&(o=i[e].pack(o)),function(e){var i,u=(n.dom(e.target),[e]);if(c&&!e.data&&(e.data=c),e.triggerData&&a.apply(u,e.triggerData),!l)return e.result=o.apply(t,u);for(var d=0;2>d;d++){if(i=s(e.target,l))return e.result=o.apply(i,u);l=n.dom(r,t)}}},r.add=function(t,e,n,r,a,s){var c,l,u=this.build(t,e,n,r,a);l=e,e in i&&(c=i[e].attachElements,l=i[e].bindType||e),o.add(t,e,l,{type:e,pkg:u,orig:n,one:s},c)},r.remove=function(t,e,n,r){o.remove(t,e,n,r)}}(n._util_.eventBase,n.event),n.dom.extend({clone:function(){function t(t){return t.getElementsByTagName?t.getElementsByTagName("*"):t.querySelectorAll?t.querySelectorAll("*"):[]}function e(t,e){switch(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),e.nodeName.toLowerCase()){case"object":e.outerHTML=t.outerHTML;break;case"textarea":case"input":~"checked|radio".indexOf(t.type)&&(t.checked&&(e.defaultChecked=e.checked=t.checked),e.value!==t.value&&(e.value=t.value)),e.defaultValue=t.defaultValue;break;case"options":e.selected=t.defaultSelected;break;case"script":e.text!==t.text&&(e.text=t.text)}e[n.key]&&e.removeAttribute(n.key)}function o(t,e){if(1===e.nodeType&&n.id(t,"get")){var o=s.get(t);for(var r in o)for(var i,c=0;i=o[r][c];c++)a.add(e,r,i)}}function r(r,i,a){var s,c,d,f=r.cloneNode(!0);if(!(u&&l||1!==r.nodeType&&11!==r.nodeType||n._util_.isXML(r))){e(r,f),s=t(r),c=t(f),d=s.length;for(var p=0;d>p;p++)c[p]&&e(s[p],c[p])}if(i&&(o(r,f),a)){s=t(r),c=t(f),d=s.length;for(var p=0;d>p;p++)o(s[p],c[p])}return f}var i=n._util_,a=i.eventBase.core,s=i.eventBase.queue,c=i.support.dom.div,l=i.support.dom.input.cloneNode(!0).checked,u=!0;return!c.addEventListener&&c.attachEvent&&c.fireEvent&&(c.attachEvent("onclick",function(){u=!1}),c.cloneNode(!0).fireEvent("onclick")),function(t,e){return t=!!t,e=!!e,this.map(function(){return r(this,t,e)})}}()}),n.dom.extend({contains:function(t){var e=this[0];return t=n.dom(t)[0],e&&t?n._util_.contains(e,t):!1}}),n.dom._g=function(t){return"string"===n.type(t)?document.getElementById(t):t},n.dom.contains=function(t,e){var o=n.dom._g;return n._util_.contains(o(t),o(e))},n._util_.smartInsertTo=function(t,e,o,r){var i,a=n.dom(e),s=a[0];if(!r||!s||s.parentNode&&11!==s.parentNode.nodeType)for(var c,l=0;c=a[l];l++)n._util_.smartInsert(n.dom(c),l>0?t.clone(!0):t,o);else r="before"===r,i=n.merge(r?t:a,r?a:t),t!==i&&(t.length=0,n.merge(t,i))},n.dom.extend({appendTo:function(t){return n.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.appendTo"),n._util_.smartInsertTo(this,t,function(t){this.appendChild(t)}),this}}),n.dom.extend({prependTo:function(t){return n.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.prependTo"),n._util_.smartInsertTo(this,t,function(t){this.insertBefore(t,this.firstChild)}),this}}),n.dom.extend({after:function(){n.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.after");var t=this[0]&&this[0].parentNode,e=!t&&[];return n._util_.smartInsert(this,arguments,function(o){t?t.insertBefore(o,this.nextSibling):n.merge(e,o.childNodes)}),e&&n.merge(this,e),this}}),n.dom.extend({before:function(){n.check("^(?:string|function|HTMLElement|\\$DOM)(?:,(?:string|array|HTMLElement|\\$DOM))*$","baidu.dom.before");var t=this[0]&&this[0].parentNode,e=!t&&[];return n._util_.smartInsert(this,arguments,function(o){t?t.insertBefore(o,this):n.merge(e,o.childNodes)}),e&&(e=n.merge(e,this),this.length=0,n.merge(this,e)),this}}),n.dom.extend({insertAfter:function(t){return n.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.insertAfter"),n._util_.smartInsertTo(this,t,function(t){this.parentNode.insertBefore(t,this.nextSibling)},"after"),this}}),n.dom.insertAfter=function(t,e){var o=n.dom._g;return n.dom(o(t)).insertAfter(o(e))[0]},n.dom.extend({insertBefore:function(t){return n.check("^(?:string|HTMLElement|\\$DOM)$","baidu.dom.insertBefore"),n._util_.smartInsertTo(this,t,function(t){this.parentNode.insertBefore(t,this)},"before"),this}}),n.dom.insertBefore=function(t,e){var o=n.dom._g;return n.dom(o(t)).insertBefore(o(e))[0]},n.dom.match=function(){function t(t){for(var e,n=[];t=t.parentNode;)t.nodeType&&n.push(t);for(var e=n.length-1;e>-1;e--)if(1==n[e].nodeType||9==n[e].nodeType)return n[e];return null}var e=document.createElement("DIV");return e.id="__tangram__",function(e,o,r){var i,a=n.array();switch(n.type(o)){case"$DOM":for(var s=e.length-1;s>-1;s--)for(var c=o.length-1;c>-1;c--)e[s]===o[c]&&a.push(e[s]);break;case"function":n.forEach(e,function(t,e){o.call(t,e)&&a.push(t)});break;case"HTMLElement":n.forEach(e,function(t){t==o&&a.push(t)});break;case"string":var l=n.query(o,r||document);n.forEach(e,function(e){if(i=t(e))for(var r=1==i.nodeType?n.query(o,i):l,s=0,c=r.length;c>s;s++)if(r[s]===e){a.push(e);break}}),a=a.unique();break;default:a=n.array(e).unique()}return a}}(),n.dom.extend({filter:function(t){return n.dom(n.dom.match(this,t))}}),n.dom.extend({remove:function(t,e){arguments.length>0&&n.check("^string(?:,boolean)?$","baidu.dom.remove");for(var o,r=t?this.filter(t):this,i=0;o=r[i];i++)e||1!==o.nodeType||(n._util_.cleanData(o.getElementsByTagName("*")),n._util_.cleanData([o])),o.parentNode&&o.parentNode.removeChild(o);return this}}),n.dom.extend({getWindow:function(){var t=this.getDocument();return this.size()<=0?void 0:t.parentWindow||t.defaultView}}),n._util_.nodeName=function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},n._util_.inArray=function(t,e,n){if(!e)return-1;var o,r=Array.prototype.indexOf;if(r)return r.call(e,t,n);for(o=e.length,n=n?0>n?Math.max(0,o+n):n:0;o>n;n++)if(n in e&&e[n]===t)return n;return-1},n.makeArray=function(t,e){var o=e||[];return t?(null==t.length||~"string|function|regexp".indexOf(n.type(t))?[].push.call(o,t):n.merge(o,t),o):o},n._util_.nodeHook=function(){if(!n._util_.support.getSetAttribute){var t={};return t.name=t.id=t.coords=!0,{get:function(e,n){var o=e.getAttributeNode(n);return o&&(t[n]?""!==o.value:o.specified)?o.value:void 0},set:function(t,e,n){var o=t.getAttributeNode(e);return o||(o=document.createAttribute(e),t.setAttributeNode(o)),o.value=n+""}}}}(),n.extend(n._util_,{rfocusable:/^(?:button|input|object|select|textarea)$/i,rtype:/^(?:button|input)$/i,rclickable:/^a(?:rea)?$/i,rboolean:/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,attrHooks:{type:{set:function(t,e){var o=n._util_;if(o.rtype.test(t.nodeName)&&t.parentNode)n._error("type property can't be changed");else if(!n.support.radioValue&&"radio"===e&&n._nodeName(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}},value:{get:function(t,e){var o=n._util_;return o.nodeHook&&n._nodeName(t,"button")?o.nodeHook.get(t,e):e in t?t.value:null},set:function(t,e,o){return bu.nodeHook&&n._nodeName(t,"button")?bu.nodeHook.set(t,e,o):void(t.value=e)}}},nodeHook:{},boolHook:{get:function(t,e){var o,r=n(t).prop(e);return r===!0||"boolean"!=typeof r&&(o=t.getAttributeNode(e))&&o.nodeValue!==!1?e.toLowerCase():void 0},set:function(t,e,o){var r;return e===!1?n(t).removeAttr(o):(r=n._util_.propFix[o]||o,r in t&&(t[r]=!0),t.setAttribute(o,o.toLowerCase())),o}}}),Array.prototype.map=function(t,e){n.check("function(,.+)?","http://passport.baidu.com/passApi/js/baidu.array.map");var o,r,i=n.array([]);for(o=0,r=this.length;r>o;o++)i[o]=t.call(e||this,this[o],o,this);return i},n.array.map=function(t,e,o){return n.isArray(t)?t.map(e,o):t},n.dom.extend({insertHTML:function(t,e){var o,r,i=this[0];return i.insertAdjacentHTML&&!n.browser.opera?i.insertAdjacentHTML(t,e):(o=i.ownerDocument.createRange(),t=t.toUpperCase(),"AFTERBEGIN"==t||"BEFOREEND"==t?(o.selectNodeContents(i),o.collapse("AFTERBEGIN"==t)):(r="BEFOREBEGIN"==t,o[r?"setStartBefore":"setEndAfter"](i),o.collapse(r)),o.insertNode(o.createContextualFragment(e))),i}}),n.dom.extend({offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||document.body,e=/^(?:body|html)$/i;t&&"static"===n.dom(t).getCurrentStyle("position")&&!e.test(t.nodeName);)t=t.offsetParent;return t})}}),n.dom.extend({position:function(){if(this.size()<=0)return 0;var t=/^(?:body|html)$/i,e=this.offset(),n=this.offsetParent(),o=t.test(n[0].nodeName)?{left:0,top:0}:n.offset();return e.left-=parseFloat(this.getCurrentStyle("marginLeft"))||0,e.top-=parseFloat(this.getCurrentStyle("marginTop"))||0,o.left+=parseFloat(n.getCurrentStyle("borderLeftWidth"))||0,o.top+=parseFloat(n.getCurrentStyle("borderTopWidth"))||0,{left:e.left-o.left,top:e.top-o.top}}}),n.dom.extend({offset:function(){var t={setOffset:function(t,e,o){var r=r=n.dom(t),i=r.getCurrentStyle("position");"static"===i&&(t.style.position="relative");var a=r.offset(),s=r.getCurrentStyle("left"),c=r.getCurrentStyle("top"),l=~"absolute|fixed".indexOf(i)&&~(""+s+c).indexOf("auto"),u=l&&r.position();s=u&&u.left||parseFloat(s)||0,c=u&&u.top||parseFloat(c)||0,"function"===n.type("options")&&(e=e.call(t,o,a)),void 0!=e.left&&(t.style.left=e.left-a.left+s+"px"),void 0!=e.top&&(t.style.top=e.top-a.top+c+"px")},bodyOffset:function(t){var e=n.dom(t);return{left:t.offsetLeft+parseFloat(e.getCurrentStyle("marginLeft"))||0,top:t.offsetTop+parseFloat(e.getCurrentStyle("marginTop"))||0}}};return function(e){if(e){n.check("^(?:object|function)$","baidu.dom.offset");for(var o,r=0;o=this[r];r++)t.setOffset(o,e,r);return this}var i,a,s,c=this[0],l=this.getDocument(),u={left:0,top:0};return c===l.body?t.bodyOffset(c,l):("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),i=this.getWindow(),a=l.documentElement,s=l.body,{left:u.left+(i.pageXOffset||Math.max(a.scrollLeft,s.scrollLeft))-(a.clientLeft||s.clientLeft),top:u.top+(i.pageYOffset||Math.max(a.scrollTop,s.scrollTop))-(a.clientTop||s.clientTop)})}}()}),n._util_.smartScroll=function(t){function e(t){return t&&9===t.nodeType}function o(t){return"Window"==n.type(t)?t:e(t)?t.defaultView||t.parentWindow:!1}var r={scrollLeft:"pageXOffset",scrollTop:"pageYOffset"}[t],i="scrollLeft"===t;return{get:function(e){var i=o(e);return i?r in i?i[r]:n.browser.isStrict&&i.document.documentElement[t]||i.document.body[t]:e[t]},set:function(e,n){if(e){var r=o(e);r?r.scrollTo(i?n:this.get(e),i?this.get(e):n):e[t]=n}}}},n.dom.extend({scrollLeft:function(){var t=n._util_.smartScroll("scrollLeft");return function(e){return e&&n.check("^(?:number|string)$","baidu.dom.scrollLeft"),this.size()<=0?void 0===e?0:this:void 0===e?t.get(this[0]):t.set(this[0],e)||this}}()}),n.dom.extend({scrollTop:function(){var t=n._util_.smartScroll("scrollTop");return function(e){return e&&n.check("^(?:number|string)$","baidu.dom.scrollTop"),this.size()<=0?void 0===e?0:this:void 0===e?t.get(this[0]):t.set(this[0],e)||this}}()}),n._util_.getWindowOrDocumentWidthOrHeight=n._util_.getWindowOrDocumentWidthOrHeight||function(){var t={window:{},document:{}};return n.forEach(["Width","Height"],function(e){var o="client"+e,r="offset"+e,i="scroll"+e;t.window["get"+e]=function(t){var e=t.document,r=e.documentElement[o];return n.browser.isStrict&&r||e.body&&e.body[o]||r},t.document["get"+e]=function(t){var e=t.documentElement;return e[o]>=e[i]?e[o]:Math.max(t.body[i],e[i],t.body[r],e[r])}}),function(e,n,o){return t[n]["width"===o?"getWidth":"getHeight"](e)}}(),n.dom.extend({width:function(t){return n._util_.access(this,"width",t,function(t,e,o){var r=void 0!==o,i=r&&parseFloat(o),a=null!=t&&t==t.window?"window":9===t.nodeType?"document":!1;if(!(r&&0>i||isNaN(i)))return r&&/^(?:\d*\.)?\d+$/.test(o+="")&&(o+="px"),a?n._util_.getWindowOrDocumentWidthOrHeight(t,a,e):r?t.style.width=o:n._util_.getWidthOrHeight(t,e)})}}),n.dom.extend({height:function(t){return n._util_.access(this,"height",t,function(t,e,o){var r=void 0!==o,i=r&&parseFloat(o),a=null!=t&&t==t.window?"window":9===t.nodeType?"document":!1;if(!(r&&0>i||isNaN(i)))return r&&/^(?:\d*\.)?\d+$/.test(o+="")&&(o+="px"),a?n._util_.getWindowOrDocumentWidthOrHeight(t,a,e):r?t.style.height=o:n._util_.getWidthOrHeight(t,e)})}}),n.dom.extend({innerWidth:function(){if(this.size()<=0)return 0;var t=this[0],e=null!=t&&t===t.window?"window":9===t.nodeType?"document":!1;return e?n._util_.getWindowOrDocumentWidthOrHeight(t,e,"width"):n._util_.getWidthOrHeight(t,"width","padding")}}),n.dom.extend({innerHeight:function(){if(this.size()<=0)return 0;var t=this[0],e=null!=t&&t===t.window?"window":9===t.nodeType?"document":!1;return e?n._util_.getWindowOrDocumentWidthOrHeight(t,e,"height"):n._util_.getWidthOrHeight(t,"height","padding")}}),n.dom.extend({outerWidth:function(t){if(this.size()<=0)return 0;var e=this[0],o=null!=e&&e===e.window?"window":9===e.nodeType?"document":!1;return o?n._util_.getWindowOrDocumentWidthOrHeight(e,o,"width"):n._util_.getWidthOrHeight(e,"width","padding|border"+(t?"|margin":""))}}),n.dom.extend({outerHeight:function(t){if(this.size()<=0)return 0;var e=this[0],o=null!=e&&e===e.window?"window":9===e.nodeType?"document":!1;return o?n._util_.getWindowOrDocumentWidthOrHeight(e,o,"height"):n._util_.getWidthOrHeight(e,"height","padding|border"+(t?"|margin":""))}}),n.dom.extend({on:function(t,e,o,r,i){var a=n._util_.eventBase.core;return"object"==typeof e&&e?(r=o,o=e,e=null):"function"==typeof o?(r=o,o=null):"function"==typeof e&&(r=e,e=o=null),"string"==typeof t?(t=t.split(/[ ,]+/),this.each(function(){n.forEach(t,function(t){a.add(this,t,r,e,o,i)},this)})):"object"==typeof t&&(r&&(r=null),n.forEach(t,function(t,n){this.on(n,e,o,t,i)},this)),this}}),n.event.on=n.on=function(t,e,o){return"string"==typeof t&&(t=n.dom.g(t)),n.dom(t).on(e.replace(/^\s*on/,""),o),t},n.dom.extend({off:function(t,e,o){var r=n._util_.eventBase.core,i=this;return t?"string"==typeof t?("function"==typeof e&&(o=e,e=null),t=t.split(/[ ,]/),n.forEach(this,function(i){n.forEach(t,function(t){r.remove(i,t,o,e)})})):"object"==typeof t&&n.forEach(t,function(t,n){i.off(n,e,t)}):n.forEach(this,function(t){r.remove(t)}),this}}),n.event.un=n.un=function(t,e,o){return t=n.dom.g(t),n.dom(t).off(e.replace(/^\s*on/,""),o),t},n.dom.extend({bind:function(t,e,n){return this.on(t,void 0,e,n)}}),n.dom.extend({unbind:function(t,e){return this.off(t,e)}}),n.each=function(t,e,n){var o,r,i,a;if("function"==typeof e&&t)if(r="number"==typeof t.length?t.length:t.byteLength,"number"==typeof r){if("[object Function]"===Object.prototype.toString.call(t))return t;for(o=0;r>o&&(i=t[o]||t.charAt&&t.charAt(o),a=e.call(n||i,o,i,t),a!==!1&&"break"!=a);o++);}else if("number"==typeof t)for(o=0;t>o&&(a=e.call(n||o,o,o,o),a!==!1&&"break"!=a);o++);else if("object"==typeof t)for(o in t)if(t.hasOwnProperty(o)&&(a=e.call(n||t[o],o,t[o],t),a===!1||"break"==a))break;return t},void function(t){var e=/firefox/i.test(navigator.userAgent);n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,o){t[e]={bindType:o,pack:function(t){var o=n.dom.contains;return function(n){var r=n.relatedTarget;return n.type=e,!r||r!==this&&!o(this,r)?t.apply(this,arguments):void 0}}}}),e&&n.each({focusin:"focus",focusout:"blur"},function(e,n){t[e]={bindType:n,attachElements:"textarea,select,input,button,a"}}),t.mousewheel={bindType:e?"DOMMouseScroll":"mousewheel",pack:function(t){return function(n){var o=n.originalEvent;return n.type="mousewheel",n.wheelDelta=n.wheelDelta||(e?-40*o.detail:o.wheelDelta)||0,t.apply(this,arguments)}}}}(n.event.special),void function(t){var e=t.queue;n.dom.extend({triggerHandler:function(t,o,r){return r&&!r.triggerData&&(r.triggerData=o),n.forEach(this,function(n){e.call(n,t,void 0,r)}),this}})}(n._util_.eventBase),void function(t,e){var o=e.special,r=t.queue,i=n.dom,a={submit:1},s=function(t,e){var n;document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(t,!0,!0)):document.createEventObject&&(n=document.createEventObject(),n.type=t);var o={};if(e)for(var r in e)try{n[r]=e[r]}catch(i){n.extraData||(n.extraData=o),o[r]=e[r]}return n},c=function(t,e,n){return t.dispatchEvent?t.dispatchEvent(n):t.fireEvent?t.fireEvent("on"+e,n):void 0},l=function(t){return t.replace(/^\w/,function(t){return t.toUpperCase()})},u=function(t,e,n,o,u){var d,f;if(d=s(e,o)){if(n&&(d.triggerData=n),u)r.call(t,e,null,d);else try{f=c(t,e,d)}catch(p){i(t).triggerHandler(e,n,d)}if(f!==!1&&a[e])try{t[e]?t[e]():(e=l(e),t[e]&&t[e]())}catch(p){}}};n.dom.extend({trigger:function(t,e,n){var r;return t in o&&(r=o[t]),this.each(function(){u(this,t,e,n,r)}),this}})}(n._util_.eventBase,n.event),n.array.extend({indexOf:function(t,e){n.check(".+(,number)?","baidu.array.indexOf");var o=this.length;for((e=0|e)<0&&(e=Math.max(0,o+e));o>e;e++)if(e in this&&this[e]===t)return e;return-1}}),n.dom.extend({ready:function(){var t,e=this,o=window.document;n._util_.isDomReady=!1,n._util_._readyWait=1,n.dom.holdReady=function(t){t?n._util_.readyWait++:r(!0)};var r=function(e){if(e===!0?!--n._util_.readyWait:!n._util_.isDomReady){if(!o.body)return setTimeout(r,1);n._util_.isReady=!0,e!==!0&&--n._util_.readyWait>0||(t.resolveWith(o),n.dom.trigger&&n.dom(o).trigger("ready").off("ready"))}},i=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",i,!1),r()):"complete"===o.readyState&&(o.detachEvent("onreadystatechange",i),r())},a=function(e){if(!t)if(t=n.Deferred(),"complete"===o.readyState)setTimeout(r,1);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",r,!1);else{o.attachEvent("onreadystatechange",i),window.attachEvent("onload",r);var a=!1;try{a=null==window.frameElement&&o.documentElement}catch(s){}a&&a.doScroll&&!function c(){if(!n._util_.isDomReady){try{a.doScroll("left")}catch(t){return setTimeout(c,50)}r()}}()}return t.promise(e)};return function(t){return a().done(t),e}}()}),n.dom.ready=n.dom.fn.ready,n.dom.extend({one:function(t,e,n,o){return this.on(t,e,n,o,1)}}),n.dom.extend({delegate:function(t,e,n,o){return"function"==typeof n&&(o=n,n=null),this.on(e,t,n,o)}}),n.dom.extend({undelegate:function(t,e,n){return this.off(e,t,n)}}),void function(){for(var t="blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave mousewheel change select submit keydown keypress keyup error contextmenu".split(" "),e={},o=function(t){e[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)}},r=0,i=t.length;i>r;r++)o(t[r]);n.dom.extend(e)}(),n.dom.extend({eq:function(t){return n.check("number","http://passport.baidu.com/passApi/js/baidu.dom.eq"),n.dom(this.get(t))}}),n.dom.extend({is:function(t){return n.dom.match(this,t).length>0}}),n.dom.extend({children:function(t){var e=[];return this.each(function(){n.forEach(this.children||this.childNodes,function(t){1==t.nodeType&&e.push(t)})}),n.dom(n.dom.match(e,t))}}),n.dom.children=function(t){return n.check("string|HTMLElement","baidu.dom.children"),n.dom(n.isString(t)?"#"+t:t).children().toArray()},n.dom.extend({first:function(){return n.dom(this[0])}}),n.dom.first=function(t){return n.isString(t)&&(t="#"+t),n.dom(t).children()[0]},n.dom.extend({slice:function(){var t=Array.prototype.slice;return function(){return n.check("number(,number)?","baidu.dom.slice"),n.dom(t.apply(this,arguments))}}()}),n.dom.extend({closest:function(t,e){var o=n.array();return n.forEach(this,function(r){for(var i=[r];r=r.parentNode;)r.nodeType&&i.push(r);i=n.dom.match(i,t,e),i.length&&o.push(i[0])}),n.dom(o.unique())}}),n.dom.extend({next:function(t){var e=n.dom();return n.forEach(this,function(t){for(;(t=t.nextSibling)&&t&&1!=t.nodeType;);t&&(e[e.length++]=t)}),t?e.filter(t):e}}),n.dom.extend({parent:function(t){var e=[];return n.forEach(this,function(t){(t=t.parentNode)&&1==t.nodeType&&e.push(t)}),n.dom(n.dom.match(e,t))}}),n.dom.extend({parents:function(t){var e=[];return n.forEach(this,function(t){for(var o=[];(t=t.parentNode)&&1==t.nodeType;)o.push(t);n.merge(e,o)}),n.dom(n.dom.match(e,t))}}),n.dom.extend({prev:function(t){var e=[];return n.forEach(this,function(t){for(;t=t.previousSibling;)if(1==t.nodeType){e.push(t);break}}),n.dom(n.dom.match(e,t))}}),n.platform=n.platform||function(){var t=navigator.userAgent,e=function(){};return n.forEach("Android iPad iPhone Linux Macintosh Windows X11".split(" "),function(o){var r=o.charAt(0).toUpperCase()+o.toLowerCase().substr(1);n["is"+r]=e["is"+r]=!!~t.indexOf(o)}),e}(),n.createChain("sio",function(t){switch(typeof t){case"string":return new n.sio.$Sio(t)}},function(t){this.url=t}),n.sio._createScriptTag=function(t,e,n){t.setAttribute("type","text/javascript"),n&&t.setAttribute("charset",n),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)},n.sio._removeScriptTag=function(t){if(t.clearAttributes)t.clearAttributes();else for(var e in t)t.hasOwnProperty(e)&&delete t[e];t&&t.parentNode&&t.parentNode.removeChild(t),t=null},n.sio.extend({callByBrowser:function(t,e){var o,r=this.url,i=document.createElement("SCRIPT"),a=0,s=e||{},c=s.charset,l=t||function(){},u=s.timeOut||0;i.onload=i.onreadystatechange=function(){if(!a){var t=i.readyState;if("undefined"==typeof t||"loaded"==t||"complete"==t){a=1;try{l(),clearTimeout(o)}finally{i.onload=i.onreadystatechange=null,n.sio._removeScriptTag(i)}}}},u&&(o=setTimeout(function(){i.onload=i.onreadystatechange=null,n.sio._removeScriptTag(i),s.onfailure&&s.onfailure()},u)),n.sio._createScriptTag(i,r,c)}}),n.sio.extend({callByServer:function(t,e){function o(e){return function(){try{e?u.onfailure&&u.onfailure():(t.apply(window,arguments),clearTimeout(i)),window[r]=null,delete window[r]}catch(o){}finally{n.sio._removeScriptTag(c)}}}var r,i,a,s=this.url,c=document.createElement("SCRIPT"),l="bd__cbs__",u=e||{},d=u.charset,f=u.queryField||"callback",p=u.timeOut||0,g=new RegExp("(\\?|&)"+f+"=([^&]*)");n.lang.isFunction(t)?(r=l+Math.floor(2147483648*Math.random()).toString(36),window[r]=o(0)):n.lang.isString(t)?r=t:(a=g.exec(s))&&(r=a[2]),p&&(i=setTimeout(o(1),p)),s=s.replace(g,"$1"+f+"="+r),s.search(g)<0&&(s+=(s.indexOf("?")<0?"?":"&")+f+"="+r),n.sio._createScriptTag(c,s,d)}}),n.object=n.object||{},n.lang.isArray=n.isArray,n.object.isPlain=n.isPlainObject,n.object.extend=n.extend,n.lang.isObject=n.isObject,n.lang.isFunction=n.isFunction,n.lang.Class=function(){var t=(n._global_=window[n.guid])._instances_;return t||(t=n._global_._instances_={}),function(){this.guid=n.id(),this._decontrol_||(t[this.guid]=this)}}(),n.lang.Class.prototype.dispose=function(){delete n._global_._instances_[this.guid];for(var t in this)"function"!=typeof this[t]&&delete this[t];this.disposed=!0},n.lang.Class.prototype.toString=function(){return"[object "+(this._type_||this.__type||this._className||"Object")+"]"};var u=function(t){return n._global_._instances_[t]};n.baiduInstance=u,n.lang.guid=function(){return n.id()},n.lang.isString=n.isString,n.lang.Event=function(t,e){this.type=t,this.returnValue=!0,this.target=e||null,this.currentTarget=null},n.lang.Class.prototype.fire=n.lang.Class.prototype.dispatchEvent=function(t,e){n.lang.isString(t)&&(t=new n.lang.Event(t)),!this.__listeners&&(this.__listeners={}),e=e||{};for(var o in e)t[o]=e[o];var o,r,i=this,a=i.__listeners,s=t.type;if(t.target=t.target||(t.currentTarget=i),s.indexOf("on")&&(s="on"+s),"function"==typeof i[s]&&i[s].apply(i,arguments),"object"==typeof a[s])for(o=0,r=a[s].length;r>o;o++)a[s][o]&&a[s][o].apply(i,arguments);return t.returnValue},n.lang.Class.prototype.on=n.lang.Class.prototype.addEventListener=function(t,e,n){if("function"==typeof e){!this.__listeners&&(this.__listeners={});var o,r=this.__listeners;for(t.indexOf("on")&&(t="on"+t),"object"!=typeof r[t]&&(r[t]=[]),o=r[t].length-1;o>=0;o--)if(r[t][o]===e)return e;return r[t].push(e),n&&"string"==typeof n&&(r[t][n]=e),e}},n.page=n.page||{},n.global.get=function(t){return n.global(t)},n.global.set=function(t,e,o){return n.global(t,e,!o)},n.lang.instance=function(t){return n._global_._instances_[t]||null},n.lang.inherits=function(t,e,n){var o,r,i=t.prototype,a=new Function;a.prototype=e.prototype,r=t.prototype=new a;for(o in i)r[o]=i[o];return t.prototype.constructor=t,t.superClass=e.prototype,"string"==typeof n&&(r.__type=n),t.extend=function(e){for(var n in e)r[n]=e[n];return t},t},n.dom.getStyle=function(t,e){return n.dom(n.dom.g(t)).css(e)},n.page.getScrollTop=function(){var t=document;return window.pageYOffset||t.documentElement.scrollTop||t.body.scrollTop},n.page.getScrollLeft=function(){var t=document;return window.pageXOffset||t.documentElement.scrollLeft||t.body.scrollLeft},function(){n.page.getMousePosition=function(){return{x:n.page.getScrollLeft()+t.x,y:n.page.getScrollTop()+t.y}};var t={x:0,y:0};n.event.on(document,"onmousemove",function(e){e=window.event||e,t.x=e.clientX,t.y=e.clientY})}(),n.event.preventDefault=function(t){return new n.event(t).preventDefault()},n.lang.createClass=function(t,e){e=e||{};var o=e.superClass||n.lang.Class,r=function(){var n=this;e.decontrolled&&(n.__decontrolled=!0),o.apply(n,arguments);for(i in r.options)n[i]=r.options[i];t.apply(n,arguments);for(var i=0,a=r["r"];a&&i<a.length;i++)a[i].apply(n,arguments)};r.options=e.options||{};var i=function(){},a=t.prototype;i.prototype=o.prototype;var s=r.prototype=new i;for(var c in a)s[c]=a[c];var l=e.className||e.type;return"string"==typeof l&&(s.__type=l),s.constructor=a.constructor,r.extend=function(t){for(var e in t)r.prototype[e]=t[e];return r},r},n.dom.setPixel=function(t,e,o){"undefined"!=typeof o&&(n.dom.g(t).style[e]=o+(isNaN(o)?"":"px"))},n.page.getViewHeight=function(){var t=document,e=n.browser.ie||1,o="BackCompat"===t.compatMode&&9>e?t.body:t.documentElement,r=o.clientHeight,i=(navigator.userAgent,!navigator.userAgent.match(/OS [1-8]_\d[_\d]* like Mac OS X/i)),a=!!navigator.userAgent.toString().match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),s=navigator.userAgent.toString().indexOf("iPad");return i&&a&&null!=s&&(r=Math.max(o.clientHeight,o.scrollHeight)),r},n.global.getZIndex=function(t,e){var o=n.global.get("zIndex");return t&&(o[t]=o[t]+(e||1)),o[t]},n.global.set("zIndex",{popup:5e4,dialog:1e3},!0),n.string.extend({format:function(t){var e=this.valueOf(),n=Array.prototype.slice.call(arguments,0),o=Object.prototype.toString;return n.length?(n=1==n.length&&null!==t&&/\[object Array\]|\[object Object\]/.test(o.call(t))?t:n,e.replace(/#\{(.+?)\}/g,function(t,e){var r=n[e];return"[object Function]"==o.call(r)&&(r=r(e)),"undefined"==typeof r?"":r})):e}}),n.string.extend({encodeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}}),n.lang.isElement=n.isElement,n.createChain("fn",function(t){return new n.fn.$Fn(~"function|string".indexOf(n.type(t))?t:function(){})},function(t){this.fn=t}),n.fn.extend({bind:function(t){var e=this.fn,o=arguments.length>1?Array.prototype.slice.call(arguments,1):null;return function(){var r="string"===n.type(e)?t[e]:e,i=o?o.concat(Array.prototype.slice.call(arguments,0)):arguments;return r.apply(t||r,i)}}}),n.fn.bind=function(t){var e=n.fn(t);return e.bind.apply(e,Array.prototype.slice.call(arguments,1))},n.lang.register=function(t,e,n){var o=t["r"]||(t["r"]=[]);o[o.length]=e;for(var r in n)t.prototype[r]=n[r]},n.lang.isDate=n.isDate,n.page.getWidth=function(){var t=document,e=t.body,n=t.documentElement,o="BackCompat"==t.compatMode?e:t.documentElement;return Math.max(n.scrollWidth,e.scrollWidth,o.clientWidth)},n.page.getHeight=function(){var t=document,e=t.body,n=t.documentElement,o="BackCompat"==t.compatMode?e:t.documentElement;return Math.max(n.scrollHeight,e.scrollHeight,o.clientHeight)},function(){function t(){g=!1,clearInterval(c),i.capture&&r.releaseCapture?r.releaseCapture():i.capture&&window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),document.body.style.MozUserSelect=p;var e=n.dom(document);e.off("selectstart",o),i.autoStop&&e.off("mouseup",t),n.isFunction(i.ondragend)&&i.ondragend(r,i,{left:d,top:f})}function e(){if(!g)return void clearInterval(c);var t=i.range||[],e=n.page.getMousePosition(),o=l+e.x-a,p=u+e.y-s;n.isObject(t)&&4==t.length&&(o=Math.max(t[3],o),o=Math.min(t[1]-r.offsetWidth,o),p=Math.max(t[0],p),p=Math.min(t[2]-r.offsetHeight,p)),r.style.left=o+"px",r.style.top=p+"px",d=o,f=p,n.isFunction(i.ondrag)&&i.ondrag(r,i,{left:d,top:f})}function o(t){return n.event.preventDefault(t,!1)}var r,i,a,s,c,l,u,d,f,p,g=!1;n.dom.drag=function(m,h){if(!(r=n.dom.g(m)))return!1;i=n.object.extend({autoStop:!0,capture:!0,interval:16},h),d=l=parseInt(n.dom.getStyle(r,"left"))||0,f=u=parseInt(n.dom.getStyle(r,"top"))||0,g=!0,setTimeout(function(){var t=n.page.getMousePosition();a=i.mouseEvent?n.page.getScrollLeft()+i.mouseEvent.clientX:t.x,s=i.mouseEvent?n.page.getScrollTop()+i.mouseEvent.clientY:t.y,clearInterval(c),c=setInterval(e,i.interval)},1);var y=n.dom(document);return i.autoStop&&y.on("mouseup",t),y.on("selectstart",o),i.capture&&r.setCapture?r.setCapture():i.capture&&window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),p=document.body.style.MozUserSelect,document.body.style.MozUserSelect="none",n.isFunction(i.ondragstart)&&i.ondragstart(r,i),{stop:t,dispose:t,update:function(t){n.object.extend(i,t)}}}}(),n.page.getViewWidth=function(){var t=document,e="BackCompat"==t.compatMode?t.body:t.documentElement,n=e.clientWidth,o=(navigator.userAgent,!navigator.userAgent.match(/OS [1-8]_\d[_\d]* like Mac OS X/i)),r=!!navigator.userAgent.toString().match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),i=navigator.userAgent.toString().indexOf("iPad");return o&&r&&null!=i&&(n=Math.max(e.clientWidth,e.scrollWidth)),n},n.array.extend({contains:function(t){return!!~this.indexOf(t)}}),n.array.extend({remove:function(t){for(var e=this.length;e--;)this[e]===t&&this.splice(e,1);return this}}),n.lang.Class.prototype.un=n.lang.Class.prototype.removeEventListener=function(t,e){var n,o=this.__listeners;
if(o)if("undefined"!=typeof t){if(t.indexOf("on")&&(t="on"+t),"undefined"==typeof e)delete o[t];else if(o[t])for("string"==typeof e&&(e=o[t][e])&&delete o[t][e],n=o[t].length-1;n>=0;n--)o[t][n]===e&&o[t].splice(n,1)}else for(n in o)delete o[n]},n.array=n.array||{},n.dom=n.dom||{},n.addClass=n.dom.addClass||{},n.g=n.G=n.dom.g||{},n.getAttr=n.dom.getAttr||{},n.getStyle=n.dom.getStyle||{},n.hide=n.dom.hide||{},n.insertHTML=n.dom.insertHTML||{},n.q=n.Q=n.dom.q||{},n.removeClass=n.dom.removeClass||{},n.setAttr=n.dom.setAttr||{},n.setAttrs=n.dom.setAttrs||{},n.dom.setOuterHeight=n.dom.setBorderBoxHeight||{},n.dom.setOuterWidth=n.dom.setBorderBoxWidth||{},n.setStyle=n.dom.setStyle||{},n.setStyles=n.dom.setStyles||{},n.show=n.dom.show||{},n.e=n.element=n.element||{},n.event=n.event||{},n.on=n.event.on||{},n.un=n.event.un||{},n.lang=n.lang||{},n.inherits=n.lang.inherits||{},n.object=n.object||{},n.string=n.string||{},n.decodeHTML=n.string.decodeHTML||{},n.encodeHTML=n.string.encodeHTML||{},n.format=n.string.format||{},n.trim=n.string.trim||{};var d=null;if("function"!=typeof d)var d=function(){};d.resourcePath="",d.skinName="default",d.version="1.0.2.2",d.Base=function(){n.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},n.lang.inherits(d.Base,n.lang.Class,"http://passport.baidu.com/passApi/js/magic.Base").extend({getElement:function(t){return document.getElementById(this.$getId(t))},getElements:function(){var t={},e=this._ids;for(var n in e)t[n]=this.getElement(n);return t},$getId:function(t){return t=n.lang.isString(t)?t:"",this._ids[t]||(this._ids[t]=this._eid+t)},$mappingDom:function(t,e){return n.lang.isString(e)?this._ids[t]=e:e&&e.nodeType&&(e.id?this._ids[t]=e.id:e.id=this.$getId(t)),this},$dispose:function(){this.options.content.remove()}}),d.Dialog=n.lang.createClass(function(t){this.options=t},{type:"magic.Dialog",superClass:d.Base}).extend({_getTemplate:function(){var t=this,e=this.options;return'<div class="tang-pass-dialog" id="'+t.$getId("dialog")+'"></div><div class="tang-foreground" id="'+t.$getId("foreground")+'" style="width: '+e.width+";margin-left:-"+parseInt(e.width)/2+'%"><div class="tang-title" id="'+t.$getId("title")+'"><span class="tang-title-text" id="'+t.$getId("titleText")+'">'+t.options.titleText+"</span>"+(e.words?'<a class="tang-title-links" id="'+t.$getId("titleLinks")+'" href="'+e.links+'">'+e.words+"</a>":"")+'<a id="'+t.$getId("closeBtn")+'" class="close-btn" href="###" onmousedown="event.stopPropagation &amp;&amp; event.stopPropagation(); event.cancelBubble = true; return false;" onclick="return false;"></a></div><div class="tang-body" id="'+t.$getId("body")+'"><div class="tang-content" id="'+t.$getId("content")+'"></div></div></div>'},getElement:function(t){return t?document.getElementById(this.$getId(t)):this.options.content},_hide:function(){this.getElement().style.display="none"},hide:function(){var t=this;return this.fire("hide")===!1?this:void(t.getElement().style.display="none")},_setPos:function(){var t=this,e=document.documentElement,o=document.body;t.getElement("dialog").style.height=Math.max(e.scrollHeight,o.scrollHeight)+"px";var r=Math.max(10,(e.clientHeight-t.getElement("foreground").offsetHeight)/2);t.getElement("foreground").style.top=n(window).scrollTop()+r+"px"},show:function(){var t=this;return document.documentElement,document.body,this.fire("show")===!1?this:(t.getElement().style.display="",void t._setPos())},clearWhriteBlock:function(){},_setEvent:function(){var t=this,e=function(t){t.stopPropagation(),t.preventDefault(),n(document).off("click",e,!0)};n(this.getElement("closeBtn")).on("touchstart",function(){n(t.getElement("closeBtn")).addClass("close-btn-hover")}),n(this.getElement("closeBtn")).on("touchend",function(){n(t.getElement("closeBtn")).removeClass("close-btn-hover")}),n(this.getElement("closeBtn")).on("click",function(o){o.preventDefault(),t.hide(),n(document).on("click",e,!0)}),n(t.getElement()).on("touchmove",function(){}),n(t.getElement()).on("touchstart",function(e){e.target.id==t.getElement().id&&t.$animates("foreground","localonly").css({opacity:"1"})}),n(window).bind("orientationchange",function(){setTimeout(function(){t._setPos()},400)})},render:function(t){return this.fire("render")===!1?this:(this.getElement().innerHTML=this._getTemplate(),document.body.appendChild(this.getElement()),this.getElement("content").appendChild(t),void this._setEvent())}});var e=e||window.passport||{};e._modulePool=e._modulePool||{},e._define=e._define||function(t,n){e._modulePool[t]=n&&n()},e._getModule=e._getModule||function(t){return e._modulePool[t]};var e=window.passport||{};e._load=e._load||function(t,e,n){var o=document,r=o.createElement("SCRIPT");if(e){r.type="text/javascript",r.charset="UTF-8";var i=t.split("?")[0],a=Math.round(1e3*Math.random()),s=(new Date).getTime();r.readyState?r.onreadystatechange=function(){if("loaded"===r.readyState||"complete"===r.readyState){if(r.onreadystatechange=null,100===a){var t=(new Date).getTime()-s;(new Image).src=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&url="+encodeURIComponent(i)+"&time="+t}n&&n()}}:r.onload=function(){if(100===a){var t=(new Date).getTime()-s;(new Image).src=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&url="+encodeURIComponent(i)+"&time="+t}n&&n()},r.src=100===a?i+"?t="+Math.random():t,o.getElementsByTagName("head")[0].appendChild(r)}else r.type="text/javascript",r.charset="UTF-8",r.src=t,o.getElementsByTagName("head")[0].appendChild(r),r.readyState?r.onreadystatechange=function(){("loaded"===r.readyState||"complete"===r.readyState)&&(r.onreadystatechange=null,n&&n())}:r.onload=function(){n&&n()}},e.ieVersion=function(){var t,e=navigator.userAgent.toLowerCase(),n=e.indexOf("msie")>-1;return n&&(t=e.match(/msie ([\d.]+)/)[1]),t},e._use=e._use||function(t,n,o){function r(){var t=e._getModule(c);if(!t)throw new Error("load "+c+"module script error.");o&&o(t)}var i={"http:":"http://passport.bdimg.com/","https:":"https://ss0.bdstatic.com/5LMZfyabBhJ3otebn9fN2DJv"};e.ieVersion()<=8&&(i={"http:":"http://passport.baidu.com/","https:":"https://passport.baidu.com"});var a;a=e&&"https"===e._protocol?"https:":window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase();var s=(i[a]||i["https:"])+n,c=t+".js",l=e._getModule(c);l?o&&o(l):e._load(s,!0,r)},e.use=e.use||function(t,n,o){var r=n&&n.tangram===!1?"":"_tangram";n&&n.protocol&&(e._protocol=n.protocol),"reg"===t&&n&&n.regPhoneOnly&&(t="regPhone");var i="login"===t&&n&&n.loginVersion&&"v4"===n.loginVersion,a=i?"loginv4_2a0aa34.js"/*tpa=http://passport.baidu.com/passApi/js/loginv4_2a0aa34.js*/:"login_b6ddb5d.js"/*tpa=http://passport.baidu.com/passApi/js/login_b6ddb5d.js*/,s=i?"loginv4_tangram_51175aa.js"/*tpa=http://passport.baidu.com/passApi/js/loginv4_tangram_51175aa.js*/:"login_tangram_cbb2f15.js"/*tpa=http://passport.baidu.com/passApi/js/login_tangram_cbb2f15.js*/,c={login:a,login_tangram:s,smsloginEn:"smsloginEn_6e229f0.js"/*tpa=http://passport.baidu.com/passApi/js/smsloginEn_6e229f0.js*/,smsloginEn_tangram:"smsloginEn_tangram_7824f1f.js"/*tpa=http://passport.baidu.com/passApi/js/smsloginEn_tangram_7824f1f.js*/,loginWLtoPC:"loginWLtoPC_98684d0.js"/*tpa=http://passport.baidu.com/passApi/js/loginWLtoPC_98684d0.js*/,accConnect:"accConnect_8dea38d.js"/*tpa=http://passport.baidu.com/passApi/js/accConnect_8dea38d.js*/,accConnect_tangram:"accConnect_tangram_b42d6cb.js"/*tpa=http://passport.baidu.com/passApi/js/accConnect_tangram_b42d6cb.js*/,accRealName:"accRealName_cf7f3e5.js"/*tpa=http://passport.baidu.com/passApi/js/accRealName_cf7f3e5.js*/,accRealName_tangram:"accRealName_tangram_58165f1.js"/*tpa=http://passport.baidu.com/passApi/js/accRealName_tangram_58165f1.js*/,checkPhone:"checkPhone_d490a05.js"/*tpa=http://passport.baidu.com/passApi/js/checkPhone_d490a05.js*/,checkPhone_tangram:"checkPhone_tangram_d734576.js"/*tpa=http://passport.baidu.com/passApi/js/checkPhone_tangram_d734576.js*/,checkIDcard:"checkIDcard_59a38e5.js"/*tpa=http://passport.baidu.com/passApi/js/checkIDcard_59a38e5.js*/,checkIDcard_tangram:"checkIDcard_tangram_801bdc5.js"/*tpa=http://passport.baidu.com/passApi/js/checkIDcard_tangram_801bdc5.js*/,travelComplete:"travelComplete_86e2912.js"/*tpa=http://passport.baidu.com/passApi/js/travelComplete_86e2912.js*/,travelComplete_tangram:"travelComplete_tangram_a3d4b0a.js"/*tpa=http://passport.baidu.com/passApi/js/travelComplete_tangram_a3d4b0a.js*/,bindGuide:"bindGuide_abc8126.js"/*tpa=http://passport.baidu.com/passApi/js/bindGuide_abc8126.js*/,bindGuide_tangram:"bindGuide_tangram_5781ac6.js"/*tpa=http://passport.baidu.com/passApi/js/bindGuide_tangram_5781ac6.js*/,accSetPwd:"accSetPwd_8109ba5.js"/*tpa=http://passport.baidu.com/passApi/js/accSetPwd_8109ba5.js*/,accSetPwd_tangram:"accSetPwd_tangram_d00b180.js"/*tpa=http://passport.baidu.com/passApi/js/accSetPwd_tangram_d00b180.js*/,IDCertify:"IDCertify_cf99365.js"/*tpa=http://passport.baidu.com/passApi/js/IDCertify_cf99365.js*/,IDCertify_tangram:"IDCertify_tangram_ef7eb24.js"/*tpa=http://passport.baidu.com/passApi/js/IDCertify_tangram_ef7eb24.js*/,secondCardVerify:"secondCardVerify_7d5de75.js"/*tpa=http://passport.baidu.com/passApi/js/secondCardVerify_7d5de75.js*/,secondCardVerify_tangram:"secondCardVerify_tangram_918560f.js"/*tpa=http://passport.baidu.com/passApi/js/secondCardVerify_tangram_918560f.js*/,IDCertifyQrcode:"IDCertifyQrcode_4db6064.js"/*tpa=http://passport.baidu.com/passApi/js/IDCertifyQrcode_4db6064.js*/,IDCertifyQrcode_tangram:"IDCertifyQrcode_tangram_6536ce1.js"/*tpa=http://passport.baidu.com/passApi/js/IDCertifyQrcode_tangram_6536ce1.js*/,loadingApi:"loadingApi_c483bcd.js"/*tpa=http://passport.baidu.com/passApi/js/loadingApi_c483bcd.js*/,loadingApi_tangram:"loadingApi_tangram_6256e4f.js"/*tpa=http://passport.baidu.com/passApi/js/loadingApi_tangram_6256e4f.js*/,loginWap:"loginWap_6da7ccb.js"/*tpa=http://passport.baidu.com/passApi/js/loginWap_6da7ccb.js*/,reg:"reg_33edf97.js"/*tpa=http://passport.baidu.com/passApi/js/reg_33edf97.js*/,reg_tangram:"reg_tangram_931dbc1.js"/*tpa=http://passport.baidu.com/passApi/js/reg_tangram_931dbc1.js*/,regPhone:"regPhone_3576a13.js"/*tpa=http://passport.baidu.com/passApi/js/regPhone_3576a13.js*/,regPhone_tangram:"regPhone_tangram_9b9baf8.js"/*tpa=http://passport.baidu.com/passApi/js/regPhone_tangram_9b9baf8.js*/,fillUserName:"fillUserName_ed92944.js"/*tpa=http://passport.baidu.com/passApi/js/fillUserName_ed92944.js*/,fillUserName_tangram:"fillUserName_tangram_6ee9d13.js"/*tpa=http://passport.baidu.com/passApi/js/fillUserName_tangram_6ee9d13.js*/,qrcode:"qrcode_5efa25e.js"/*tpa=http://passport.baidu.com/passApi/js/qrcode_5efa25e.js*/,qrcode_tangram:"qrcode_tangram_ade950f.js"/*tpa=http://passport.baidu.com/passApi/js/qrcode_tangram_ade950f.js*/,realUserTag:"realUserTag_0013893.js"/*tpa=http://passport.baidu.com/passApi/js/realUserTag_0013893.js*/,realUserTag_tangram:"realUserTag_tangram_e5f75f4.js"/*tpa=http://passport.baidu.com/passApi/js/realUserTag_tangram_e5f75f4.js*/,bind:"bind_dc6801e.js"/*tpa=http://passport.baidu.com/passApi/js/bind_dc6801e.js*/,bind_tangram:"bind_tangram_6252ab0.js"/*tpa=http://passport.baidu.com/passApi/js/bind_tangram_6252ab0.js*/,multiBind:"multiBind_ca67689.js"/*tpa=http://passport.baidu.com/passApi/js/multiBind_ca67689.js*/,multiBind_tangram:"multiBind_tangram_36a0fe6.js"/*tpa=http://passport.baidu.com/passApi/js/multiBind_tangram_36a0fe6.js*/,multiUnbind:"multiUnbind_6370bbd.js"/*tpa=http://passport.baidu.com/passApi/js/multiUnbind_6370bbd.js*/,multiUnbind_tangram:"multiUnbind_tangram_14f0f35.js"/*tpa=http://passport.baidu.com/passApi/js/multiUnbind_tangram_14f0f35.js*/,changeUser:"changeUser_4191a2a.js"/*tpa=http://passport.baidu.com/passApi/js/changeUser_4191a2a.js*/,changeUser_tangram:"changeUser_tangram_d21b67c.js"/*tpa=http://passport.baidu.com/passApi/js/changeUser_tangram_d21b67c.js*/,loginMultichoice:"loginMultichoice_cdef7c5.js"/*tpa=http://passport.baidu.com/passApi/js/loginMultichoice_cdef7c5.js*/,loginMultichoice_tangram:"loginMultichoice_tangram_4d221fa.js"/*tpa=http://passport.baidu.com/passApi/js/loginMultichoice_tangram_4d221fa.js*/,confirmWidget:"confirmWidget_8e53be9.js"/*tpa=http://passport.baidu.com/passApi/js/confirmWidget_8e53be9.js*/,confirmWidget_tangram:"confirmWidget_tangram_b35a593.js"/*tpa=http://passport.baidu.com/passApi/js/confirmWidget_tangram_b35a593.js*/,uni_rebindGuide:"uni_rebindGuide_4224215.js"/*tpa=http://passport.baidu.com/passApi/js/uni_rebindGuide_4224215.js*/,uni_rebindGuide_tangram:"uni_rebindGuide_tangram_4234c58.js"/*tpa=http://passport.baidu.com/passApi/js/uni_rebindGuide_tangram_4234c58.js*/},l=t+r;2===arguments.length&&(o=n),n&&n.tangramInst&&(e.tangramInst=n.tangramInst),e._use(l,c[l],o)},e.pop.loginWap=function(o,r,i){function a(){var t=u.dialog,e=u.login;r.show=function(){r.reset(),t.show.call(t)},r.hide=function(){return t.hide.call(t),r},r.center=function(){return r},r.reset=function(){return e.suggestionDom&&(e.suggestionDom.style.display="none"),r},r.resetValue=function(t){for(var n in t)if(t.hasOwnProperty(n)&&e.getElement(n)){var o=t[n];o="string"==typeof t[n]?t[n].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;"):t[n],e.getElement(n).value=o}},r.resetEvent=function(t){var t=t||{};t.onSubmitStart&&(e.un("beforeSubmit",o.onSubmitStart),o.onSubmitStart=t.onSubmitStart,e.on("beforeSubmit",t.onSubmitStart)),t.onLoginSuccess&&(e.un("loginSuccess",o.onLoginSuccess),o.onLoginSuccess=t.onLoginSuccess,e.on("loginSuccess",t.onLoginSuccess)),t.onLoginError&&(e.un("loginError",o.onLoginError),o.onLoginError=t.onLoginError,e.on("loginError",t.onLoginError))},r.destroy=function(){for(var n=0,r=p.length; r>n; n++){var i=p[n];i.el.off(i.event,i.handler)}e.$dispose(),t.$dispose(),o&&o.onDestroy&&o.onDestroy()}}function s(){var t=u.dialog,e=u.login;o&&o.onShow&&t.on("show",o.onShow),o&&o.onHide&&t.on("hide",function(){o.onHide&&o.onHide()}),o&&o.onSubmitStart&&e.on("beforeSubmit",o.onSubmitStart),o&&o.onLoginSuccess&&e.on("loginSuccess",o.onLoginSuccess),o&&o.onSubmitedErr&&e.on("loginError",o.onSubmitedErr),o&&o.beforeJump&&e.on("beforeJump",o.beforeJump),o&&o.onSystemErr&&e.on("onSystemErr",o.onSystemErr)}function c(){e.use("loginWap",{tangram:!1,tangramInst:n},function(t){o=n.extend({img:!1},o),m.init(t),a(),s(),i&&i()})}var l=function(t, e){var n=document.createElement("div");return n.id=t,e?n:document.body.appendChild(n)},u={},f={main:l("passport-login-pop"),dialog:l("passport-login-pop-dialog")},p=[],g=function(){return'<div class="clearfix"><div class="pass-login-pop-content" id=""><div class="pass-login-pop-form"><div id="passport-login-pop-api" class="tang-pass-login"></div></div></div></div>'},m={template:function(){n(f.main).addClass("tang-pass-pop-wap"),f.dialog.innerHTML=g()},dialog:function(){u.dialog=new d.Dialog({titleText:"登录百度帐号",content:f.main,links:"http://wappass.baidu.com/passport/reg?tpl="+o.apiOpt.product+"&subpro="+(o.apiOpt.subpro||"")+"&u="+o.apiOpt.u,words:"注册",width:"80%"}),u.dialog.render(f.dialog)},login:function(){var e=u.login=new this.apiMagic.passport.loginWap(o.apiOpt);e.on("fieldBlur",function(){u.dialog.clearWhriteBlock()}),e.on("render",function(){t.attach(f.dialog)}),e.render("passport-login-pop-api"),e._ownerDialog=u.dialog},init:function(t){this.apiMagic=t,this.template(),this.dialog(),this.login()}};c()}}();