!function(){var t=t||window.passport||{},e=t.tangramInst||e||window.baidu;!function(t){t.apiDomain={staticDomain:window.location?"http:"==window.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com":"http:"==document.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com"}}(t);var i=null;if("function"!=typeof i)var i=function(){};i.resourcePath="",i.skinName="default",i.version="1.0.2.2",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),i.Base=function(){e.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},e.lang.inherits(i.Base,e.lang.Class,"http://passport.baidu.com/passApi/js/magic.Base").extend({getElement:function(t){return document.getElementById(this.$getId(t))},getElements:function(){var t={},e=this._ids;for(var i in e)t[i]=this.getElement(i);return t},$getId:function(t){return t=e.lang.isString(t)?t:"",this._ids[t]||(this._ids[t]=this._eid+t)},$mappingDom:function(t,i){return e.lang.isString(i)?this._ids[t]=i:i&&i.nodeType&&(i.id?this._ids[t]=i.id:i.id=this.$getId(t)),this},$dispose:function(){this.fire("ondispose")&&e.lang.Class.prototype.dispose.call(this)}}),i.control=i.control||{},i.control.Layer=e.lang.createClass(function(t){this.width="auto",this.height="auto",e.object.extend(this,t||{})},{type:"magic.control.Layer",superClass:i.Base}).extend({show:function(){this.fire("onbeforeshow")&&(this.getElement().style.display="",this.fire("onshow"))},hide:function(){this.fire("onbeforehide")&&(this.getElement().style.display="none",this.fire("onhide"))},setWidth:function(t){e.dom.setPixel(this.getElement(),"width",this.width=t)},setHeight:function(t){e.dom.setPixel(this.getElement(),"height",this.height=t)},setSize:function(t){this.setWidth(t.width||t[0]),this.setHeight(t.height||t[1])}}),i.control.Dialog=e.lang.createClass(function(t){var i=this;t=e.object.extend({width:400,height:300,left:0,top:0,contentType:"html",draggable:!0},t||{}),e.object.extend(i._options||(i._options={}),t),i._footerHeight=0,t.width<100&&(t.width=100),t.height<100&&(t.height=100),this.zIndex=60001,this.disposeProcess=[],this.on("load",function(){var t=this.getElement(),i=this,n=i._options;("number"==typeof n.left||"number"==typeof n.top)&&this.setPosition(n),("number"==typeof n.width||"number"==typeof n.height)&&this.setSize(this._options),this._isShown=!0,this.focus();var o=function(t){i.focus(t)};if(e(document).on("mousedown",o),this.disposeProcess.unshift(function(){e(document).off("mousedown",o)}),n.draggable){var s,a=this.getElement("title"),r=e.fn.bind,i=this,d=t.parentNode,p=e(d).position();a.className+=" tang-title-dragable";var l={top:function(){var t=e(d).css("borderTopWidth");return t=/px/.test(t)?parseInt(t):0,d==document.body?0-t:0-(p.top+t)},right:function(){var i=e(".tang-background-inner",t)[0],n="auto"==e(i).css("marginLeft")?i.offsetLeft+"px":e(i).css("marginLeft");return e.page.getWidth()+l.left()-parseInt(n)},bottom:function(){var i=e(".tang-background-inner",t)[0],n="auto"==e(i).css("marginTop")?i.offsetTop+"px":e(i).css("marginTop");return e.page.getHeight()+l.top()-parseInt(n)},left:function(){var t=e(d).css("borderLeftWidth");return t=/px/.test(t)?parseInt(t):0,d==document.body?0-t:0-(p.top+t)}};e(a).on("mousedown",s=r(function(i){i.preventDefault(),e.dom.drag(t,{ondragstart:r(function(){this.fire("dragstart")},this),ondrag:r(function(){this.fire("drag")},this),ondragend:r(function(){this.fire("dragstop")},this),range:[l.top(),l.right(),l.bottom(),l.left()]})},this)),this.disposeProcess.unshift(function(){e(a).off("mousedown",s)})}}),this.on("resize",function(){this.getElement("titleText"),this.getElement("titleButtons")})},{type:"magic.control.Dialog",superClass:i.Base}),i.control.Dialog.extend({isShowing:function(){return this._isShown},show:function(){return this.fire("beforeshow")===!1?this:(this.getElement().style.display="",this._isShown=!0,void this.fire("show"))},hide:function(t){return this.fire("beforehide")===!1?this:(this._isShown=!1,this.getElement().style.display="none","unHide"==t?(this.hideMask(),this):void this.fire("hide"))},setTitleText:function(t){var i=this.getElement("titleText");return i.innerHTML=e.string.encodeHTML(t)||"&nbsp;",this},setContent:function(t,i){var n,o,s,a=this.getElement("content");if(n=this._lastDom){if(s=n.parent,n.content===t)return this;n.target?s.insertBefore(n.content,n.target):s.appendChild(n.content),this._lastDom=null}switch(i){case"text":a.innerHTML=e.string.encodeHTML(t),e(a).removeClass("contentFrame");break;case"element":s=t.parentNode,s&&(s.insertBefore(o=document.createTextNode(""),t),this._lastDom={content:t,parent:t.parentNode,target:o}),a.innerHTML="",a.appendChild(t);break;case"frame":e(a).css("height",e(this.getElement("body")).css("height")),a.innerHTML="<iframe frameborder='no' src='"+t+"'></iframe>",e(a).hasClass("contentFrame")||e(a).addClass("contentFrame");break;default:a.innerHTML=t,e(a).removeClass("contentFrame")}return this},focus:function(t){var i=e.global.get("dialogFocused").map,n=this.$getId()+"focus",o=function(){for(var t in i)t!=n&&(i[t]=!1)};if(i||(e.global.get("dialogFocused").map=i={}),arguments.length){var s=t.target;e(s).closest(this.getElement()).size()>0?(e(this.getElement()).css("zIndex",this.zIndex=60001),1!=i[n]&&(this.fire("focus"),o(),i[n]=!0)):i[n]=!1}else e(this.getElement()).css("zIndex",this.zIndex=60001),i[n]=!0,o(),this.fire("focus")},setSize:function(t){var i=this.getElement("foreground");if("number"==typeof t.width&&e(i).css("width",(this._options.width=t.width)+"px"),"number"==typeof t.height){e(i).css("height",(this._options.height=t.height)+"px");var n=Math.max(0,this._options.height-this._titleHeight-this._footerHeight)+"px";e(this.getElement("body")).css("height",n)}this.fire("resize",t)},getSize:function(){return{width:this._options.width,height:this._options.height}},setPosition:function(t){"number"==typeof t.left&&e(this.getElement()).css("left",(this._options.left=t.left)+"px"),"number"==typeof t.top&&e(this.getElement()).css("top",(this._options.top=t.top)+"px"),this.fire("move",t)},getPosition:function(){return{left:this._options.left,top:this._options.top}},center:function(){var t=document[e.browser.isStrict?"documentElement":"body"],i=t.clientWidth,n=t.clientHeight,o=((i-this._options.width)/2|0)+e.page.getScrollLeft(),s=((n-this._options.height)/2|0)+e.page.getScrollTop();this.setPosition({left:o,top:s})},$dispose:function(){var t=e.global.get("dialogFocused").map;t&&delete t[this.$getId()+"focus"];for(var n=0,o=this.disposeProcess.length;o>n;n++)this.disposeProcess[n].call(this);i.Base.prototype.$dispose.call(this)}}),i.Background=e.lang.createClass(function(t){var i=t||{},n=this;n.coverable=i.coverable||!1,n.styleBox=i.styleBox,n.tagName="div";var o="filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;";n._coverDom="<div style='"+o+"opacity:0;background-color:#FFFFFF'></div>";var s=e.browser;s.ie<7&&(n._coverDom="<iframe frameborder='0' style='"+o+"' src='"+("https:"==(window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase())?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank")+"'></iframe>"),s.ie&&(!s.isStrict||s.ie<8)&&(n.size=[0,0],n.timer=setInterval(function(){n._forIE()},80)),this._innerHTML="<div class='tang-background-inner' style='width:100%;height:100%;' id='"+this.$getId("inner")+"'></div>"},{type:"magic.Background",superClass:i.Base}).extend({render:function(t){var i=e.dom(t).get(0);i!=document.body&&"static"==e.dom(i).css("position"),e.dom(i).insertHTML("afterbegin",this.toHTMLString())},$dispose:function(){var t=this.getElement();t.parentNode.removeChild(t),clearInterval(this.timer)},toHTMLString:function(t){return["<",t||this.tagName," class='tang-background",e.browser.ie<7?" ie6__":"","' id='",this.$getId(),"' style='position:absolute; top:0px; left:0px;",this.timer?"width:10px;height:10px;":"width:100%;height:100%;","z-index:-9; -webkit-user-select:none; -moz-user-select:none;' ","onselectstart='return false'>",this._innerHTML,this.coverable?this._coverDom||"":"","</",t||this.tagName,">"].join("")},setContent:function(t){this.getElement("inner").innerHTML=t},_forIE:function(){if(this.guid&&this.layer||(this.layer=this.getElement())&&this.layer.offsetHeight){var t=this.layer,i=this.container||t.parentNode;if(i&&i.style){var n=i.style,o=parseInt(n.borderTopWidth)||0,s=parseInt(n.borderRightWidth)||0,a=parseInt(n.borderBottomWidth)||0,r=parseInt(n.borderLeftWidth)||0,d=i.offsetWidth-s-r,p=i.offsetHeight-o-a;if((this.size[0]!=d||this.size[1]!=p)&&(t.style.width=(this.size[0]=d)+"px",t.style.height=(this.size[1]=p)+"px"),this.styleBox&&this.table||(this.table=this.getElement("table"))){var l,c;l=l||parseInt(e.dom(this.table.rows[0]).getCurrentStyle("height")),c=c||parseInt(e.dom(this.table.rows[2]).getCurrentStyle("height")),this.table.rows[0].style.height=l+"px",this.table.rows[2].style.height=c+"px",this.table.rows[1].style.height=this.layer.offsetHeight-l-c+"px"}}}}}),i.Dialog=e.lang.createClass(function(){},{type:"magic.Dialog",superClass:i.control.Dialog}),i.Dialog.extend({render:function(t){"string"===e.type(t)&&(t="#"+t),t=e(t)[0],t||document.body.appendChild(t=document.createElement("div"));var n=i.Dialog.template.join(""),o=this._options;e(t).addClass(o.className||"tang-pass-pop-login"),e(t).insertHTML("beforeEnd",e.string.format(n,{content:"",titleId:this.$getId("title"),bodyId:this.$getId("body"),contentId:this.$getId("content"),foregroundId:this.$getId("foreground"),footerId:this.$getId("footer"),footerContainerId:this.$getId("footerContainer")})),this._background=new i.Background({coverable:!0}),this._background.render(t),this.$mappingDom("",t),this._renderHeader(),this._titleHeight=this.getElement("title").offsetHeight||30,e(this.getElement("footer")).hide(),this.fire("footer"),this.setSize(o),this.setPosition(o),o.content&&this.setContent(o.content,o.contentType),this.fire("load"),this.show(),this.disposeProcess.push(function(){e(this.getElement("closeBtn")).off("click",this._closeBtnFn),this._background.$dispose(),t.innerHTML="",e(t).removeClass("tang-ui tang-dialog")})},_renderHeader:function(){var t=["<div class='buttons' id='",this.$getId("titleButtons"),"'>","<a id='",this.$getId("closeBtn"),"' class='close-btn' href='###' onmousedown='event.stopPropagation && event.stopPropagation(); event.cancelBubble = true; return false;' onclick='return false;'></a>","</div>","<span id='",this.$getId("titleText"),"'>",e.string.encodeHTML(this._options.titleText||"")||"&nbsp;","</span>"];e(this.getElement("title")).insertHTML("beforeEnd",t.join("")),e(this.getElement("closeBtn")).on("click",this._closeBtnFn=e.fn.bind(this.hide,this))}}),i.Dialog.template=["<div class='tang-foreground' id='#{foregroundId}'>","<div class='tang-title' id='#{titleId}'>","</div>","<div class='tang-body' id='#{bodyId}'>","<div class='tang-content' id='#{contentId}'>#{content}</div>","</div>","<div class='tang-footer' id='#{footerId}'>","<div id='#{footerContainerId}'></div>","</div>","</div>"],e.lang.register(i.control.Dialog,function(t){t&&t.buttons&&t.buttons.enable&&this.on("footer",function(){this.buttons=null,e(this.getElement("footer")).show(),this._createButton(t.buttons),e(this.getElement("footerContainer")).addClass("tang-footerContainer");var i=this.getElement("footer").offsetHeight;(!this.buttons||0==this.buttons.length)&&(i=30)&&e(this.getElement("footer")).css("height",30),this._footerHeight=i})},{_createButton:function(){var t=this,i=arguments.length>0?arguments[0]:{},n=e(t.getElement("footerContainer")),o=t.buttons||(t.buttons=[]),s=!1,a=function(){var t=['<a href="#" onClick="return false;" class="tang-dialog-button ',"",'">','<span class="tang-dialog-button-s">','<span class="tang-dialog-button-s-space">&nbsp;</span>','<span class="tang-dialog-button-s-text">',"","</span>","</span>","</a>"];return function(i,n){return t[1]=i.disabled?"tang-dialog-button-disabled":"",t[6]=i.text||"&nbsp;",e(n).insertHTML("beforeEnd",t.join("")),e(n).children().get(0)}}();e.forEach(i.items||[],function(i,r){var d,p;n.append(p=e('<span class="tang-dialog-button-carrier"></span>')[0]),p="object"==typeof i?(i.builder||a).call(this,i,p,t,r):i,!s&&i.focused&&!i.disabled&&(s=!0)&&p.focus(),o.push(p),i.disabled||i.click&&e(p).on("click",d=function(){i.click.call(this,t)}),d&&this.disposeProcess.push(function(){e(p).off("click",d)})},t),n.addClass("tang-button-"+(i.align||"right"))}}),i.Mask=function(t){function n(){if(a.container==document.body){var t=a.getElement().style;t.display="none",a.setSize([e.page.getViewWidth(),e.page.getViewHeight()]),t.display=""}}function o(){if(a.container==document.body){var t=a.getElement().style;t.display="none",t.top=e.page.getScrollTop()+"px",t.left=e.page.getScrollLeft()+"px",t.display=""}}function s(t){for(var e,i=document.getElementsByTagName("object"),n=t?"visible":"hidden",o=0,s=i.length;s>o;o++)e=i[o],e.style.visibility=n}var a=this;i.control.Layer.call(this),a.zIndex=999,a.opacity=.3,a.bgColor="#000000",a.coverable=!1,a.container=document.body,e.object.extend(a,t||{});var r=e.browser.safari,d=e.browser.ie;e.dom(a.container).insertHTML("afterBegin",a.toHTMLString()),6==d&&(a.getElement().style.position="absolute"),a.on("show",function(){n(),6==d&&o(),e.dom(window).on("resize",n),6==d&&e.dom(window).on("scroll",o);var t=a.getElement().style;t.opacity=a.opacity,t.zIndex=a.zIndex,t.filter="alpha(opacity="+100*a.opacity+")",t.backgroundColor=a.bgColor,r&&s(!1)}),a.on("hide",function(){e.dom(window).off("resize",n),6==d&&e.dom(window).off("scroll",o),r&&s(!0)})},e.lang.inherits(i.Mask,i.control.Layer,"http://passport.baidu.com/passApi/js/magic.Mask").extend({toHTMLString:function(){return"<div id='"+this.$getId()+"' class='pop-mask' style='top:0px; left:0px; position:fixed; display:none;'>"+("<iframe frameborder='0' style='filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1' src='"+("https:"==(window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase())?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank")+"'></iframe><div style='position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1;'>&nbsp;</div>")+"</div>"}}),e.lang.register(i.control.Dialog,function(t){t&&t.mask&&t.mask.enable&&(this.renderMask(),this.on("load",function(){this._options.left||this.center()}),this.on("show",function(){this.showMask()}),this.on("hide",function(){this.hideMask()}))},{renderMask:function(){if(this._mask)return this;var t=this._options.mask;this._mask=new i.Mask({opacity:t.opacity||.15,bgColor:t.bgColor||"#000",zIndex:this.zIndex-1});var n=this;return this.disposeProcess.push(function(){e(n._mask.getElement()).remove()}),this},showMask:function(){return this._mask.show(),this},hideMask:function(){return this._mask.hide(),this}});var t=t||window.passport||{};t._modulePool=t._modulePool||{},t._define=t._define||function(e,i){t._modulePool[e]=i&&i()},t._getModule=t._getModule||function(e){return t._modulePool[e]};var t=window.passport||{};t._load=t._load||function(t,e,i){var n=document,o=n.createElement("SCRIPT");if(e){o.type="text/javascript",o.charset="UTF-8";var s=t.split("?")[0],a=Math.round(1e3*Math.random()),r=(new Date).getTime();o.readyState?o.onreadystatechange=function(){if("loaded"===o.readyState||"complete"===o.readyState){if(o.onreadystatechange=null,100===a){var t=(new Date).getTime()-r;(new Image).src=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&url="+encodeURIComponent(s)+"&time="+t}i&&i()}}:o.onload=function(){if(100===a){var t=(new Date).getTime()-r;(new Image).src=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&url="+encodeURIComponent(s)+"&time="+t}i&&i()},o.src=100===a?s+"?t="+Math.random():t,n.getElementsByTagName("head")[0].appendChild(o)}else o.type="text/javascript",o.charset="UTF-8",o.src=t,n.getElementsByTagName("head")[0].appendChild(o),o.readyState?o.onreadystatechange=function(){("loaded"===o.readyState||"complete"===o.readyState)&&(o.onreadystatechange=null,i&&i())}:o.onload=function(){i&&i()}},t.ieVersion=function(){var t,e=navigator.userAgent.toLowerCase(),i=e.indexOf("msie")>-1;return i&&(t=e.match(/msie ([\d.]+)/)[1]),t},t._use=t._use||function(e,i,n){function o(){var e=t._getModule(d);if(!e)throw new Error("load "+d+"module script error.");n&&n(e)}var s={"http:":"http://passport.bdimg.com/","https:":"https://ss0.bdstatic.com/5LMZfyabBhJ3otebn9fN2DJv"};t.ieVersion()<=8&&(s={"http:":"http://passport.baidu.com/","https:":"https://passport.baidu.com"});var a;a=t&&"https"===t._protocol?"https:":window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase();var r=(s[a]||s["https:"])+i,d=e+".js",p=t._getModule(d);p?n&&n(p):t._load(r,!0,o)},t.use=t.use||function(e,i,n){var o=i&&i.tangram===!1?"":"_tangram";i&&i.protocol&&(t._protocol=i.protocol),"reg"===e&&i&&i.regPhoneOnly&&(e="regPhone");var s="login"===e&&i&&i.loginVersion&&"v4"===i.loginVersion,a=s?"loginv4_2a0aa34.js"/*tpa=http://passport.baidu.com/passApi/js/loginv4_2a0aa34.js*/:"login_b6ddb5d.js"/*tpa=http://passport.baidu.com/passApi/js/login_b6ddb5d.js*/,r=s?"loginv4_tangram_51175aa.js"/*tpa=http://passport.baidu.com/passApi/js/loginv4_tangram_51175aa.js*/:"login_tangram_cbb2f15.js"/*tpa=http://passport.baidu.com/passApi/js/login_tangram_cbb2f15.js*/,d={login:a,login_tangram:r,smsloginEn:"smsloginEn_6e229f0.js"/*tpa=http://passport.baidu.com/passApi/js/smsloginEn_6e229f0.js*/,smsloginEn_tangram:"smsloginEn_tangram_7824f1f.js"/*tpa=http://passport.baidu.com/passApi/js/smsloginEn_tangram_7824f1f.js*/,loginWLtoPC:"loginWLtoPC_98684d0.js"/*tpa=http://passport.baidu.com/passApi/js/loginWLtoPC_98684d0.js*/,accConnect:"accConnect_8dea38d.js"/*tpa=http://passport.baidu.com/passApi/js/accConnect_8dea38d.js*/,accConnect_tangram:"accConnect_tangram_b42d6cb.js"/*tpa=http://passport.baidu.com/passApi/js/accConnect_tangram_b42d6cb.js*/,accRealName:"accRealName_cf7f3e5.js"/*tpa=http://passport.baidu.com/passApi/js/accRealName_cf7f3e5.js*/,accRealName_tangram:"accRealName_tangram_58165f1.js"/*tpa=http://passport.baidu.com/passApi/js/accRealName_tangram_58165f1.js*/,checkPhone:"checkPhone_d490a05.js"/*tpa=http://passport.baidu.com/passApi/js/checkPhone_d490a05.js*/,checkPhone_tangram:"checkPhone_tangram_d734576.js"/*tpa=http://passport.baidu.com/passApi/js/checkPhone_tangram_d734576.js*/,checkIDcard:"checkIDcard_59a38e5.js"/*tpa=http://passport.baidu.com/passApi/js/checkIDcard_59a38e5.js*/,checkIDcard_tangram:"checkIDcard_tangram_801bdc5.js"/*tpa=http://passport.baidu.com/passApi/js/checkIDcard_tangram_801bdc5.js*/,travelComplete:"travelComplete_86e2912.js"/*tpa=http://passport.baidu.com/passApi/js/travelComplete_86e2912.js*/,travelComplete_tangram:"travelComplete_tangram_a3d4b0a.js"/*tpa=http://passport.baidu.com/passApi/js/travelComplete_tangram_a3d4b0a.js*/,bindGuide:"bindGuide_abc8126.js"/*tpa=http://passport.baidu.com/passApi/js/bindGuide_abc8126.js*/,bindGuide_tangram:"bindGuide_tangram_5781ac6.js"/*tpa=http://passport.baidu.com/passApi/js/bindGuide_tangram_5781ac6.js*/,accSetPwd:"accSetPwd_8109ba5.js"/*tpa=http://passport.baidu.com/passApi/js/accSetPwd_8109ba5.js*/,accSetPwd_tangram:"accSetPwd_tangram_d00b180.js"/*tpa=http://passport.baidu.com/passApi/js/accSetPwd_tangram_d00b180.js*/,IDCertify:"IDCertify_cf99365.js"/*tpa=http://passport.baidu.com/passApi/js/IDCertify_cf99365.js*/,IDCertify_tangram:"IDCertify_tangram_ef7eb24.js"/*tpa=http://passport.baidu.com/passApi/js/IDCertify_tangram_ef7eb24.js*/,secondCardVerify:"secondCardVerify_7d5de75.js"/*tpa=http://passport.baidu.com/passApi/js/secondCardVerify_7d5de75.js*/,secondCardVerify_tangram:"secondCardVerify_tangram_918560f.js"/*tpa=http://passport.baidu.com/passApi/js/secondCardVerify_tangram_918560f.js*/,IDCertifyQrcode:"IDCertifyQrcode_4db6064.js"/*tpa=http://passport.baidu.com/passApi/js/IDCertifyQrcode_4db6064.js*/,IDCertifyQrcode_tangram:"IDCertifyQrcode_tangram_6536ce1.js"/*tpa=http://passport.baidu.com/passApi/js/IDCertifyQrcode_tangram_6536ce1.js*/,loadingApi:"loadingApi_c483bcd.js"/*tpa=http://passport.baidu.com/passApi/js/loadingApi_c483bcd.js*/,loadingApi_tangram:"loadingApi_tangram_6256e4f.js"/*tpa=http://passport.baidu.com/passApi/js/loadingApi_tangram_6256e4f.js*/,loginWap:"loginWap_6da7ccb.js"/*tpa=http://passport.baidu.com/passApi/js/loginWap_6da7ccb.js*/,reg:"reg_33edf97.js"/*tpa=http://passport.baidu.com/passApi/js/reg_33edf97.js*/,reg_tangram:"reg_tangram_931dbc1.js"/*tpa=http://passport.baidu.com/passApi/js/reg_tangram_931dbc1.js*/,regPhone:"regPhone_3576a13.js"/*tpa=http://passport.baidu.com/passApi/js/regPhone_3576a13.js*/,regPhone_tangram:"regPhone_tangram_9b9baf8.js"/*tpa=http://passport.baidu.com/passApi/js/regPhone_tangram_9b9baf8.js*/,fillUserName:"fillUserName_ed92944.js"/*tpa=http://passport.baidu.com/passApi/js/fillUserName_ed92944.js*/,fillUserName_tangram:"fillUserName_tangram_6ee9d13.js"/*tpa=http://passport.baidu.com/passApi/js/fillUserName_tangram_6ee9d13.js*/,qrcode:"qrcode_5efa25e.js"/*tpa=http://passport.baidu.com/passApi/js/qrcode_5efa25e.js*/,qrcode_tangram:"qrcode_tangram_ade950f.js"/*tpa=http://passport.baidu.com/passApi/js/qrcode_tangram_ade950f.js*/,realUserTag:"realUserTag_0013893.js"/*tpa=http://passport.baidu.com/passApi/js/realUserTag_0013893.js*/,realUserTag_tangram:"realUserTag_tangram_e5f75f4.js"/*tpa=http://passport.baidu.com/passApi/js/realUserTag_tangram_e5f75f4.js*/,bind:"bind_dc6801e.js"/*tpa=http://passport.baidu.com/passApi/js/bind_dc6801e.js*/,bind_tangram:"bind_tangram_6252ab0.js"/*tpa=http://passport.baidu.com/passApi/js/bind_tangram_6252ab0.js*/,multiBind:"multiBind_ca67689.js"/*tpa=http://passport.baidu.com/passApi/js/multiBind_ca67689.js*/,multiBind_tangram:"multiBind_tangram_36a0fe6.js"/*tpa=http://passport.baidu.com/passApi/js/multiBind_tangram_36a0fe6.js*/,multiUnbind:"multiUnbind_6370bbd.js"/*tpa=http://passport.baidu.com/passApi/js/multiUnbind_6370bbd.js*/,multiUnbind_tangram:"multiUnbind_tangram_14f0f35.js"/*tpa=http://passport.baidu.com/passApi/js/multiUnbind_tangram_14f0f35.js*/,changeUser:"changeUser_4191a2a.js"/*tpa=http://passport.baidu.com/passApi/js/changeUser_4191a2a.js*/,changeUser_tangram:"changeUser_tangram_d21b67c.js"/*tpa=http://passport.baidu.com/passApi/js/changeUser_tangram_d21b67c.js*/,loginMultichoice:"loginMultichoice_cdef7c5.js"/*tpa=http://passport.baidu.com/passApi/js/loginMultichoice_cdef7c5.js*/,loginMultichoice_tangram:"loginMultichoice_tangram_4d221fa.js"/*tpa=http://passport.baidu.com/passApi/js/loginMultichoice_tangram_4d221fa.js*/,confirmWidget:"confirmWidget_8e53be9.js"/*tpa=http://passport.baidu.com/passApi/js/confirmWidget_8e53be9.js*/,confirmWidget_tangram:"confirmWidget_tangram_b35a593.js"/*tpa=http://passport.baidu.com/passApi/js/confirmWidget_tangram_b35a593.js*/,uni_rebindGuide:"uni_rebindGuide_4224215.js"/*tpa=http://passport.baidu.com/passApi/js/uni_rebindGuide_4224215.js*/,uni_rebindGuide_tangram:"uni_rebindGuide_tangram_4234c58.js"/*tpa=http://passport.baidu.com/passApi/js/uni_rebindGuide_tangram_4234c58.js*/},p=e+o;2===arguments.length&&(n=i),i&&i.tangramInst&&(t.tangramInst=i.tangramInst),t._use(p,d[p],n)},t.pop.login=function(n,o,s){function a(){var t=c.dialog,i=c.login,s=!1;o.smsLoginSubmit=function(t){i.smsLoginSubmit(t)},o.show=function(a){if(a){var r=e(".pass-login-pop-img img").get(0);r&&(r.src=a)}return o.reset(),t.show.call(t),n&&n.hunter&&window.Hunt&&window.Hunt.start("29680",{}),s&&3==n.apiOpt.qrcode&&i._setChannel&&i._setChannel(),s=!0,o},o.hide=function(){return t.hide.call(t),o},o.center=function(){return t._center.call(t),o},o.setSubpro=function(t){return i.setSubpro(t),o},o.setMakeText=function(t){return i.setMakeText(t),o},o.reset=function(){return i._validateSuccess({field:"userName"}),i._validateSuccess({field:"password"}),i._validateSuccess({field:"verifyCode"}),i.suggestionDom&&(i.suggestionDom.style.display="none"),o.center(),o},o.destroy=function(){for(var e=0,o=h.length;o>e;e++){var s=h[e];s.el.off(s.event,s.handler)}i.$dispose(),t.$dispose(),n&&n.onDestroy&&n.onDestroy()}}function r(){var t=c.dialog,e=c.login;n&&n.onShow&&t.on("show",n.onShow),n&&n.onHide&&t.on("hide",function(){n.onHide&&n.onHide()}),n&&n.onSubmitStart&&e.on("beforeSubmit",n.onSubmitStart),n&&n.onLoginSuccess&&e.on("loginSuccess",n.onLoginSuccess),n&&n.onSubmitedErr&&e.on("loginError",n.onSubmitedErr),n&&n.onChangeLoginType&&e.on("changeLoginType",n.onChangeLoginType),n&&n.beforeJump&&e.on("beforeJump",n.beforeJump),n&&n.onConnectError&&e.on("connectError",n.onConnectError),n&&n.onRealHide&&e.on("RealHide",n.onRealHide),n&&n.onSystemErr&&e.on("onSystemErr",n.onSystemErr),t.on("hide",function(){var t=document.location.protocol.toLowerCase(),i=e.guideRandom?e.guideRandom:"";if("http:"==t)var o="http://nsclick.baidu.com/v.gif?pid=111&url=&logintype=hide&merge=1&gid="+i+"&tpl="+n.apiOpt.tpl+"&tt="+(new Date).getTime();else if("https:"==t)var o="https://passport.baidu.com/img/v.gif?pid=111&url=&logintype=hide&merge=1&gid="+i+"&tpl="+n.apiOpt.tpl+"&tt="+(new Date).getTime();if(o){var s=new Image;s.onload=s.onerror=function(){s.onload=s.onerror=null,s=null},s.src=o}}),n&&n.hunter&&window.Hunt&&t.on("hide",function(){window.Hunt.stop()}),3==n.apiOpt.qrcode&&e._stopChannel&&t.on("hide",function(){e._stopChannel()})}function d(){t.use("login",{tangram:!1,tangramInst:n.tangram?e:null},function(t){n=e.extend({img:!1},n),n.apiOpt=n.apiOpt||{},n.apiOpt.diaPassLogin=!0,3==n.apiOpt.qrcode?(n.apiOpt.qrcodeDom=function(){return e(".pass-login-pop-qrcode",g.main).get(0)},n.apiOpt.phoenixLimit="vd"==n.apiOpt.product?4:7):(n.apiOpt.phoenixLimit=n.img?5:7,n.apiOpt&&"vd"==n.apiOpt.product&&(n.apiOpt.phoenixLimit=n.img?3:4)),0===n.apiOpt.sms?n.apiOpt.sms=0:n.apiOpt.sms||(n.apiOpt.sms=1),n.apiOpt.color=n.color,n.apiOpt.authsiteLogin=n.authsite,n.apiOpt.authsiteCfgLogin=n.authsiteCfg,n.apiOpt.loginMerge=!0,n.apiOpt.hasRegUrl=!0,n.apiOpt.hasPlaceholder=!0,n.apiOpt.registerLink=n.registerLink,n.apiOpt.is_voice_sms=n.apiOpt.is_voice_sms,m.init(t),a(),r(),s&&s()})}n.apiOpt=n.apiOpt||{};var p=["netdisk","tb","hao123","nuomi","bp","ma","do"];("|"+p.join("|")+"|").indexOf("|"+n.apiOpt.product+"|")>-1&&(n.apiOpt.qrcode=3),n.apiOpt.qrcode=0===n.apiOpt.qrcode?0:n.apiOpt.qrcode||2;var l=function(t,e){var i=document.createElement("div");return i.id=t,e?i:document.body.appendChild(i)},c={},g={main:l("passport-login-pop"),dialog:l("passport-login-pop-dialog")},h=[],u=function(){var t=[];return t.push('<div class="clearfix">'),t.push(3==n.apiOpt.qrcode?'<div class="pass-login-pop-qrcode"></div>':n.img?'<div class="pass-login-pop-img"><img src="'+n.img+'" alt="登录百度帐号即刻畅行百度" title="登录百度帐号即刻畅行百度"/></div>':""),t.push('<div class="pass-login-pop-content">'),t.push('<div class="pass-login-pop-form">'),t.push('<div id="passport-login-pop-api"></div></div>'),t.push("</div>"),t.push("</div>"),t.join("")},m={template:function(){e(g.main).addClass(3==n.apiOpt.qrcode?"tang-pass-pop-login-qrcode":n.img?"tang-pass-pop-login-img":"tang-pass-pop-login-noimg").addClass("tang-pass-pop-login-merge").addClass("tang-pass-pop-login-tpl-"+(n.apiOpt&&n.apiOpt.product?n.apiOpt.product:"isnull")).addClass("tang-pass-pop-login-color-"+("green"==n.color?"green":"red"==n.color?"red":"pink"==n.color?"pink":"blue")),g.dialog.innerHTML=u()},dialog:function(){c.dialog=new i.Dialog({draggable:!0,titleText:"登录百度帐号",content:g.dialog,contentType:"element",width:3==n.apiOpt.qrcode||n.img?578:393,height:"auto",mask:{enable:!0}}),c.dialog.render(g.main),c.dialog.hide(),c.dialog._center=function(){c.dialog.center(),c.dialog.setPosition({top:(e(window).height()-e(c.dialog.getElement()).height())/2+e(window).scrollTop()})},e(window).on("resize",function(){c.dialog._center()})},change:function(){var t=e('<div class="tang-pass-pop-login-changeWrapper"><div class="tang-pass-pop-login-change tang-pass-pop-qrcodeLogin" data-type="normal"></div></div>'),i="normal",n=e(".pass-login-pop-form",g.main).get(0),o=e(".tang-pass-pop-login-change",t.get(0));n&&n.appendChild(t.get(0)),o.on("click",function(t){var n=e(t.target);"qrcode"==i?(n.addClass("tang-pass-pop-qrcodeLogin").removeClass("tang-pass-pop-normalLogin"),i="normal"):(n.addClass("tang-pass-pop-normalLogin").removeClass("tang-pass-pop-qrcodeLogin"),i="qrcode"),c.login._changeLoginType(i)})},login:function(){function t(t){if(8==(/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0)){var e=t.keyCode;13==e&&(t.type="submit",i._eventHandler.entrance.apply(i,[t]))}}var i=c.login=new this.apiMagic.passport.login(n.apiOpt);i.render("passport-login-pop-api"),c.dialog._center(),i._ownerDialog=c.dialog,n.apiOpt&&2==n.apiOpt.qrcode&&this.change(),e(i.getElement("userName")).on("keydown",t),e(i.getElement("password")).on("keydown",t),e(i.getElement("verifyCode")).on("keydown",t)},init:function(t){this.apiMagic=t,this.template(),this.dialog(),this.login()}};d()}}();