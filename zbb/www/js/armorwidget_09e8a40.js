var passport=window.passport||{};passport.pop=passport.pop||{},passport.pop.ArmorWidgetImp=function(e,t,n,o){function i(e){this._requests=[],this._value=null,this._exception=null,this._isComplete=!1;var t=this;e(function(e){t._fulfillPromise(e)},function(e){t._breakPromise(e)})}function s(e,t){var n=e;for(var o in t)"undefined"===(typeof n[o]).toLowerCase()&&(n[o]=t[o]);return n}var a={"http:":"http://passport.baidu.com/","https:":"https://passport.baidu.com"},r={bindmobile:"http://passport.baidu.com/v2/?binding&showtype=phone",bindemail:"http://passport.baidu.com/v2/?binding&showtype=email"},l={},c={},u=window.baidu,d=!1,m=function(){},p=window,f=p.document,h=f.body,b=f.documentElement,g=function(){};i.prototype={get_isComplete:function(){return this._isComplete},get_value:function(){if(!this._isComplete)return void 0;if(this._exception)throw this._exception;return this._value},call:function(e){for(var t=[],n=0,o=arguments.length-1;o>n;n++)t[n]=arguments[n+1];return this.when(function(n){return n[e].apply(n,t)})},getValue:function(e){return this.when(function(t){return t[e]})},setValue:function(e,t){this.whenOnly(function(n){n[e]=t})},when:function(e,t,n){return i.when(this,e,t,n)},whenOnly:function(e,t,n){i.whenOnly(this,e,t,n)},success:function(e,t){return this.when(e,g,t)},fail:function(e,t){return this.when(g,e,t)},_enqueueOne:function(e){this._isComplete?this._notify(e):this._requests.push(e)},_notify:function(e){this._exception?e.breakPromise&&e.breakPromise(this._exception):e.fulfillPromise&&e.fulfillPromise(this._value)},_notifyAll:function(){for(var e=0,t=this._requests.length;t>e;e++)this._notify(this._requests[e])},_fulfillPromise:function(e){this._value=e,this._exception=null,this._isComplete=!0,this._notifyAll()},_breakPromise:function(e){this._value=null,this._exception=e||new Error("An error occured"),this._isComplete=!0,this._notifyAll()}},i.when=function(e,t,n,o){return new i(function(s,a){i.make(e)._enqueueOne({fulfillPromise:function(e){s(t?t.call(o,e):e)},breakPromise:function(e){if(n)try{s(n.call(o,e))}catch(t){a(t)}else a(e)}})})},i.whenOnly=function(e,t,n,o){i.make(e)._enqueueOne({fulfillPromise:function(e){t&&t.call(o,e)},breakPromise:function(e){n&&n.call(o,e)}})},i.make=function(e){return e instanceof i?e:i.immediate(e)},i.immediate=function(e){return new i(function(t){t(e)})},function(e){e.browser=e.browser||{},e.browser.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0,e.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,e.g=function(e){return e?"string"==typeof e||e instanceof String?f.getElementById(e):!e.nodeName||1!==e.nodeType&&9!==e.nodeType?null:e:null},e.id=function(){var e=window.baidu;return e?e.guid="$BAIDU$":(e={},e.guid="$BAIDU$"),window[e.guid]=window[e.guid]||{},window[e.guid]._counter=window[e.guid]._counter||"1","TANGRAM__"+window[e.guid]._counter++},e.on=function(e,t,n){e&&e.addEventListener?e.addEventListener(t,n,!1):e&&e.attachEvent&&e.attachEvent("on"+t,n)},e.unon=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},e.getUniqueId=function(e){return e+Math.floor(2147483648*Math.random()).toString(36)},e.createScriptTag=function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),f.getElementsByTagName("head")[0].appendChild(e)},e.removeScriptTag=function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&"parentNode"!==t&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},e.getSize=function(e){return e?{w:e.clientWidth,h:e.innerHeight||e.clientHeight}:{w:b.clientWidth||h.clientWidth,h:p.innerHeight||b.clientHeight||h.clientHeight}},e.getViewHeight=function(){var t=document,n=e.browser.ie||1,o="BackCompat"===t.compatMode&&9>n?t.body:t.documentElement;return o.clientHeight},e.getViewWidth=function(){var e=document,t="BackCompat"===e.compatMode?e.body:e.documentElement;return t.clientWidth},e.getScrollTop=function(){var e=document;return window.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},e.getPosition=function(t){var n=e.getSize(),o=t,i={t:0,l:0},s=/gecko/.test(navigator.userAgent),a=function(e,t){i.t+=e,i.l+=t};if(o&&o!==h)if(o.getBoundingClientRect){var r=o.getBoundingClientRect(),l=t.ownerDocument,c=l.body,u=l.documentElement,d=u.clientTop||c.clientTop||0,m=u.clientLeft||c.clientLeft||0;if(r.top===r.bottom){var p=o.style.display;o.style.display="block",o.style.display=p}a(r.top+n.t-d,r.left+n.l-m)}else{for(var b=f.View;o;){a(o.offsetTop,o.offsetLeft);var g=b.getComputedStyle(o,null);if(s){var v=parseInt(g.getPropertyValue("border-left-width"),10)||0,_=parseInt(g.getPropertyValue("border-top-width"),10)||0;a(_,v),o!==t&&"visible"!==g.getPropertyValue("overflow")&&a(_,v)}o=o.offsetParent}for(o=t.parentNode;o&&o!==h;)a(-o.scrollTop,-o.scrollLeft),o=o.parentNode}return i},e.setStyle=function(e,t){for(var n=t.split(";"),o=n.length;o--;)if(n[o]){var i=n[o].split(":");i&&(e.style[i[0]]=i[1])}},e.getMousePos=function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:document.documentElement&&document.documentElement.scrollTop?{x:e.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:e.clientY+document.documentElement.scrollTop-document.documentElement.clientTop}:document.body?{x:e.clientX+document.body.scrollLeft-document.body.clientLeft,y:e.clientY+document.body.scrollTop-document.body.clientTop}:void 0},e.getTarget=function(e){return e.target||e.srcElement},e.addClass=function(t,n){for(var o=e.g(t),i=n.split(/\s+/),s=o.className,a=" "+s+" ",r=0,l=i.length;l>r;r++)a.indexOf(" "+i[r]+" ")<0&&(s+=(s?" ":"")+i[r]);return o.className=s,o},e.removeClass=function(t,n){if(t=e.g(t)){for(var o,i,s=t.className.split(/\s+/),a=n.split(/\s+/),r=a.length,l=0;r>l;++l)for(i=0,o=s.length;o>i;++i)if(s[i]===a[l]){s.splice(i,1);break}return t.className=s.join(" "),t}},e.insertHTML=function(t,n,o){t=e.g(t);var i,s;return t.insertAdjacentHTML&&!e.browser.opera?t.insertAdjacentHTML(n,o):(i=t.ownerDocument.createRange(),n=n.toUpperCase(),"AFTERBEGIN"===n||"BEFOREEND"===n?(i.selectNodeContents(t),i.collapse("AFTERBEGIN"===n)):(s="BEFOREBEGIN"===n,i[s?"setStartBefore":"setEndAfter"](t),i.collapse(s)),i.insertNode(i.createContextualFragment(o))),t}}(l),function(e){var t="__bdpp_pstc__"+(new Date).getTime(),n=t+"_form",o=t+"_ifr",s=function(e){if("object"==typeof e){var t=[];for(var n in e){var o=e[n];if(void 0!==o&&null!==o){t.length&&t.push("&");var i=encodeURIComponent("boolean"==typeof o?o?"1":"0":o.toString());t.push(encodeURIComponent(n),"=",i)}}return t.join("")}return"string"==typeof e?e:null},a=function(e,t){if(t=s(t),"string"==typeof t){var n=/\?/g.test(e);e+=(n?"&":"?")+s(t)}return e},r=function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},c=function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},u=function(e,t,n){function o(e){return function(){try{e?d.onfailure&&d.onfailure():(t.apply(window,arguments),clearTimeout(s)),window[i]=null,delete window[i]}catch(n){}finally{c(a)}}}var i,s,a=document.createElement("SCRIPT"),u="bd__cbs__",d=n||{},m=d.charset,p=d.queryField||"callback",f=d.timeOut||0,h=new RegExp("(\\?|&)"+p+"=([^&]*)");i=l.getUniqueId(u),window[i]=o(0),f&&(s=setTimeout(o(1),f)),e=e.replace(h,"$1"+p+"="+i),e.search(h)<0&&(e+=(e.indexOf("?")<0?"?":"&")+p+"="+i),r(a,e,m)},d=function(e,t){var i=[];i.push("<form id='",n,"' target='",o,"' "),i.push("action='",l.encodeHTML(e),"' method='post'>");for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];if(void 0!==a&&null!==a){var r=l.encodeHTML("boolean"==typeof a?a?"1":"0":a);i.push("<input type='hidden' name='",l.encodeHTML(s),"' value='",r,"' />")}}return i.push("</form>"),i.join("")},m=function(e,i,s,a){function r(e){return function(){try{e?a.onfailure&&a.onfailure():(s.apply(window,arguments),u&&clearTimeout(u)),window[m]=null,delete window[m]}catch(t){}}}a=a||{};var c=a.timeOut||0,u=!1,m=l.getUniqueId("bd__pcbs__");i[a.queryField||"callback"]="parent."+m;var p=d(e,i);if(l.g(n))l.getParent(n).innerHTML=p;else{var f=[];f.push("<div id='",t,"' style='display:none;'>"),f.push("<div>",p,"</div>"),f.push("<iframe name='",o,"' src='"+("https:"===window.location.protocol.toLowerCase()?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank")+"' style='display:none;'></iframe>"),f.push("</div>"),l.insertHTML(document.body,"beforeEnd",f.join(""))}window[m]=r(),c&&(u=setTimeout(r(1),c)),l.g(n).submit()};e.jsonp=function(e,t,n){n=n||{};return new i(function(o,i){e=a(e,t),u(e,function(e){n.processData&&(e=n.processData(e)),o&&o(e)},{charset:n.charset,queryField:n.queryField,timeOut:n.timeOut,onfailure:function(){i&&i()}})})},e.submit=function(e,t,n){return e&&t?new i(function(o){m(e,t,function(e){n.processData&&(e=n.processData(e)),o&&o(e)},n)}):void 0};var p=[];e.load=function(e){return new i(function(t){var n=p.push(new Image)-1,o=!1,i=setTimeout(function(){o=!0,t&&t()},1e3);p[n].onload=function(){clearTimeout(i),o||t&&t(),o=!0,p[n]=p[n].onload=null},p[n].src=e})}}(c);var v=this.id=l.id(),_=this.getId=function(e){return[v,e].join("__")},w=t.traceid,y=this.getById=function(e){var t="string"==typeof e?l.g([v,e].join("__")):e;return t&&(t.hide=function(e){this.style.display=e?e:"none"},t.show=function(e){this.style.display=e?e:"block"},t.html=function(e){this.innerHTML=e},t.attr=function(e,t){this.setAttribute(e,t)},t.on=function(e,t){l.on(this,e,t)},t.addClass=function(e){l.addClass(this,e)},t.removeClass=function(e){l.removeClass(this,e)},t.css=function(e,n){return t.style[e]=n,this}),t},x=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):""},k=this.getJSONP=function(e,t,n){w&&w.length>0&&(t.traceid=w),t.isGuide=x("isGuide")||0,c.jsonp(e,t,{charset:"UTF-8",processData:function(e){w=e.traceid||"",n&&n(e)}})},C=this,T=a[window.location.protocol.toLowerCase()],E=T+"/v2/?bindwidget-init";if("1"===t.pcsdk)var I="https://wappass.baidu.com/passport/bindwidget-send",A="https://wappass.baidu.com/passport/bindwidget-bind";else var I=T+"/v2/?bindwidget-send",A=T+"/v2/?bindwidget-bind";var S=T+"/v2/?regphonecheck",L=T+"/v2/?regmailcheck",N=null,B=null,M=null,P=!1,V="",j=!1,O=t.otherValue&&"tb"===t.otherValue.tpl||1===+t.overseas?1:0;C.action=e,C.is_show=!1,t=s(t,{onRender:g,onHide:g,onAfterClose:g,onIncomplete:function(){window.location.href=[r[e],"&u=",encodeURIComponent(window.location.href)].join("")},onSendVcodeSuccess:g,onBeforeSuccess:g,onSubmitSuccess:g,onBindToLoginFn:g,onBindClose:g,successCountdown:t.successCountdown||5,onSubmitFail:g,onInitFail:g,onGetapiError:g,title:"密保工具",msg:"",color:"blue",submitText:"",footerText:"",lstr:t.lstr,ltoken:t.ltoken,u:t.u,isexchangeable:t.isexchangeable});var R={confirmMobile:{name:"验证手机",msg:"检测到您有待验证的手机号，验证成功后即可成为绑定手机号码",footer:t.footerText?t.footerText:"*一个手机号可以绑定5个百度帐号，但该手机号只能登录其中一个帐号<br />*您可以使用此手机号进行找回密码等敏感操作<br />*请勿随意泄露手机号，以防被不法分子利用，骗取帐号信息"},bindemail:{name:"绑定邮箱",code_name:"邮箱验证码",msg:"请输入您要绑定的邮箱地址，绑定后即可用该邮箱登录所有百度产品",vali:{email:{empty:"请输入邮箱地址",format:"邮箱格式不正确",emailLimit:"不能使用该邮箱",exists:"已被其他帐号绑定",exists_title:"建议更换邮箱或直接用此邮箱登录",suffix:'为确保您能及时收到邮件，请使用<a href="http://www.baidu.com/search/passport_help.html#09" target="_blank">主流邮箱</a>'},vcode:{empty:"请输入邮箱验证码",format:"验证码为六位数字",expire:"验证码已过期"}},footer:t.footerText?t.footerText:"*您可用使用此密保邮箱找回密码及登录<br />*请勿随意泄露邮箱地址，以防被不法分子利用，骗取帐号信息"},bindmobile:{name:"绑定手机",code_name:"短信验证码",msg:"请输入您要绑定的手机号码",vali:{mobile:{empty:"请输入手机号码",format:"号码格式不正确",exists:"已被其他帐号绑定",exists_title:"建议更换号码或直接用此号码登录"},vcode:{empty:"请输入短信验证码",format:"验证码为六位数字",expire:"验证码已过期"}},footer:t.footerText?t.footerText:"*一个手机号可以绑定5个百度帐号，但该手机号只能登录其中一个帐号<br />*您可以使用此手机号进行找回密码等敏感操作<br />*请勿随意泄露手机号，以防被不法分子利用，骗取帐号信息"}};R.rebindemail=s({name:"更换密保邮箱",code_name:"邮箱验证码"},R.bindemail),R.rebindmobile=s({name:"更换手机",code_name:"手机验证码"},R.bindmobile),R.unbindemail={name:"解绑密保邮箱",code_name:"邮箱验证码"},R.upgrademobile={name:"验证手机",code_name:"验证手机"},R.unbindmobile={name:"解绑手机",code_name:"手机验证码"};var H=function(n){var o=window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase(),i=null;"bindmobile"===e||"rebindmobile"===e?i=['<div class="content-element content-type clearfix">','<div class="content-mobile clearfix" id="',v,'__content_mobile" style="display:block">','<input type="text" class="armorwidget-input armorwidget-input-mobile '+(O?"armorwidget-input-code":"")+'" id="',v,'__input_mobile" maxlength="11" />',O?'<div><label class="ai-label-input-code" id="'+v+'__ai_content_select_show">+86</label></div>':"",'<ul class="ai-country-select-handler" id="',v,'__ai_content_select_handler"></ul>','<label class="armorwidget-input-label '+(O?"armorwidget-input-label-code":"")+'" id="',v,'__input_label_mobile">请输入手机号</label>','<span class="armorwidget-error content-error-mobile" id="',v,'__error_mobile"></span>',"</div>","</div>"].join(""):("bindemail"===e||"rebindemail"===e)&&(i=['<div class="content-element content-type clearfix">','<div class="content-element content-email clearfix" id="',v,'__content_email" style="display:block">','<input type="text" class="armorwidget-input armorwidget-input-mobile" id="',v,'__input_email" maxlength="50" />','<label class="armorwidget-input-label" id="',v,'__input_label_email">请输入有效邮箱地址</label>','<span class="armorwidget-error content-error-email" id="',v,'__error_email"></span>',"</div>","</div>"].join(""));var s=null;return i?(t.msg=t.msg||R[e].msg,s=['<div class="content-element content-msg"><p class="content-msgtext" id="',v,'__content_msgtext">',t.msg,"</p></div>",i,'<div class="content-element content-vcode clearfix" id="',v,'__content_vcode" style="display:block">','<input type="text" class="armorwidget-input armorwidget-input-vcode" id="',v,'__input_vcode" maxlength="8" />','<label class="armorwidget-input-label" id="',v,'__input_label_vcode">',R[e].code_name,"</label>",'<input type="button" class="armorwidget-button armorwidget-button-send" id="',v,'__button_send" value="发送验证码" />','<span class="armorwidget-error content-error-vcode" id="',v,'__error_vcode"></span>',"</div>",'<div class="content-element content-submit clearfix" id="',v,'__content_submit" style="display:block">','<input type="button" class="armorwidget-button armorwidget-button-submit" id="',v,'__button_submit" value="确定" />',t.submitText?'<span class="armorwidget-text content-text-submit" id="'+v+'__text_submit">'+t.submitText+"</span>":"",'<span class="armorwidget-error content-error-submit" id="',v,'__error_submit"></span>',"</div>"].join("")):"confirmMobile"===e?(t.msg=t.msg||R[e].msg,s=['<div class="content-element content-msg"><p class="content-msgtext" id="',v,'__content_msgtext">',t.msg,"</p></div>",'<div class="content-element content-type clearfix">','<div class="content-element content-mobile clearfix" id="',v,'__content_mobile" style="display:block">','<span class="content-mobile-h1">',t.confirmMobile||"","</span>",'<a href="#" class="input-change-button" id="',v,'__input_change_button">',"更换手机号","</a>",'<input type="hidden" id="',v,'__input_mobile" />',"</div>",'<div class="content-element content-submit clearfix" id="',v,'__content_submit" style="display:block">','<input type="button" class="armorwidget-button armorwidget-button-submit" id="',v,'__button_submit" value="',t.submitText?t.submitText:"确定",'" />',"</div>"].join("")):s=['<div class="content-element content-blank"><p class="content-msgtext" id="',v,'__content_msgtext">',t.msg,"</p></div>"].join(""),{mask:['<div id="',v,'__mask" class="pass-armorwidget-mask" style="top: 0px; left: 0px;width:',l.getViewWidth(),"px;height:",l.getViewHeight(),'px; position: fixed; _position: absolute;filter: alpha(opacity = 30);opacity: 0.15; z-index: 1004; background-color: rgb(0, 0, 0);display:none;">','<iframe frameborder="0" style="filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1" ','src="',"https:"===o?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank",'"></iframe>','<div style="position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1;">&nbsp;</div>',"</div>"].join(""),wrapper:['<div class="pass-armorwidget-wrapper pass-armorwidget-'+t.color+'" id="',v,'__wrapper" style="display:none;">','<div class="armorwidget-header" id="',v,'__header">','<h3 class="armorwidget-header-h3" id="',v,'__header_h3">',t.title,"</h3>",'<a class="armorwidget-header-a" id="',v,'__header_a"></a>',"</div>",'<div class="armorwidget-article" id="',v,'__article">','<div class="pass-armorwidget-content" id="',v,'__content" style="">',s,'<div class="app-success clearfix"  id="',v,'__app_success"><em class="app-success-icon"></em><span class="app-success-msg"  id="',v,'__app_success_msg"></span></div>','<div class="app-fail clearfix"  id="',v,'__app_fail"><em class="app-fail-icon"></em><span class="app-fail-msg"  id="',v,'__app_fail_msg"></span></div>','<div class="content-element content-footer clearfix">',R[e].footer?['<p class="footer-tip">',R[e].footer,"</p>"].join(""):"","</div>","</div>","</div>","</div>"].join("")}[n]},D=function(){var e=y("wrapper"),t=y("mask");t.style.height=l.getViewHeight()+"px",t.style.width=l.getViewWidth()+"px",e.style.top=(l.getSize().h-l.getSize(e).h)/2+l.getScrollTop()+"px",e.style.left=(l.getSize().w-l.getSize(e).w)/2+"px"},q=function(){"1"===t.pcsdk?(e=t.action,B=t.bdstoken,M=t.authsid,m=function(){y("mask").show(),y("wrapper").show(),D(),l.on(p,"resize",function(){D()}),C.is_show=!0},o&&(o.show=m),"unbindmobile"===e||"unbindemail"===e||"upgrademobile"===e?(mt(),z()):mt()):k(E,s({token:t.token,vstr:t.vstr,subpro:t.subpro,lstr:t.lstr,ltoken:t.ltoken,u:t.u},t.otherValue),function(n){M=null,"0"===n.errno?(e=n.action,N=n.authtoken,B=n.bdstoken,M=n.authsid,t.tpl=t.tpl||n.tpl,t.authsid&&(M=t.authsid),m=function(){y("mask").show(),y("wrapper").show(),D(),l.on(p,"resize",function(){D()}),C.is_show=!0}):"8"===n.errno?(t.onAfterClose.call(C),t.onIncomplete.call(C)):(t.onAfterClose.call(C),t.onInitFail(C,n),m=function(){t.onGetapiError(n)}),o&&(o.show=m),M&&M.length>10?"unbindmobile"===e||"unbindemail"===e||"upgrademobile"===e?(mt(),z()):mt():it()})},F=null,U=null,G=null,W=function(){var n={action:e,authsid:M,bdstoken:B,vstr:t.vstr,vcode:y("input_vcode").value,subpro:t.subpro,lstr:t.lstr,ltoken:t.ltoken,u:t.u,setunamepwd:t.setunamepwd,tpl:t.tpl,scene:t.from||"default"};("bindmobile"===e||"rebindmobile"===e)&&(n.isexchangeable=void 0!==t.isexchangeable?t.isexchangeable:1,n.exchange=1),n=s(n,t.otherValue),n.dv=document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"","bindemail"===e||"rebindemail"===e?n.email=y("input_email").value:("bindmobile"===e||"rebindmobile"===e)&&(n.mobile=y("input_mobile").value,1===+O&&(n.countrycode=V)),y("button_submit").disabled=!0,k(A,n,function(e){y("button_submit").disabled=!1,"0"===e.errno?(y("button_submit").style.color="#fff",F&&(F.hide(),y("mask").show(),y("wrapper").show()),U&&(U.hide(),y("mask").show(),y("wrapper").show()),G&&(G.hide(),y("mask").show(),y("wrapper").show()),t.onBeforeSuccess&&t.onBeforeSuccess.call(C,e),Y(e)):(y("button_submit").style.color="#fff",t.onSubmitFail(C,e),y("error_vcode").html(e.errmsg),y("input_vcode").addClass("armorwidget-input-error"))})},z=function(){var n={action:e,authsid:M,bdstoken:B,vstr:t.vstr,subpro:t.subpro,tpl:t.tpl,scene:t.from||"default"};n=s(n,t.otherValue),n.dv=document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"",k(A,n,function(e){"0"===e.errno?(t.onBeforeSuccess&&t.onBeforeSuccess.call(C,e),Y(e)):Z(e)})},$=function(e,t){var n=["http://passport.baidu.com/passApi/js/uni/qq.com","http://passport.baidu.com/passApi/js/uni/163.com","http://passport.baidu.com/passApi/js/uni/126.com","http://passport.baidu.com/passApi/js/uni/sohu.com","http://passport.baidu.com/passApi/js/uni/sina.com","http://passport.baidu.com/passApi/js/uni/21cn.com","http://passport.baidu.com/passApi/js/uni/vip.qq.com","http://passport.baidu.com/passApi/js/uni/yeah.net","http://passport.baidu.com/passApi/js/uni/foxmail.com","http://passport.baidu.com/passApi/js/uni/sina.cn","http://passport.baidu.com/passApi/js/uni/yahoo.com.cn","http://passport.baidu.com/passApi/js/uni/139.com","http://passport.baidu.com/passApi/js/uni/yahoo.cn","http://passport.baidu.com/passApi/js/uni/tom.com","http://passport.baidu.com/passApi/js/uni/yahoo.com.tw","http://passport.baidu.com/passApi/js/uni/live.cn","http://passport.baidu.com/passApi/js/uni/hanmail.net","http://passport.baidu.com/passApi/js/uni/189.cn","http://passport.baidu.com/passApi/js/uni/yahoo.com","http://passport.baidu.com/passApi/js/uni/nate.com","http://passport.baidu.com/passApi/js/uni/aliyun.com","http://passport.baidu.com/passApi/js/uni/yahoo.com.hk","http://passport.baidu.com/passApi/js/uni/naver.com","http://passport.baidu.com/passApi/js/uni/live.com","http://passport.baidu.com/passApi/js/uni/msn.com","http://passport.baidu.com/passApi/js/uni/outlook.com","http://passport.baidu.com/passApi/js/uni/sogou.com","http://passport.baidu.com/passApi/js/uni/sina.com.cn","http://passport.baidu.com/passApi/js/uni/eyou.com","http://passport.baidu.com/passApi/js/uni/vip.sina.com","http://passport.baidu.com/passApi/js/uni/msn.cn","http://passport.baidu.com/passApi/js/uni/me.com","http://passport.baidu.com/passApi/js/uni/ymail.com","http://passport.baidu.com/passApi/js/uni/wo.com.cn","http://passport.baidu.com/passApi/js/uni/vip.163.com","http://passport.baidu.com/passApi/js/uni/2980.com","http://passport.baidu.com/passApi/js/uni/263.net","http://passport.baidu.com/passApi/js/uni/kimo.com","http://passport.baidu.com/passApi/js/uni/yahoo.co.jp"],o=function(e,t){var n=document.createElement("li");return n.className="pass-item-suggsetion",t&&(n.style.display="none",n.className=[n.className,"pass-item-suggsetion_hover"].join(" ")),n.innerHTML=e,n},i=function(t){e.value=t.innerHTML.replace(/<[^>]+>/g,"")},s=function(e){var t=l.getTarget(e);return"li"===t.nodeName.toLowerCase()?t:t.parentNode},a=function(e){if(!C.sug_ul){C.sug_ul=document.createElement("ul"),C.sug_ul.id=_("sug_wrapper"),C.sug_ul=y(C.sug_ul);var n=y("input_email");n.insertAdjacentElement?n.insertAdjacentElement("afterEnd",C.sug_ul):n.nextSibling?n.parentNode.insertBefore(C.sug_ul,n.nextSibling):n.parentNode.appendChild(C.sug_ul),C.sug_ul.addClass("pass-suggestion-list"),C.sug_ul.on("click",function(e){i(s(e)),C.sug_ul.hide(),n.focus(),setTimeout(function(){t.html("")},100)})}C.sug_ul.html(""),C.sug_ul.style.display="",C.sug_ul.appendChild(e);for(var o=C.sug_ul.getElementsByTagName("li"),a=0;a<o.length;a++){var r=y(o[a]);r.on("mouseover",function(e){for(var t=0;t<o.length;t++)l.removeClass(o[t],"pass-item-suggsetion_hover");l.addClass(s(e),"pass-item-suggsetion_hover")}),r.on("mouseout",function(){for(var e=0;e<o.length;e++)l.removeClass(o[e],"pass-item-suggsetion_hover")})}},r={UP:38,DOWN:40,ENTER:13,TAB:9,SPACE:32},c=/^([a-zA-Z0-9_.\-+]+)/,u=/@([a-zA-Z0-9\-_.]+)/;e.on("keyup",function(t){var s=document.createDocumentFragment(),d=null,m=0,p=e.value;p=p?p:"";var f=p.match(c),h=p.match(u);if(f)if(d=o(p,!0),s.appendChild(d),p=f[1],h)for(var b=0,g=n.length;g>b;b++){var v=n[b],_=h[1];if(v.indexOf(_)>-1&&(_=_.replace(/\./g,"\\."),v=v.replace(new RegExp(_,"g"),"<b>$&</b>"),d=o([p,v].join("@")),s.appendChild(d),m++,m>6))break}else for(var b=0,g=n.length;g>b&&(d=o([p,n[b]].join("@")),s.appendChild(d),m++,!(m>6));b++);if(C.sug_ul&&t.keyCode!==r.UP&&t.keyCode!==r.DOWN&&C.sug_ul.hide(),m>0)if(t.keyCode!==r.UP&&t.keyCode!==r.DOWN)a(s);else if((t.keyCode===r.UP||t.keyCode===r.DOWN)&&"none"!==C.sug_ul.style.display){for(var w=C.sug_ul.childNodes,m=w.length,y=-1,x=0,b=0;m>b;b++)w[b].className.indexOf("pass-item-suggsetion_hover")>-1&&(y=b);t.keyCode===r.UP&&(x=-1===y?m-1:0===y?m-1:y-1),t.keyCode===r.DOWN&&(x=-1===y?0:y===m-1?0:y+1);for(var k=C.sug_ul.getElementsByTagName("li"),b=0;b<k.length;b++)l.removeClass(k[b],"pass-item-suggsetion_hover");l.addClass(w[x],"pass-item-suggsetion_hover"),i(w[x])}}),e.on("keydown",function(e){if((e.keyCode===r.ENTER||e.keyCode===r.TAB||e.KeyCode===r.SPACE)&&C.sug_ul&&"none"!==C.sug_ul.style.display){C.sug_ul.hide(),y("input_vcode").focus();try{e.preventDefault(),e.stopPropagation()}catch(t){}}}),e.on("blur",function(){window.setTimeout(function(){C.sug_ul&&C.sug_ul.hide()},200)})},X=this.close=function(){t.onHide.call(C),y("mask").hide(),y("wrapper").hide(),y("app_fail")&&y("app_fail").hide(),C.is_show=!1,t.onAfterClose.call(C)},Y=function(n){if(t.successCountdown<1)return void(C.is_show&&t.onSubmitSuccess.call(C,n)!==!1&&C.close());F&&F.hide(),U&&U.hide(),U&&U.hide(),y("mask").hide(),y("wrapper").hide();var o="",i="",s="",a="";switch(1===+n.ppBindCanLogin?a="您可使用该手机号+密码的方式登录当前帐号":0===+n.ppBindCanLogin&&(a="您可使用该用户名/邮箱+密码的方式登录当前帐号"),e){case"bindemail":i='<p class="bindsuccess-title">邮箱绑定成功</p><p class="bindsuccess-msg">您可使用该邮箱+密码登录百度所有产品</p>',s="绑定邮箱";break;case"bindmobile":i='<p class="bindsuccess-title">手机绑定成功</p><p class="bindsuccess-msg">'+a+"</p>",s="绑定手机";break;case"rebindemail":i='<p class="bindsuccess-title">密保邮箱换绑成功</p><p class="bindsuccess-msg">您可使用该邮箱+密码登录百度所有产品</p>',s="换绑邮箱";break;case"rebindmobile":i='<p class="bindsuccess-title">手机号换绑成功</p><p class="bindsuccess-msg">'+a+"</p>",s="换绑手机";break;case"unbindemail":i='<p class="bindsuccess-title bindsuccess-lineheight">邮箱解绑成功</p>',s="解绑邮箱";break;case"unbindmobile":i='<p class="bindsuccess-title bindsuccess-lineheight">手机解绑成功</p>',s="解绑手机";break;case"upgrademobile":i='<p class="bindsuccess-title bindsuccess-lineheight">验证手机成功</p><p class="bindsuccess-msg">'+a+"</p>",s="验证手机";break;case"confirmMobile":i='<p class="bindsuccess-title">手机绑定成功</p><p class="bindsuccess-msg">'+a+"</p>"}j&&(o='<div class="bindsuccess-comeunbind"><p class="bindsuccess-comeunbind-msg">特别提醒：</p><p>手机号'+(n.phone||"")+"已绑定新帐号"+(n.displayname||"")+",将不能用于登录原帐号"+(n.fromuser||"")+",感谢您的使用。</p></div>");var r=passport.pop.init({type:"confirmWidget",tangram:!0,titleText:s,width:400,apiOpt:{noFoot:1,Cancel:"delete",Continue:"delete",contentHTML:'<div class="pass-armorsuccess-widget"><div class="bindsuccess-main-msg">'+i+"</div>"+o+"</div>"},onRender:function(){},onConfirmClose:function(){r=null,t.onSubmitSuccess&&t.onSubmitSuccess.call(C,n)}});r.show()},Z=function(n){"upgrademobile"===e&&m(),y("mask").show(),y("wrapper").show();var o=y("app_fail"),i=y("app_fail_msg");o.show(),i.html("操作失败，5秒钟后窗口关闭……");var s=5,a=window.setInterval(function(){s--,i.html(["操作失败，",s,"秒钟后窗口关闭……"].join("")),0===s&&(window.clearInterval(a),C.is_show&&t.onSubmitFail.call(C,n)!==!1&&C.close())},1e3)},J=function(e){var t=e.substr(e.indexOf("@")+1);t=t.replace(new RegExp("[.]","g"),"_");var n={tom_com:"http://mail.tom.com/","163_com":"http://mail.163.com/",qq_com:"http://mail.qq.com/",gmail_com:"https://mail.google.com",yahoo_com_cn:"http://cn.yahoo.com/",yahoo_com:"http://login.yahoo.com/",sohu_com:"http://mail.sohu.com/",sina_com:"http://mail.sina.com/",sina_com_cn:"http://mail.sina.com.cn/",hotmail_com:"https://login.live.com",msn_com:"https://login.live.com",live_cn:"https://login.live.com",live_com:"https://login.live.com","126_com":"http://126.com/",foxmail_com:"http://mail.foxmail.com/",yeah_net:"http://yeah.net/","139_com":"http://mail.10086.cn/","189_cn":"http://webmail11.189.cn/webmail/","21cn_com":"http://mail.21cn.com/","263_net":"http://mail.263.net/",wo_com_cn:"http://mail.wo.com.cn/mail/login.action"};return n[t]?n[t]:!1},K=!1,Q=!1,et=!0,tt=function(t,n){return"bindmobile"===e||"rebindmobile"===e?at("mobile",!1,n?rt:g):"bindemail"===e||"rebindemail"===e?at("email",t,n?rt:g):void 0},nt=function(e){if(tt(!1,!1)){var t=y("button_send");if(K)var n=t.value,o=window.setInterval(function(){K?t.value="请稍等":(t.value=n,d&&ot(e),window.clearInterval(o))},20);else d&&ot(e)}},ot=(t.apiMargicInstance||{},function(n){var o=y("button_send"),i=y("error_vcode");n&&"string"==typeof n&&(B=n,I=T+"/v2/?bindwidget-send");var a={action:e,authsid:M,bdstoken:B,vstr:t.vstr,countrycode:1===+O?V:"",exchange:1,subpro:t.subpro,lstr:t.lstr,ltoken:t.ltoken,u:t.u,tpl:t.tpl};if(a=s(a,t.otherValue),"bindemail"===e||"rebindemail"===e){if(!st("email")||!at("email"))return;a.email=y("input_email").value}else if("bindmobile"===e||"rebindmobile"===e){if(!st("mobile")||!at("mobile"))return;a.mobile=y("input_mobile").value,a.isexchangeable=void 0!==t.isexchangeable?t.isexchangeable:1}a.dv=document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"",i.attr("title",""),l.unon(o,"click",nt),o.value="正在发送",o.addClass("armorwidget-button-sent"),k(I,a,function(n){if("0"===n.errno){do{if(i.html('<span style="color:#333333">发送成功</span>'),"bindemail"===e||"rebindemail"===e){var s=J(a.email);if(s){i.html(['<span style="color:#333333">发送成功，</span><a class="email_url" href="',s,'" title="进入邮箱" target="_blank">立即进入邮箱</a>'].join(""));break}}t.onSendVcodeSuccess.call(C,n)}while(!1);var r=60;o.value="重新发送(60)",o.disabled=!0;var l=window.setInterval(function(){r--,o.value="重新发送("+r+")",0===r&&(window.clearInterval(l),o.value="重新发送",i.html(""),o.removeClass("armorwidget-button-sent"),o.disabled=!1,o.on("click",nt))},1e3)}else if("7"===n.errno||"8"===n.errno||"11"===n.errno){var r=10;"7"===n.errno&&i.attr("title",R[e].vali.email.exists_title),"8"===n.errno&&i.attr("title",R[e].vali.mobile.exists_title),"11"===n.errno?(i.html(R[e].vali.email.suffix),i.style.width="228px",r=5):i.html(n.errmsg),o.value=["重新发送(",r,")"].join("");var l=window.setInterval(function(){r--,o.value="重新发送("+r+")",0===r&&(window.clearInterval(l),o.value="重新发送",i.html(""),o.removeClass("armorwidget-button-sent"),o.on("click",nt))},1e3)}else i.html(n.errmsg),o.value="重新发送",o.removeClass("armorwidget-button-sent"),o.on("click"http://passport.baidu.com/passApi/js/uni/,nt)})}),it=function(){var n=s(t.auth?t.auth:{},{authAction:e,token:N,title:t.auth_title,msg:t.auth_msg,color:t.color,subpro:t.subpro,tpl:t.tpl,traceid:w||"",onSubmitSuccess:function(t,n){M=n.authsid,"unbindemail"===e||"unbindmobile"===e||"upgrademobile"===e?(mt(),z()):mt()},onSubmitFailure:function(){},onHide:function(){t.onAfterClose.call(C)}}),o=passport.pop.initForceverify(n);o.show()},st=function(t){var n=y("input_"+t),o=y("error_"+t),i=n.value;return""===i?(n.addClass("armorwidget-input-error"),o.html(R[e].vali[t].empty),!1):(n.removeClass("armorwidget-input-error"),!0)},at=function(t,n,o){var i=y("input_"+t),s=y("error_"+t),a=i.value;return i.removeClass("armorwidget-input-error"),""===a?!1:"email"===t?/^[0-9a-zA-Z._-]+@([0-9a-zA-Z-]+\.)+[a-z]{2,4}$/.test(a)?/([a-zA-Z0-9_.\-+])+@(baidu|gmail|hotmail)\.com$/.test(a)?(n||(i.addClass("armorwidget-input-error"),s.html(R[e].vali[t].emailLimit)),!1):(o?o.call(C,t,i,a,s):d&&!et&&(s.html(""),i.removeClass("armorwidget-input-error")),!0):(n||(i.addClass("armorwidget-input-error"),s.html(R[e].vali[t].format)),!1):"mobile"===t?1===+O&&V+""!=""&&/^(\d+)$/.test(a)||(0===+O||V+""=="")&&/^1[3456789]\d{9}$/.test(a)?(o?o.call(C,t,i,a,s):d&&!et&&(s.html(""),i.removeClass("armorwidget-input-error")),!0):(i.addClass("armorwidget-input-error"),s.html(R[e].vali[t].format),!1):"vcode"===t?/^\d{6}$/.test(a)?!0:(i.addClass("armorwidget-input-error"),s.html(R[e].vali[t].format),!1):(i.removeClass("armorwidget-input-error"),!0)},rt=function(n,o,i,s){if(!Q)if(K=!0,Q=!0,d=!1,"email"===n){var a=window.hex_md5(i+"Moonshadow");a=a.replace(/o/,"ow").replace(/d/,"do").replace(/a/,"ad"),a=a.replace(/h/,"ha").replace(/s/,"sh").replace(/n/,"ns").replace(/m/,"mo"),k(L,{apiver:"v3",email:i,subpro:t.subpro,otherValue:t.otherValue,lstr:t.lstr,ltoken:t.ltoken,u:t.u,moonshad:a},function(t){K=!1,t&&t.errInfo&&"0"http://passport.baidu.com/passApi/js/uni/===t.errInfo.no?(o.removeClass("armorwidget-input-error"),s.html(""),d=!0):t&&t.errInfo&&"500010"http://passport.baidu.com/passApi/js/uni/===t.errInfo.no?(o.addClass("armorwidget-input-error"),s.html("操作频繁，请稍候再试")):(o.addClass("armorwidget-input-error"),s.html(R[e].vali[n].exists))})}else if("mobile"===n){var a=window.hex_md5(i+"Moonshadow");a=a.replace(/o/,"ow").replace(/d/,"do").replace(/a/,"ad"),a=a.replace(/h/,"ha").replace(/s/,"sh").replace(/n/,"ns").replace(/m/,"mo"),k(S,{apiver:"v3",phone:i,countrycode:1===+O?V:"",isexchangeable:void 0!==t.isexchangeable?t.isexchangeable:1,exchange:0,subpro:t.subpro,otherValue:t.otherValue,lstr:t.lstr,ltoken:t.ltoken,u:t.u,action:e,moonshad:a},function(t){if(K=!1,et=!0,j=!1,t&&t.errInfo&&"0"===t.errInfo.no)o.removeClass("armorwidget-input-error"),s.html(""),d=!0;else if(t&&t.errInfo&&"500010"===t.errInfo.no)o.addClass("armorwidget-input-error"),s.html("操作频繁，请稍候再试");else if(t&&t.errInfo&&"400412"===t.errInfo.no){var i=t&&t.data&&t.data.ppExistUsername||"";lt(i)}else{o.addClass("armorwidget-input-error"http://passport.baidu.com/passApi/js/uni/);var a=t&&t.errInfo&&t.errInfo.msg?t.errInfo.msg:R[e].vali[n].exists;s.html(a)}})}else K=!1,d=!1},lt=function(){y("content").hide();var n='<div class="pass-armorwidget-content" id="'+v+'__noNameWrapper"><div class="content-element content-msg"><p class="content-msgtext">该手机号已被其它帐号设置为登录手机，将不能用于登录当前帐号，请先为当前帐号设置一个用户名用于登录</p></div><div class="content-element content-footer clearfix"><button class="mod-btn3 right" id="'+v+'__setUsername">设置用户名</button><button style="margin-right: 10px" id="'+v+'__cancelSetUsername" class="mod-btn4 right">取消</button></div></div>',o=document.createElement("div");
o.innerHTML=n,y("article").appendChild(o),D(),u(y("cancelSetUsername")).on("click",function(){X()}),u(y("setUsername")).on("click",function(){y("mask").hide(),y("wrapper").hide();var n=window.passport.pop.init({type:"fillUserName",apiOpt:{product:t.tpl||"",from:e||""},tangram:!0,onSubmitSuccess:function(e){e.returnValue=!1,n.hide(),u(y("noNameWrapper")).hide(),d=!0,ot(e.rsp.data.pp_bds_token),y("content").show(),y("mask").show(),y("wrapper").show()}});n.show()})},ct=function(e){var t=0,n=0;if(d){for(var o in e)n++,st(o)&&at(o)&&t++;t===n&&(y("button_submit").style.color="#9ebef4",W())}},ut=function(){k((window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase())+"//passport.baidu.com/v2/?securitygetcountrycode",{apiver:"v3",subpro:t.subpro},function(e){e.data.country.length>0&&dt(e.data.country)})},dt=function(e){for(var t='<li class="clearfix" data-curr=""><div class="forgot-code">+86</div><div class="font-code">大陆地区</div></li>',n=y("ai_content_select_handler"),o=0,i=e.length;i>o;o++){var s=e[o];t+='<li class="clearfix" data-curr="'+s.code+'"><div class="forgot-code">+'+s.code.substring(2)+'</div><div class="font-code">'+s.name+"</div></li>"}if(n.html(t),P=!0,l.on(y("ai_content_select_show"),"click",function(){var e=y("ai_content_select_handler");e&&"block"!==e.style.display?e.style.display="block":e&&(e.style.display="none")}),y("ai_content_select_handler")){var a=function(){y("ai_content_select_handler").style.display="none"};l.on(y("wrapper"),"click",function(e){var t=l.getTarget(e);t.id!==C.id+"__ai_content_select_show"&&a()}),l.on(y("mask"),"click",function(){a()}),l.on(y("ai_content_select_handler"),"click",function(e){var t=l.getTarget(e),n=t.parentNode.attributes["data-curr"].value;V=n,y("ai_content_select_show").html(t.parentNode.firstChild.innerHTML),a()})}},mt=function(){l.insertHTML(h,"afterBegin",H("mask")),l.insertHTML(h,"beforeEnd",H("wrapper")),t.onRender.call(C);var o={},i=y("wrapper"),s={},a=!1;if(!P&&O&&ut(),y("header_h3").on("mousedown",function(e){e.preventDefault?e.preventDefault():window.event.returnValue=!1,o.x=l.getMousePos(e).x,o.y=l.getMousePos(e).y,s.l=parseInt(i.style.left,10),s.t=parseInt(i.style.top,10),a=!0}),l.on(h,"mousemove",function(e){a&&(i.style.left=s.l-o.x+l.getMousePos(e).x+"px",i.style.top=s.t-o.y+l.getMousePos(e).y+"px")}),l.on(h,"mouseup",function(){a=!1}),y("header_a").on("click",function(){X(),t&&t.onBindClose&&t.onBindClose.call(C)}),"unbindemail"!==e&&"unbindmobile"!==e&&"upgrademobile"!==e&&"confirmMobile"!==e){var r={},c=function(e){var t=y("input_label_"+e);if(t){var n=y("input_"+e),o=y("error_"+e);r[e]={label:t,input:n,error:o},t.on("click",function(){n.focus()}),n.on("focus",function(){l.addClass(n,"armorwidget-input-focus"),"vcode"===e&&tt(!1,!1),"email"===e&&(Q=!1),"mobile"===e&&(Q=!1)}),n.on("blur",function(){n.removeClass("armorwidget-input-focus"),""===n.value&&t.show(),tt(!0,!0),"vcode"===e&&at("vcode")}),n.on("keydown",function(n){t.hide(),o.html(""),"vcode"===e&&13===n.keyCode&&u.click()}),"email"===e&&$(n,o)}};("bindmobile"===e||"rebindmobile"===e)&&(c("mobile"),c("vcode")),("bindemail"===e||"rebindemail"===e)&&(c("email"),c("vcode"));var u=y("button_submit");u.on("click",function(){if(K)var e=u.value,t=window.setInterval(function(){K?u.value="请稍等":(u.value=e,ct(r),window.clearInterval(t))},20);else ct(r)}),u.on("mouseover",function(){u.addClass("armorwidget-button-hover")}),u.on("mouseout",function(){u.removeClass("armorwidget-button-hover")}),u.on("mousedown",function(){u.addClass("armorwidget-button-press")}),u.on("mouseup",function(){u.removeClass("armorwidget-button-press")}),y("button_send").on("click",nt)}if("confirmMobile"===e){var u=y("button_submit"),d=y("input_change_button");u.on("click",function(){X();var n=passport.pop.ArmorWidget,o=n("upgrademobile",{token:t.token,title:"绑定手机",msg:"bindmobile"===e?"请绑定手机":"",overseas:1,bindToLogin:1,successCountdown:3,otherValue:t.otherValue||{},onSubmitSuccess:function(){window.location.href="http://passport.baidu.com/v2/accountsecurity"}});return o.show(),!1}),u.on("mouseover",function(){u.addClass("armorwidget-button-hover")}),u.on("mouseout",function(){u.removeClass("armorwidget-button-hover")}),u.on("mousedown",function(){u.addClass("armorwidget-button-press")}),u.on("mouseup",function(){u.removeClass("armorwidget-button-press")});var p=t.bindMobileToken;d.on("click",function(){X();var e=passport.pop.ArmorWidget,n=e("bindmobile",{token:p,title:"绑定手机",msg:"",action:"bindmobile",overseas:1,otherValue:t.otherValue,auth_title:"绑定手机",auth_msg:"为了保障您的帐号安全，变更信息前需验证身份",from:t.from||"default",onSubmitSuccess:function(){window.location.href="http://passport.baidu.com/v2/accountsecurity"},onBindToLoginFn:t.onBindToLoginFn});return n.show(),!1})}n&&"upgrademobile"!==e&&window.setTimeout(function(){m()},50)};return q(),C};