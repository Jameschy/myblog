var baiduInstance,T,baidu=T=function(e,t){return baidu.dom?baidu.dom(e,t):null};baidu.version="2.0.1.0",baidu.guid="$BAIDU$",baidu.key="tangram_guid";var _=window[baidu.guid]=window[baidu.guid]||{};(_.versions||(_.versions=[])).push(baidu.version),baidu.check=baidu.check||function(){},baidu.lang=baidu.lang||{},baidu.forEach=function(e,t,n){var r,i,s;if(typeof t=="function"&&e){i=typeof e.length=="number"?e.length:e.byteLength;if(typeof i=="number"){if(Object.prototype.toString.call(e)==="[object Function]")return e;for(r=0;r<i;r++)s=e[r]||e.charAt&&e.charAt(r),t.call(n||null,s,r,e)}else if(typeof e=="number")for(r=0;r<e;r++)t.call(n||null,r,r,r);else if(typeof e=="object")for(r in e)e.hasOwnProperty(r)&&t.call(n||null,e[r],r,e)}return e},baidu.type=function(){var e={},t=[,"HTMLElement","Attribute","Text",,,,,"Comment","Document",,"DocumentFragment"],n="Array Boolean Date Error Function Number RegExp String",r={object:1,"function":"1"},i=e.toString;return baidu.forEach(n.split(" "),function(t){e["[object "+t+"]"]=t.toLowerCase(),baidu["is"+t]=function(e){return baidu.type(e)==t.toLowerCase()}}),function(n){var s=typeof n;return r[s]?n==null?"null":n._type_||e[i.call(n)]||t[n.nodeType]||(n==n.window?"Window":"")||"object":s}}(),baidu.isDate=function(e){return baidu.type(e)=="date"&&e.toString()!="Invalid Date"&&!isNaN(e)},baidu.isElement=function(e){return baidu.type(e)=="HTMLElement"},baidu.isEnumerable=function(e){return e!=null&&(typeof e=="object"||~Object.prototype.toString.call(e).indexOf("NodeList"))&&(typeof e.length=="number"||typeof e.byteLength=="number"||typeof e[0]!="undefined")},baidu.isNumber=function(e){return baidu.type(e)=="number"&&isFinite(e)},baidu.isPlainObject=function(e){var t,n=Object.prototype.hasOwnProperty;if(baidu.type(e)!="object")return!1;if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(t in e);return t===undefined||n.call(e,t)},baidu.isObject=function(e){return typeof e=="function"||typeof e=="object"&&e!=null},baidu.global = baidu.global || (function() {    var me = baidu._global_ = window[ baidu.guid ],        // 20121116 mz ÔÚ¶à¸ötangramÍ¬Ê±¼ÓÔØÊ±ÓÐ»¥Ïà¸²Ð´µÄ·çÏÕ        global = me._ = me._ || {};    return function( key, value, overwrite ) {        if ( typeof value != "undefined" ) {            overwrite || ( value = typeof global[ key ] == "undefined" ? value : global[ key ] );            global[ key ] =  value;        } else if (key && typeof global[ key ] == "undefined" ) {            global[ key ] = {};        }        return global[ key ];    }})(),baidu.extend=function(e,t){var n,r,i,s,o,u=1,a=arguments.length,f=e||{},l,c;baidu.isBoolean(e)&&(u=2)&&(f=t||{}),!baidu.isObject(f)&&(f={});for(;u<a;u++){r=arguments[u];if(baidu.isObject(r))for(i in r){s=f[i],o=r[i];if(s===o)continue;baidu.isBoolean(e)&&e&&o&&(baidu.isPlainObject(o)||(l=baidu.isArray(o)))?(l?(l=!1,c=s&&baidu.isArray(s)?s:[]):c=s&&baidu.isPlainObject(s)?s:{},f[i]=baidu.extend(e,c,o)):o!==undefined&&(f[i]=o)}}return f},baidu.browser=baidu.browser||function(){var e=navigator.userAgent,t={isStrict:document.compatMode=="CSS1Compat",isGecko:/gecko/i.test(e)&&!/like gecko/i.test(e),isWebkit:/webkit/i.test(e)};try{/(\d+\.\d+)/.test(external.max_version)&&(t.maxthon=+RegExp.$1)}catch(n){}switch(!0){case/msie (\d+\.\d+)/i.test(e):t.ie=document.documentMode||+RegExp.$1;break;case/chrome\/(\d+\.\d+)/i.test(e):t.chrome=+RegExp.$1;break;case/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e):t.safari=+(RegExp.$1||RegExp.$2);break;case/firefox\/(\d+\.\d+)/i.test(e):t.firefox=+RegExp.$1;break;case/opera(?:\/| )(\d+(?:\.\d+)?)(.+?(version\/(\d+(?:\.\d+)?)))?/i.test(e):t.opera=+(RegExp.$4||RegExp.$1)}return baidu.extend(baidu,t),t}(),baidu.id = function() {    var maps = baidu.global("_maps_id")        ,key = baidu.key;    // 2012.12.21 ÓëÀÏ°æ±¾Í¬²½    window[ baidu.guid ]._counter = window[ baidu.guid ]._counter || 1;    return function( object, command ) {        var e            ,str_1= baidu.isString( object )            ,obj_1= baidu.isObject( object )            ,id = obj_1 ? object[ key ] : str_1 ? object : "";        // µÚ¶þ¸ö²ÎÊýÎª String        if ( baidu.isString( command ) ) {            switch ( command ) {            case "get" :                return obj_1 ? id : maps[id];//            break;            case "remove" :            case "delete" :                if ( e = maps[id] ) {                    // 20120827 mz IEµÍ°æ±¾(ie6,7)¸ø element[key] ¸³ÖµÊ±»áÐ´ÈëDOMÊ÷£¬Òò´ËÔÚÒÆ³ýµÄÊ±ºòÐèÒªÊ¹ÓÃremove                    if (baidu.isElement(e) && baidu.browser.ie < 8) {                        e.removeAttribute(key);                    } else {                        delete e[ key ];                    }                    delete maps[ id ];                }                return id;//            break;            default :                if ( str_1 ) {                    (e = maps[ id ]) && delete maps[ id ];                    e && ( maps[ e[ key ] = command ] = e );                } else if ( obj_1 ) {                    id && delete maps[ id ];                    maps[ object[ key ] = command ] = object;                }                return command;            }        }        // µÚÒ»¸ö²ÎÊý²»Îª¿Õ        if ( obj_1 ) {            !id && (maps[ object[ key ] = id = baidu.id() ] = object);            return id;        } else if ( str_1 ) {            return maps[ object ];        }        return "TANGRAM__PSP_" + baidu._global_._counter ++;    };}(),baidu.id.key="tangram_guid",baidu.lang.Class = (function() {    var instances = (baidu._global_ = window[baidu.guid])._instances_;    instances || (instances = baidu._global_._instances_ = {});    // constructor    return function() {        this.guid = baidu.id();        this._decontrol_ || (instances[this.guid] = this);    }})(),baidu.lang.Class.prototype.dispose = function(){    delete baidu._global_._instances_[this.guid];    // this.__listeners && (for (var i in this.__listeners) delete this.__listeners[i]);    for(var property in this){        typeof this[property] != "function" && delete this[property];    }    this.disposed = true;   // 20100716},baidu.lang.Class.prototype.toString = function(){    return "[object " + (this._type_ || this.__type || this._className || "Object") + "]";},baiduInstance=function(e){return baidu._global_._instances_[e]},baidu.lang.guid=function(){return baidu.id()},baidu.lang.isString=baidu.isString,baidu.lang.Event=function(e,t){this.type=e,this.returnValue=!0,this.target=t||null,this.currentTarget=null},baidu.lang.Class.prototype.fire=baidu.lang.Class.prototype.dispatchEvent=function(e,t){baidu.lang.isString(e)&&(e=new baidu.lang.Event(e)),!this.__listeners&&(this.__listeners={}),t=t||{};for(var n in t)e[n]=t[n];var n,r,i=this,s=i.__listeners,o=e.type;e.target=e.target||(e.currentTarget=i),o.indexOf("on")&&(o="on"+o),typeof i[o]=="function"&&i[o].apply(i,arguments);if(typeof s[o]=="object")for(n=0,r=s[o].length;n<r;n++)s[o][n]&&s[o][n].apply(i,arguments);return e.returnValue},baidu.lang.Class.prototype.on=baidu.lang.Class.prototype.addEventListener=function(e,t,n){if(typeof t!="function")return;!this.__listeners&&(this.__listeners={});var r,i=this.__listeners;e.indexOf("on")&&(e="on"+e),typeof i[e]!="object"&&(i[e]=[]);for(r=i[e].length-1;r>=0;r--)if(i[e][r]===t)return t;return i[e].push(t),n&&typeof n=="string"&&(i[e][n]=t),t},baidu.lang.inherits=function(e,t,n){var r,i,s=e.prototype,o=new Function;o.prototype=t.prototype,i=e.prototype=new o;for(r in s)i[r]=s[r];return e.prototype.constructor=e,e.superClass=t.prototype,typeof n=="string"&&(i.__type=n),e.extend=function(t){for(var n in t)i[n]=t[n];return e},e},baidu.lang.Class.prototype.un=baidu.lang.Class.prototype.removeEventListener=function(e,t){var n,r=this.__listeners;if(!r)return;if(typeof e=="undefined"){for(n in r)delete r[n];return}e.indexOf("on")&&(e="on"+e);if(typeof t=="undefined")delete r[e];else if(r[e]){typeof t=="string"&&(t=r[e][t])&&delete r[e][t];for(n=r[e].length-1;n>=0;n--)r[e][n]===t&&r[e].splice(n,1)}},baidu.lang.createClass=function(e,t){t=t||{};var n=t.superClass||baidu.lang.Class,r=function(){var i=this;t.decontrolled&&(i.__decontrolled=!0),n.apply(i,arguments);for(s in r.options)i[s]=r.options[s];e.apply(i,arguments);for(var s=0,o=r["r"];o&&s<o.length;s++)o[s].apply(i,arguments)};r.options=t.options||{};var i=function(){},s=e.prototype;i.prototype=n.prototype;var o=r.prototype=new i;for(var u in s)o[u]=s[u];var a=t.className||t.type;return typeof a=="string"&&(o.__type=a),o.constructor=s.constructor,r.extend=function(e){for(var t in e)r.prototype[t]=e[t];return r},r},baidu.createChain=function(e,t,n){var r=e=="dom"?"$DOM":"$"+e.charAt(0).toUpperCase()+e.substr(1),i=Array.prototype.slice,s=baidu[e]=baidu[e]||t||function(t){return baidu.extend(t,baidu[e].fn)};return s.extend=function(t){var n;for(n in t)n!="splice"&&(s[n]=function(){var t=arguments[0];e=="dom"&&baidu.type(t)=="string"&&(t="#"+t);var r=s(t),o=r[n].apply(r,i.call(arguments,1));return baidu.type(o)=="$DOM"?o.get(0):o});return baidu.extend(baidu[e].fn,t)},baidu[e][r]=baidu[e][r]||n||function(){},s.fn=baidu[e][r].prototype,s},baidu.overwrite=function(e,t,n){for(var r=t.length-1;r>-1;r--)e.prototype[t[r]]=n(t[r]);return e},baidu.createChain("event",function(){var e={};return function(t,n){switch(baidu.type(t)){case"object":return e.originalEvent===t?e:e=new baidu.event.$Event(t);case"$Event":return t;case"string":var r=new baidu.event.$Event(t);return typeof n=="object"&&baidu.forEach(r,n),r}}}(),function(e){var t,n,r,i=this;this._type_="$Event";if(typeof e=="object"&&e.type){i.originalEvent=t=e;for(var s in t)typeof t[s]!="function"&&(i[s]=t[s]);t.extraData&&baidu.extend(i,t.extraData),i.target=i.srcElement=t.srcElement||(n=t.target)&&(n.nodeType==3?n.parentNode:n),i.relatedTarget=t.relatedTarget||(n=t.fromElement)&&(n===i.target?t.toElement:n),i.keyCode=i.which=t.keyCode||t.which,!i.which&&t.button!==undefined&&(i.which=t.button&1?1:t.button&2?3:t.button&4?2:0);var o=document.documentElement,u=document.body;i.pageX=t.pageX||t.clientX+(o&&o.scrollLeft||u&&u.scrollLeft||0)-(o&&o.clientLeft||u&&u.clientLeft||0),i.pageY=t.pageY||t.clientY+(o&&o.scrollTop||u&&u.scrollTop||0)-(o&&o.clientTop||u&&u.clientTop||0),i.data}typeof e=="string"&&(this.type=e),this.timeStamp=(new Date).getTime()}).extend({stopPropagation:function(){var e=this.originalEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},preventDefault:function(){var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}}),baidu.merge=function(e,t){var n=e.length,r=0;if(typeof t.length=="number")for(var i=t.length;r<i;r++)e[n++]=t[r];else while(t[r]!==undefined)e[n++]=t[r++];return e.length=n,e},baidu.createChain("array",function(e){var t=baidu.array.$Array.prototype,n=Array.prototype,r;baidu.type(e)!="array"&&(e=[]);for(r in t)n[r]||(e[r]=t[r]);return e}),baidu.overwrite(baidu.array.$Array,"concat slice".split(" "),function(e){return function(){return baidu.array(Array.prototype[e].apply(this,arguments))}}),baidu.array.extend({unique:function(e){var t=this.length,n=this.slice(0),r,i;"function"!=typeof e&&(e=function(e,t){return e===t});while(--t>0){i=n[t],r=t;while(r--)if(e(i,n[r])){n.splice(t,1);break}}t=this.length=n.length;for(r=0;r<t;r++)this[r]=n[r];return this}}),baidu.query=baidu.query||function(){function a(t,s){var o,u,a,f,l,c,h,p,d=[];return e.test(t)?(a=RegExp.$2,l=RegExp.$1||"*",baidu.forEach(s.getElementsByTagName(l),function(e){e.id==a&&d.push(e)})):n.test(t)||t=="*"?baidu.merge(d,s.getElementsByTagName(t)):r.test(t)?(h=[],l=RegExp.$1,c=RegExp.$2,o=" "+c+" ",s.getElementsByClassName?h=s.getElementsByClassName(c):baidu.forEach(s.getElementsByTagName("*"),function(e){e.className&&~(" "+e.className+" ").indexOf(o)&&h.push(e)}),l&&(l=l.toUpperCase())?baidu.forEach(h,function(e){e.tagName.toUpperCase()===l&&d.push(e)}):baidu.merge(d,h)):i.test(t)&&(p=t.substr(1).split("."),baidu.forEach(s.getElementsByTagName("*"),function(e){e.className&&(o=" "+e.className+" ",u=!0,baidu.forEach(p,function(e){~o.indexOf(" "+e+" ")||(u=!1)}),u&&d.push(e))})),d}function f(e,n){var r,i=e,s="__tangram__",o=[];return!n&&t.test(i)&&(r=document.getElementById(i.substr(1)))?[r]:(n=n||document,n.querySelectorAll?(n.nodeType==1&&!n.id?(n.id=s,r=n.querySelectorAll("#"+s+" "+i),n.id=""):r=n.querySelectorAll(i),r):~i.indexOf(" ")?(baidu.forEach(a(i.substr(0,i.indexOf(" ")),n),function(e){baidu.merge(o,f(i.substr(i.indexOf(" ")+1),e))}),o):a(i,n))}var e=/^(\w*)#([\w\-\$]+)$/,t=/^#([\w\-\$]+)$/,n=/^\w+$/,r=/^(\w*)\.([\w\-\$]+)$/,i=/^(\.[\w\-\$]+)+$/,s=/\s*,\s*/,o=/\s+/g,u=Array.prototype.slice;return function(e,t,n){if(!e||typeof e!="string")return n||[];var r=[];return e=e.replace(o," "),n&&baidu.merge(r,n)&&(n.length=0),baidu.forEach(e.indexOf(",")>0?e.split(s):[e],function(e){baidu.merge(r,f(e,t))}),baidu.merge(n||[],baidu.array(r).unique())}}(),baidu.createChain("dom",function(e,t){var n,r=new baidu.dom.$DOM(t);if(!e)return r;if(e._type_=="$DOM")return e;if(e.nodeType||e==e.window)return r[0]=e,r.length=1,r;if(e.length&&r.toString.call(e)!="[object String]")return baidu.merge(r,e);if(typeof e=="string")e.charAt(0)=="<"&&e.charAt(e.length-1)==">"&&e.length>2?baidu.dom.createElements&&baidu.merge(r,baidu.dom.createElements(e)):baidu.query(e,t,r);else if(typeof e=="function")return r.ready?r.ready(e):r;return r},function(e){this.length=0,this._type_="$DOM",this.context=e||document}).extend({size:function(){return this.length},splice:function(){},get:function(e){return typeof e=="number"?e<0?this[this.length+e]:this[e]:Array.prototype.slice.call(this,0)},toArray:function(){return this.get()}}),baidu.dom.extend({each:function(e){baidu.check("function","http://passport.baidu.com/passApi/js/lib/baidu.dom.each");var t,n,r=this.length;for(t=0;t<r;t++){n=e.call(this[t],t,this[t],this);if(n===!1||n=="break")break}return this}}),baidu._util_=baidu._util_||{},baidu._util_.eventBase={},void function(e,t){t=e.listener={},window.addEventListener?t.add=function(e,t,n){e.addEventListener(t,n,!1)}:window.attachEvent&&(t.add=function(e,t,n){e.attachEvent("on"+t,n)})}(baidu._util_.eventBase),void function(e,t){var n=baidu.id,r=e.queue={},i=r.attaCache=baidu.global("eventQueueCache"),s=e.listener;r.get=function(e,t,r,s){var o=n(e),u;return i[o]||(i[o]={}),u=i[o],t?(u[t]||this.setupCall(e,t,r,u[t]=[],s),u[t]):u},r.add=function(e,t,n,r,i){this.get(e,t,n,i).push(r)},r.remove=function(e,t,n){var r,i;if(t){var r=this.get(e,t);if(n)for(var s=r.length-1;s>=0;s--)r[s].orig==n&&r.splice(s,1);else r.length=0}else{var i=this.get(e);for(var s in i)i[s].length=0}},r.call=function(e,t,n,r){if(n){if(!n.length)return;var i=[].slice.call(arguments,1),s=[];i.unshift(r=baidu.event(r||t)),r.type=t,r.currentTarget||(r.currentTarget=e);for(var o=0,u,a=n.length;o<a;o++)if(u=n[o])u.pkg.apply(e,i),u.one&&s.unshift(o);if(s.length)for(var o=0,a=s.length;o<a;o++)this.remove(e,t,n[o].fn)}else n=this.get(e,t),this.call(e,t,n,r)},r.setupCall=function(){var e=function(e,t,n,i){s.add(e,n,function(n){r.call(e,t,i,n)})};return function(t,n,r,i,s){if(!s)e(t,n,r,i);else{t=baidu.dom(s,t);for(var o=0,u=t.length;o<u;o++)e(t[o],n,r,i)}}}()}(baidu._util_.eventBase,baidu.event),void function(e,t){var n=e.queue,r=e.core={},i=t.special={},s=[].push,o=function(e,t){for(var n=0,r=t.length;n<r;n++)if(t.get(n).contains(e))return t[n]};r.build=function(e,t,n,r,u){var a;return r&&(a=baidu.dom(r,e)),t in i&&i[t].pack&&(n=i[t].pack(n)),function(t){var i=baidu.dom(t.target),f=[t],l;u&&!t.data&&(t.data=u),t.triggerData&&s.apply(f,t.triggerData);if(!a)return t.result=n.apply(e,f);for(var c=0;c<2;c++){if(l=o(t.target,a))return t.result=n.apply(l,f);a=baidu.dom(r,e)}}},r.add=function(e,t,r,s,o,u){var a=this.build(e,t,r,s,o),f,l;l=t,t in i&&(f=i[t].attachElements,l=i[t].bindType||t),n.add(e,t,l,{type:t,pkg:a,orig:r,one:u},f)},r.remove=function(e,t,r,i){n.remove(e,t,r,i)}}(baidu._util_.eventBase,baidu.event),/** * @description 对 TangramDom 里的所有元素进行筛选匹配，返回匹配上的DOM元素数组 * @name baidu.dom.match * @grammar baidu.dom.match(selector) * @grammar baidu.dom.match(tangramDom) * @grammar baidu.dom.match(HTMLElement) * @grammar baidu.dom.match(fn(index)) * * @param   {ArrayLike}     array       被筛选的集合 * @param   {String}        selector    CSS选择器 * @return  {Array}         Array */baidu.dom.match = function(){    var reg = /^[\w\#\-\$\.\*]+$/,        // 使用这个临时的 div 作为CSS选择器过滤        div = document.createElement("DIV");        div.id = "__tangram__";    return function( array, selector, context ){        var root, results = baidu.array();        switch ( baidu.type(selector) ) {            // 取两个 TangramDom 的交集            case "$DOM" :                for (var x=array.length-1; x>-1; x--) {                    for (var y=selector.length-1; y>-1; y--) {                        array[x] === selector[y] && results.push(array[x]);                    }                }                break;            // 使用过滤器函数，函数返回值是 Array            case "function" :                baidu.forEach(array, function(item, index){                    selector.call(item, index) && results.push(item);                });                break;                        case "HTMLElement" :                baidu.forEach(array, function(item){                    item == selector && results.push(item);                });                break;            // CSS 选择器            case "string" :                var da = baidu.query(selector, context || document);                baidu.forEach(array, function(item){                    if ( root = getRoot(item) ) {                        var t = root.nodeType == 1                            // in DocumentFragment                            ? baidu.query(selector, root)                            : da;                        for (var i=0, n=t.length; i<n; i++) {                            if (t[i] === item) {                                results.push(item);                                break;                            }                        }                    }                });                results = results.unique();                break;            default :                results = baidu.array( array ).unique();                break;        }        return results;    };    function getRoot(dom) {        var result = [], i;        while(dom = dom.parentNode) {            dom.nodeType && result.push(dom);        }        for (var i=result.length - 1; i>-1; i--) {            // 1. in DocumentFragment            // 9. Document            if (result[i].nodeType == 1 || result[i].nodeType == 9) {                return result[i];            }        }        return null;    }}();baidu._util_.access=function(e,b,d,f,c){if(e.size()<=0){return e}switch(baidu.type(b)){case"string":if(d===undefined){return f.call(e,e[0],b)}else{e.each(function(g,h){f.call(e,h,b,(baidu.type(d)==="function"?d.call(h,g,f.call(e,h,b)):d),c)})}break;case"object":for(var a in b){baidu._util_.access(e,a,b[a],f,d)}break}return e};baidu._util_.nodeName=function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()};baidu._util_.propFixer={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",classname:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable",rboolean:/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i};!document.createElement("form").enctype&&(baidu._util_.propFixer.enctype="encoding");baidu._util_.isXML=function(b){var a=(b?b.ownerDocument||b:0).documentElement;return a?a.nodeName!=="HTML":false};baidu._util_.prop=function(){var e=/^(?:button|input|object|select|textarea)$/i,d=/^a(?:rea|)$/i,a=document.createElement("select"),c=a.appendChild(document.createElement("option")),b={tabIndex:{get:function(g){var f=g.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):e.test(g.nodeName)||d.test(g.nodeName)&&g.href?0:undefined}}};!c.selected&&(b.selected={get:function(g){var f=g.parentNode;if(f){f.selectedIndex;f.parentNode&&f.parentNode.selectedIndex}return null}});a=c=null;return function(j,i,k){var g=j.nodeType,f,h;if(!j||~"238".indexOf(g)){return}if(g!==1||!baidu._util_.isXML(j)){i=baidu._util_.propFixer[i]||i;f=b[i]||{}}if(k!==undefined){if(f.set&&(h=f.set(j,i,k))!==undefined){return h}else{return(j[i]=k)}}else{if(f.get&&(h=f.get(j,i))!==null){return h}else{return j[i]}}}}();baidu._util_.support=baidu._util_.support||function(){var g=document.createElement("div"),f,c,d,b,e;g.setAttribute("className","t");g.innerHTML=' <link/><table></table><a href="http://passport.baidu.com/a">a</a><input type="checkbox"/>';c=g.getElementsByTagName("A")[0];c.style.cssText="top:1px;float:left;opacity:.5";b=document.createElement("select");e=b.appendChild(document.createElement("option"));d=g.getElementsByTagName("input")[0];d.checked=true;f={dom:{div:g,a:c,select:b,opt:e,input:d}};return f}();baidu._util_.support.getSetAttribute=baidu._util_.support.dom.div.className!=="t";baidu._util_.nodeHook=function(){if(baidu._util_.support.getSetAttribute){return}var a={};a.name=a.id=a.coords=true;return{get:function(d,c){var b=d.getAttributeNode(c);return b&&(a[c]?b.value!=="":b.specified)?b.value:undefined},set:function(d,c,e){var b=d.getAttributeNode(c);if(!b){b=document.createAttribute(c);d.setAttributeNode(b)}return(b.value=e+"")}}}();baidu._util_.removeAttr=function(){var b=baidu._util_.propFixer,a=/\s+/,c=baidu._util_.support.getSetAttribute;return function(j,g){if(!g||j.nodeType!==1){return}var k=g.split(a),h,d;for(var f=0,e;e=k[f];f++){h=b[e]||e;d=b.rboolean.test(e);!d&&baidu._util_.attr(j,e,"");j.removeAttribute(c?e:h);d&&(h in j)&&(j[h]=false)}}}();baidu._util_.contains=document.compareDocumentPosition?function(a,b){return !!(a.compareDocumentPosition(b)&16)}:function(a,b){if(a===b){return false}if(a.contains&&b.contains){return a.contains(b)}else{while(b=b.parentNode){if(b===a){return true}}return false}};baidu._util_.attr=function(){var g=baidu._util_,i=/^(?:button|input)$/i,j=g.support.dom,d=j.input.value==="t",a=j.a.getAttribute("href")==="/a",b=/top/.test(j.a.getAttribute("style")),f=g.nodeHook,e={className:"class"},c={get:function(m,k){var n=g.prop(m,k),l;return n===true||typeof n!=="boolean"&&(l=m.getAttributeNode(k))&&l.nodeValue!==false?k.toLowerCase():undefined},set:function(m,k,n){if(n===false){g.removeAttr(m,k)}else{var l=g.propFixer[k]||k;(l in m)&&(m[l]=true);m.setAttribute(k,k.toLowerCase())}return k}},h={type:{set:function(m,l,n){if(i.test(m.nodeName)&&m.parentNode){return n}if(!d&&n==="radio"&&g.nodeName(m,"input")){var k=m.value;m.setAttribute("type",n);k&&(m.value=k);return n}}},value:{get:function(l,k){if(f&&g.nodeName(l,"button")){return f.get(l,k)}return k in l?l.value:null},set:function(l,k,m){if(f&&g.nodeName(l,"button")){return f.set(l,k,m)}l.value=m}}};if(!g.support.getSetAttribute){baidu.forEach(["width","height"],function(k){h[k]={set:function(m,l,n){if(n===""){m.setAttribute(l,"auto");return n}}}});h.contenteditable={get:f.get,set:function(l,k,m){m===""&&(m=false);f.set(l,k,m)}}}if(!a){baidu.forEach(["href","src","width","height"],function(k){h[k]={get:function(n,m){var l=n.getAttribute(m,2);return l===null?undefined:l}}})}if(!b){h.style={get:function(k){return k.style.cssText.toLowerCase()||undefined},set:function(l,k,m){return(l.style.cssText=m+"")}}}return function(q,o,r,p){var l=q.nodeType,n=l!==1||!g.isXML(q),k,m;if(!q||~"238".indexOf(l)){return}if(p&&baidu.dom.fn[o]){return baidu.dom(q)[o](r)}if(n){o=e[o]||o.toLowerCase();k=h[o]||(g.propFixer.rboolean.test(o)?c:f)}if(r!==undefined){if(r===null){g.removeAttr(q,o);return}else{if(n&&k&&k.set&&(m=k.set(q,o,r))!==undefined){return m}else{q.setAttribute(o,r+"");return r}}}else{if(n&&k&&k.get&&(m=k.get(q,o))!==null){return m}else{m=q.getAttribute(o);return m===null?undefined:m}}}}();baidu.dom.extend({attr:function(a,b){return baidu._util_.access(this,a,b,function(e,c,f,d){return baidu._util_.attr(e,c,f,d)})}});baidu.dom.extend({removeAttr:function(a){this.each(function(b,c){baidu._util_.removeAttr(c,a)});return this}});baidu.dom.extend({prop:function(b,a){return baidu._util_.access(this,b,a,function(d,c,e){return baidu._util_.prop(d,c,e)})}});baidu.dom.extend({removeProp:function(a){a=baidu._util_.propFixer[a]||a;this.each(function(b,c){try{c[a]=undefined;delete c[a]}catch(d){}});return this}});baidu.global=baidu.global||(function(){var b=baidu._global_=window[baidu.guid],a=b._=b._||{};return function(d,e,c){if(typeof e!="undefined"){c||(e=typeof a[d]=="undefined"?e:a[d]);a[d]=e}else{if(d&&typeof a[d]=="undefined"){a[d]={}}}return a[d]}})();baidu.browser=baidu.browser||function(){var b=navigator.userAgent;var a={isStrict:document.compatMode=="CSS1Compat",isGecko:/gecko/i.test(b)&&!/like gecko/i.test(b),isWebkit:/webkit/i.test(b)};try{/(\d+\.\d+)/.test(external.max_version)&&(a.maxthon=+RegExp["\x241"])}catch(c){}switch(true){case /msie (\d+\.\d+)/i.test(b):a.ie=document.documentMode||+RegExp["\x241"];break;case /chrome\/(\d+\.\d+)/i.test(b):a.chrome=+RegExp["\x241"];break;case /(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(b)&&!/chrome/i.test(b):a.safari=+(RegExp["\x241"]||RegExp["\x242"]);break;case /firefox\/(\d+\.\d+)/i.test(b):a.firefox=+RegExp["\x241"];break;case /opera(?:\/| )(\d+(?:\.\d+)?)(.+?(version\/(\d+(?:\.\d+)?)))?/i.test(b):a.opera=+(RegExp["\x244"]||RegExp["\x241"]);break}baidu.extend(baidu,a);return a}();baidu.id=function(){var b=baidu.global("_maps_id"),a=baidu.key;window[baidu.guid]._counter=window[baidu.guid]._counter||1;return function(d,h){var g,f=baidu.isString(d),c=baidu.isObject(d),i=c?d[a]:f?d:"";if(baidu.isString(h)){switch(h){case"get":return c?i:b[i];case"remove":case"delete":if(g=b[i]){if(baidu.isElement(g)&&baidu.browser.ie<8){g.removeAttribute(a)}else{delete g[a]}delete b[i]}return i;default:if(f){(g=b[i])&&delete b[i];g&&(b[g[a]=h]=g)}else{if(c){i&&delete b[i];b[d[a]=h]=d}}return h}}if(c){!i&&(b[d[a]=i=baidu.id()]=d);return i}else{if(f){return b[d]}}return"TANGRAM_"+baidu._global_._counter++}}();baidu.dom.extend({    each : function (iterator) {        baidu.check("function", "http://passport.baidu.com/passApi/js/lib/baidu.dom.each");        var i, result,            n = this.length;        for (i=0; i<n; i++) {            result = iterator.call( this[i], i, this[i], this );            if ( result === false || result == "break" ) { break;}        }        return this;    },    on:function(e,t,n,r,i){var s=baidu._util_.eventBase.core;return typeof t=="object"&&t?(r=n,n=t,t=null):typeof n=="function"?(r=n,n=null):typeof t=="function"&&(r=t,t=n=null),typeof e=="string"?(e=e.split(/[ ,]+/),this.each(function(){baidu.forEach(e,function(e){s.add(this,e,r,t,n,i)},this)})):typeof e=="object"&&(r&&(r=null),baidu.forEach(e,function(e,r){this.on(r,t,n,e,i)},this)),this},    off: function( events, selector, fn ){        var eb = baidu._util_.eventBase.core, me = this;        if( !events )            baidu.forEach( this, function( item ){                eb.remove( item );            } );        else if( typeof events == "string" ){            if( typeof selector == "function" )                fn = selector,                selector = null;            events = events.split(/[ ,]/);            baidu.forEach( this, function( item ){                baidu.forEach( events, function( event ){                    eb.remove( item, event, fn, selector );                });            });        }else if( typeof events == "object" )            baidu.forEach( events, function(fn, event){                me.off( event, selector, fn );            } );        return this;    },    children : function (selector) {        var result, a = [];        this.each(function(index){            baidu.forEach(this.children || this.childNodes, function(dom){                dom.nodeType == 1 && a.push(dom);            });        });        return baidu.dom( baidu.dom.match(a, selector) );    },    attr: function(key, value){        return baidu._util_.access(this, key, value, function(ele, key, val, pass){            return baidu._util_.attr(ele, key, val, pass);        });    }});baidu.event.un = baidu.un = function(element, evtName, handler){    element = baidu.dom.g(element);    baidu.dom(element).off(evtName.replace(/^\s*on/, ''), handler);    return element; },baidu.dom.g=function(e){return e?"string"==typeof e||e instanceof String?document.getElementById(e):!e.nodeName||e.nodeType!=1&&e.nodeType!=9?null:e:null},baidu.event.on=baidu.on=function(e,t,n){return typeof e=="string"&&(e=baidu.dom.g(e)),baidu.dom(e).on(t.replace(/^\s*on/,""),n),e},baidu.createChain("fn",function(e){return new baidu.fn.$Fn(~"function|string".indexOf(baidu.type(e))?e:function(){})},function(e){this.fn=e}),baidu.fn.extend({bind:function(e){var t=this.fn,n=arguments.length>1?Array.prototype.slice.call(arguments,1):null;return function(){var r=baidu.type(t)==="string"?e[t]:t,i=n?n.concat(Array.prototype.slice.call(arguments,0)):arguments;return r.apply(e||r,i)}}}),baidu.dom.extend({delegate:function(e,t,n,r){return typeof n=="function"&&(r=n,n=null),this.on(t,e,n,r)}}),baidu.event.preventDefault=function(e){return(new baidu.event(e)).preventDefault()},baidu.createChain("string",function(e){var t=baidu.type(e),n=new String(~"string|number".indexOf(t)?e:t),r=String.prototype;return baidu.forEach(baidu.string.$String.prototype,function(e,t){r[t]||(n[t]=e)}),n}),baidu.string.extend({trim:function(){var e=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return function(){return this.replace(e,"")}}()}),baidu.dom.extend({addClass:function(e){if(!arguments.length)return this;var t=typeof e,n=" ";if(t=="string"){e=baidu.string.trim(e);var r=e.split(" ");baidu.forEach(this,function(e,t){var i=e.className;for(var s=0;s<r.length;s++)~(n+i+n).indexOf(n+r[s]+n)||(i+=" "+r[s]);e.className=i.replace(/^\s+/g,"")})}else t=="function"&&baidu.forEach(this,function(t,n){baidu.dom(t).addClass(e.call(t,n,t.className))});return this}}),baidu.dom.extend({removeClass:function(e){var t=typeof e,n=" ";arguments.length||baidu.forEach(this,function(e){e.className=""});if(t=="string"){e=baidu.string.trim(e);var r=e.split(" ");baidu.forEach(this,function(e){var t=e.className;for(var i=0;i<r.length;i++)while(~(n+t+n).indexOf(n+r[i]+n))t=(n+t+n).replace(n+r[i]+n,n);e.className=baidu.string.trim(t)})}else t=="function"&&baidu.forEach(this,function(t,n,r){baidu.dom(t).removeClass(e.call(t,n,t.className))});return this}}),baidu.dom.createElements=function(){function r(e,t){var n=e.getElementsByTagName("SCRIPT"),r,i,s;for(r=n.length-1;r>=0;r--)s=n[r],i=t.createElement("SCRIPT"http://passport.baidu.com/passApi/js/lib/),s.id&&(i.id=s.id),s.src&&(i.src=s.src),s.type&&(i.type=s.type),i[s.text?"text":"textContent"]=s.text||s.textContent,s.parentNode.replaceChild(i,s)}var e=/<(\w+)/i,t=/<|&#?\w+;/,n={area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],option:[1,"<select multiple='multiple'>","</select>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],_default:[0,"",""]};return n.optgroup=n.option,n.tbody=n.tfoot=n.colgroup=n.caption=n.thead,n.th=n.td,function(i,s){baidu.isNumber(i)&&(i=i.toString()),s=s||document;var o,u,a,f=i,l=f.length,c=s.createElement("div"),h=s.createDocumentFragment(),p=[];if(baidu.isString(f))if(!t.test(f))p.push(s.createTextNode(f));else{o=n[f.match(e)[1].toLowerCase()]||n._default,c.innerHTML="<i>mz</i>"+o[1]+f+o[2],c.removeChild(c.firstChild),r(c,s),u=o[0],a=c;while(u--)a=a.firstChild;baidu.merge(p,a.childNodes),baidu.forEach(p,function(e){h.appendChild(e)}),c=a=null}return c=null,p}}()/** * @description 操作flash对象的方法，包括创建flash对象、获取flash对象以及判断flash插件的版本号 * @name baidu.swf * @namespace */baidu.swf = baidu.swf || {};/* * Tangram * Copyright 2009 Baidu Inc. All rights reserved. *  * path: baidu/swf/version.js * author: erik * version: 1.1.0 * date: 2009/11/17 *//** * @description 浏览器支持的flash插件版本 * @function * @name baidu.swf.version * @grammar baidu.swf.version * @return {String} 版本号 */baidu.swf.version = (function () {    var n = navigator;    if (n.plugins && n.mimeTypes.length) {        var plugin = n.plugins["Shockwave Flash"];        if (plugin && plugin.description) {            return plugin.description                    .replace(/([a-zA-Z]|\s)+/, "")                    .replace(/(\s)+r/, ".") + ".0";        }    } else if (window.ActiveXObject && !window.opera) {        for (var i = 12; i >= 2; i--) {            try {                var c = new ActiveXObject('ShockwaveFlash.ShockwaveFlash.' + i);                if (c) {                    var version = c.GetVariable("$version");                    return version.replace(/WIN/g,'').replace(/,/g,'.');                }            } catch(e) {}        }    }})();/* * Tangram * Copyright 2009 Baidu Inc. All rights reserved. *  * path: baidu/swf/createHTML.js * author: erik * version: 1.1.0 * date: 2009/11/17 *//** * @description 创建flash对象的html字符串 * @name baidu.swf.createHTML * @function * @grammar baidu.swf.createHTML(options) *  * @param {Object}  options                     创建flash的选项参数 * @param {string}  options.id                  要创建的flash的标识 * @param {string}  options.url                 flash文件的url * @param {String}  options.errorMessage        未安装flash player或flash player版本号过低时的提示 * @param {string}  options.ver                 最低需要的flash player版本号 * @param {string}  options.width               flash的宽度 * @param {string}  options.height              flash的高度 * @param {string}  options.align               flash的对齐方式，允许值：middle/left/right/top/bottom * @param {string}  options.base                设置用于解析swf文件中的所有相对路径语句的基本目录或URL * @param {string}  options.bgcolor             swf文件的背景色 * @param {string}  options.salign              设置缩放的swf文件在由width和height设置定义的区域内的位置。允许值：l/r/t/b/tl/tr/bl/br * @param {boolean} options.menu                是否显示右键菜单，允许值：true/false * @param {boolean} options.loop                播放到最后一帧时是否重新播放，允许值： true/false * @param {boolean} options.play                flash是否在浏览器加载时就开始播放。允许值：true/false * @param {string}  options.quality             设置flash播放的画质，允许值：low/medium/high/autolow/autohigh/best * @param {string}  options.scale               设置flash内容如何缩放来适应设置的宽高。允许值：showall/noborder/exactfit * @param {string}  options.wmode               设置flash的显示模式。允许值：window/opaque/transparent * @param {string}  options.allowscriptaccess   设置flash与页面的通信权限。允许值：always/never/sameDomain * @param {string}  options.allownetworking     设置swf文件中允许使用的网络API。允许值：all/internal/none * @param {boolean} options.allowfullscreen     是否允许flash全屏。允许值：true/false * @param {boolean} options.seamlesstabbing     允许设置执行无缝跳格，从而使用户能跳出flash应用程序。该参数只能在安装Flash7及更高版本的Windows中使用。允许值：true/false * @param {boolean} options.devicefont          设置静态文本对象是否以设备字体呈现。允许值：true/false * @param {boolean} options.swliveconnect       第一次加载flash时浏览器是否应启动Java。允许值：true/false * @param {Object}  options.vars                要传递给flash的参数，支持JSON或string类型。 *  * @see baidu.swf.create * @meta standard * @return {string} flash对象的html字符串 */baidu.swf.createHTML = function (options) {    options = options || {};    var version = baidu.swf.version,         needVersion = options['ver'] || '6.0.0',         vUnit1, vUnit2, i, k, len, item, tmpOpt = {},        encodeHTML = baidu.string.encodeHTML;        // 复制options，避免修改原对象    for (k in options) {        tmpOpt[k] = options[k];    }    options = tmpOpt;        // 浏览器支持的flash插件版本判断    if (version) {        version = version.split('.');        needVersion = needVersion.split('.');        for (i = 0; i < 3; i++) {            vUnit1 = parseInt(version[i], 10);            vUnit2 = parseInt(needVersion[i], 10);            if (vUnit2 < vUnit1) {                break;            } else if (vUnit2 > vUnit1) {                return ''; // 需要更高的版本号            }        }    } else {        return ''; // 未安装flash插件    }        var vars = options['vars'],        objProperties = ['classid', 'codebase', 'id', 'width', 'height', 'align'];        // 初始化object标签需要的classid、codebase属性值    options['align'] = options['align'] || 'middle';    options['classid'] = 'clsid:d27cdb6e-ae6d-11cf-96b8-444553540000';    options['codebase'] = 'http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0';    options['movie'] = options['url'] || '';    delete options['vars'];    delete options['url'];        // 初始化flashvars参数的值    if ('string' == typeof vars) {        options['flashvars'] = vars;    } else {        var fvars = [];        for (k in vars) {            item = vars[k];            fvars.push(k + "=" + encodeURIComponent(item));        }        options['flashvars'] = fvars.join('&');    }        // 构建IE下支持的object字符串，包括属性和参数列表    var str = ['<object '];    for (i = 0, len = objProperties.length; i < len; i++) {        item = objProperties[i];        str.push(' ', item, '="', encodeHTML(options[item]), '"');    }    str.push('>');    var params = {        'wmode'             : 1,        'scale'             : 1,        'quality'           : 1,        'play'              : 1,        'loop'              : 1,        'menu'              : 1,        'salign'            : 1,        'bgcolor'           : 1,        'base'              : 1,        'allowscriptaccess' : 1,        'allownetworking'   : 1,        'allowfullscreen'   : 1,        'seamlesstabbing'   : 1,        'devicefont'        : 1,        'swliveconnect'     : 1,        'flashvars'         : 1,        'movie'             : 1    };        for (k in options) {        item = options[k];        k = k.toLowerCase();        if (params[k] && (item || item === false || item === 0)) {            str.push('<param name="' + k + '" value="' + encodeHTML(item) + '" />');        }    }        // 使用embed时，flash地址的属性名是src，并且要指定embed的type和pluginspage属性    options['src']  = options['movie'];    options['name'] = options['id'];    delete options['id'];    delete options['movie'];    delete options['classid'];    delete options['codebase'];    options['type'] = 'application/x-shockwave-flash';    options['pluginspage'] = 'http://www.macromedia.com/go/getflashplayer';            // 构建embed标签的字符串    str.push('<embed');    // 在firefox、opera、safari下，salign属性必须在scale属性之后，否则会失效    // 经过讨论，决定采用BT方法，把scale属性的值先保存下来，最后输出    var salign;    for (k in options) {        item = options[k];        if (item || item === false || item === 0) {            if ((new RegExp("^salign\x24", "i")).test(k)) {                salign = item;                continue;            }                        str.push(' ', k, '="', encodeHTML(item), '"');        }    }        if (salign) {        str.push(' salign="', encodeHTML(salign), '"');    }    str.push('></embed></object>');        return str.join('');};/* * Tangram * Copyright 2009 Baidu Inc. All rights reserved. *  * path: baidu/swf/create.js * author: erik * version: 1.1.0 * date: 2009/11/17 *//** * @description 在页面中创建一个flash对象 * @name baidu.swf.create * @function * @grammar baidu.swf.create(options[, container]) *  * @param {Object}  options                     创建flash的选项参数 * @param {string}  options.id                  要创建的flash的标识 * @param {string}  options.url                 flash文件的url * @param {String}  options.errorMessage        未安装flash player或flash player版本号过低时的提示 * @param {string}  options.ver                 最低需要的flash player版本号 * @param {string}  options.width               flash的宽度 * @param {string}  options.height              flash的高度 * @param {string}  options.align               flash的对齐方式，允许值：middle/left/right/top/bottom * @param {string}  options.base                设置用于解析swf文件中的所有相对路径语句的基本目录或URL * @param {string}  options.bgcolor             swf文件的背景色 * @param {string}  options.salign              设置缩放的swf文件在由width和height设置定义的区域内的位置。允许值：l/r/t/b/tl/tr/bl/br * @param {boolean} options.menu                是否显示右键菜单，允许值：true/false * @param {boolean} options.loop                播放到最后一帧时是否重新播放，允许值： true/false * @param {boolean} options.play                flash是否在浏览器加载时就开始播放。允许值：true/false * @param {string}  options.quality             设置flash播放的画质，允许值：low/medium/high/autolow/autohigh/best * @param {string}  options.scale               设置flash内容如何缩放来适应设置的宽高。允许值：showall/noborder/exactfit * @param {string}  options.wmode               设置flash的显示模式。允许值：window/opaque/transparent * @param {string}  options.allowscriptaccess   设置flash与页面的通信权限。允许值：always/never/sameDomain * @param {string}  options.allownetworking     设置swf文件中允许使用的网络API。允许值：all/internal/none * @param {boolean} options.allowfullscreen     是否允许flash全屏。允许值：true/false * @param {boolean} options.seamlesstabbing     允许设置执行无缝跳格，从而使用户能跳出flash应用程序。该参数只能在安装Flash7及更高版本的Windows中使用。允许值：true/false * @param {boolean} options.devicefont          设置静态文本对象是否以设备字体呈现。允许值：true/false * @param {boolean} options.swliveconnect       第一次加载flash时浏览器是否应启动Java。允许值：true/false * @param {Object}  options.vars                要传递给flash的参数，支持JSON或string类型。 *  * @param {HTMLElement|string} [container]      flash对象的父容器元素，不传递该参数时在当前代码位置创建flash对象。 * @meta standard * @see baidu.swf.createHTML,baidu.swf.getMovie */baidu.swf.create = function (options, target) {    options = options || {};    var html = baidu.swf.createHTML(options)                || options['errorMessage']                || '';                    if (target && 'string' == typeof target) {        target = document.getElementById(target);    }    baidu.dom.insertHTML( target || document.body ,'beforeEnd',html );};