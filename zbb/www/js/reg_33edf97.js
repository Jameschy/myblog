var passport=window.passport||{};passport._define("reg-2.js"/*tpa=http://passport.baidu.com/passApi/js/reg.js*/,function(){function e(e){return u(t(l(e),e.length*m))}function t(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,c=-271733879,l=-1732584194,u=271733878,d=0;d<e.length;d+=16){var p=n,h=c,g=l,f=u;n=i(n,c,l,u,e[d+0],7,-680876936),u=i(u,n,c,l,e[d+1],12,-389564586),l=i(l,u,n,c,e[d+2],17,606105819),c=i(c,l,u,n,e[d+3],22,-1044525330),n=i(n,c,l,u,e[d+4],7,-176418897),u=i(u,n,c,l,e[d+5],12,1200080426),l=i(l,u,n,c,e[d+6],17,-1473231341),c=i(c,l,u,n,e[d+7],22,-45705983),n=i(n,c,l,u,e[d+8],7,1770035416),u=i(u,n,c,l,e[d+9],12,-1958414417),l=i(l,u,n,c,e[d+10],17,-42063),c=i(c,l,u,n,e[d+11],22,-1990404162),n=i(n,c,l,u,e[d+12],7,1804603682),u=i(u,n,c,l,e[d+13],12,-40341101),l=i(l,u,n,c,e[d+14],17,-1502002290),c=i(c,l,u,n,e[d+15],22,1236535329),n=r(n,c,l,u,e[d+1],5,-165796510),u=r(u,n,c,l,e[d+6],9,-1069501632),l=r(l,u,n,c,e[d+11],14,643717713),c=r(c,l,u,n,e[d+0],20,-373897302),n=r(n,c,l,u,e[d+5],5,-701558691),u=r(u,n,c,l,e[d+10],9,38016083),l=r(l,u,n,c,e[d+15],14,-660478335),c=r(c,l,u,n,e[d+4],20,-405537848),n=r(n,c,l,u,e[d+9],5,568446438),u=r(u,n,c,l,e[d+14],9,-1019803690),l=r(l,u,n,c,e[d+3],14,-187363961),c=r(c,l,u,n,e[d+8],20,1163531501),n=r(n,c,l,u,e[d+13],5,-1444681467),u=r(u,n,c,l,e[d+2],9,-51403784),l=r(l,u,n,c,e[d+7],14,1735328473),c=r(c,l,u,n,e[d+12],20,-1926607734),n=s(n,c,l,u,e[d+5],4,-378558),u=s(u,n,c,l,e[d+8],11,-2022574463),l=s(l,u,n,c,e[d+11],16,1839030562),c=s(c,l,u,n,e[d+14],23,-35309556),n=s(n,c,l,u,e[d+1],4,-1530992060),u=s(u,n,c,l,e[d+4],11,1272893353),l=s(l,u,n,c,e[d+7],16,-155497632),c=s(c,l,u,n,e[d+10],23,-1094730640),n=s(n,c,l,u,e[d+13],4,681279174),u=s(u,n,c,l,e[d+0],11,-358537222),l=s(l,u,n,c,e[d+3],16,-722521979),c=s(c,l,u,n,e[d+6],23,76029189),n=s(n,c,l,u,e[d+9],4,-640364487),u=s(u,n,c,l,e[d+12],11,-421815835),l=s(l,u,n,c,e[d+15],16,530742520),c=s(c,l,u,n,e[d+2],23,-995338651),n=o(n,c,l,u,e[d+0],6,-198630844),u=o(u,n,c,l,e[d+7],10,1126891415),l=o(l,u,n,c,e[d+14],15,-1416354905),c=o(c,l,u,n,e[d+5],21,-57434055),n=o(n,c,l,u,e[d+12],6,1700485571),u=o(u,n,c,l,e[d+3],10,-1894986606),l=o(l,u,n,c,e[d+10],15,-1051523),c=o(c,l,u,n,e[d+1],21,-2054922799),n=o(n,c,l,u,e[d+8],6,1873313359),u=o(u,n,c,l,e[d+15],10,-30611744),l=o(l,u,n,c,e[d+6],15,-1560198380),c=o(c,l,u,n,e[d+13],21,1309151649),n=o(n,c,l,u,e[d+4],6,-145523070),u=o(u,n,c,l,e[d+11],10,-1120210379),l=o(l,u,n,c,e[d+2],15,718787259),c=o(c,l,u,n,e[d+9],21,-343485551),n=a(n,p),c=a(c,h),l=a(l,g),u=a(u,f)}return Array(n,c,l,u)}function n(e,t,n,i,r,s){return a(c(a(a(t,e),a(i,s)),r),n)}function i(e,t,i,r,s,o,a){return n(t&i|~t&r,e,t,s,o,a)}function r(e,t,i,r,s,o,a){return n(t&r|i&~r,e,t,s,o,a)}function s(e,t,i,r,s,o,a){return n(t^i^r,e,t,s,o,a)}function o(e,t,i,r,s,o,a){return n(i^(t|~r),e,t,s,o,a)}function a(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function c(e,t){return e<<t|e>>>32-t}function l(e){for(var t=Array(),n=(1<<m)-1,i=0;i<e.length*m;i+=m)t[i>>5]|=(e.charCodeAt(i/m)&n)<<i%32;return t}function u(e){for(var t=f?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return n}var d=d||window.passport||{},p=d.tangramInst||p||window.baidu;!function(e){e.apiDomain={staticDomain:window.location?"http:"==window.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com":"http:"==document.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com"}}(d);var h=null;if("function"!=typeof h)var h=function(){};h._baiduInstName=h._baiduInstName||"bdInst_"+(new Date).getTime();var g=g||p.baiduInstance||window.baiduInstance;window[h._baiduInstName]=window[h._baiduInstName]||g,h.resourcePath="",h.skinName="default",h.version="1.0.0.0",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),p.form=p.form||{},p.url=p.url||{},p.url.escapeSymbol=p.url.escapeSymbol||function(e){return String(e).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(e){return"%"+(256+e.charCodeAt()).toString(16).substring(1).toUpperCase()})},p.form.json=p.form.json||function(e,t){function n(e,t){var n=h[e];n?(n.push||(h[e]=[n]),h[e].push(t)):h[e]=t}for(var i,r,s,o,a,c,l,u,d=e.elements,t=t||function(e){return e},h={},g=0,f=d.length;f>g;g++)if(i=d[g],s=i.name,!i.disabled&&s)switch(r=i.type,o=p.url.escapeSymbol(i.value),r){case"radio":case"checkbox":i.checked&&n(s,t(o,s));break;case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":n(s,t(o,s));break;case"select-multiple":for(a=i.options,l=a.length,c=0;l>c;c++)u=a[c],u.selected&&n(s,t(u.value,s))}return h},h.Base=function(){p.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},p.lang.inherits(h.Base,p.lang.Class,"http://passport.baidu.com/passApi/js/magic.Base").extend({getElement:function(e){return document.getElementById(this.$getId(e))},getElements:function(){var e={},t=this._ids;for(var n in t)e[n]=this.getElement(n);return e},$getId:function(e){return e=p.lang.isString(e)?e:"",this._ids[e]||(this._ids[e]=this._eid+e)},$mappingDom:function(e,t){return p.lang.isString(t)?this._ids[e]=t:t&&t.nodeType&&(t.id?this._ids[e]=t.id:t.id=this.$getId(e)),this},$hide:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="none",e.style.visibility="hidden"),this},$show:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="block",e.style.visibility="visible",e.style.opacity="1"),this},$dispose:function(){this.fire("ondispose")&&p.lang.Class.prototype.dispose.call(this)}}),h.control=h.control||{},function(){function e(e,t){var i,r=e.getAttribute(t),s=!1;if(r&&(i=r.match(n[0]))){s={};for(var o,a=0;a<i.length;a++)o=i[a].match(n[1]),!isNaN(o[2])&&(o[2]=+o[2]),n[2].test(o[2])&&(o[2]=o[2].replace(n[3],"$2")),n[4].test(o[2])&&(o[2]=n[5].test(o[2])),s[o[1]]=o[2]}return s}function t(t,n){var i=e(t,"tang-event");if(i)for(var r in i){var s=i[r].substr(1);s.indexOf("(")<0&&(s+="()"),p.dom(t).on(r,new Function(h._baiduInstName+"('"+n+"') && "+h._baiduInstName+"('"+n+"')"+s))}}h.setup=h.setup||function(n,i,r){var s=e(n,"tang-param")||{};for(var o in r)s[o]=r[o];var a=new i(s);a.$mappingDom("",n),t(n,a.guid);for(var c=n.getElementsByTagName("*"),o=c.length-1;o>=0;o--)t(c[o],a.guid);return a};var n=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i]}(),d=d||{},d.lib=d.lib||{},d.lib.RSAExport={},function(e){function t(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new t(null)}function i(e,t,n,i,r,s){for(;--s>=0;){var o=t*this[e++]+n[i]+r;r=Math.floor(o/67108864),n[i++]=67108863&o}return r}function r(e,t,n,i,r,s){for(var o=32767&t,a=t>>15;--s>=0;){var c=32767&this[e],l=this[e++]>>15,u=a*c+l*o;c=o*c+((32767&u)<<15)+n[i]+(1073741823&r),r=(c>>>30)+(u>>>15)+a*l+(r>>>30),n[i++]=1073741823&c}return r}function s(e,t,n,i,r,s){for(var o=16383&t,a=t>>14;--s>=0;){var c=16383&this[e],l=this[e++]>>14,u=a*c+l*o;c=o*c+((16383&u)<<14)+n[i]+r,r=(c>>28)+(u>>14)+a*l,n[i++]=268435455&c}return r}function o(e){return Dn.charAt(e)}function a(e,t){var n=An[e.charCodeAt(t)];return null==n?-1:n}function c(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function l(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function u(e){var t=n();return t.fromInt(e),t}function d(e,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(e,n);i=2}this.t=0,this.s=0;for(var r=e.length,s=!1,o=0;--r>=0;){var c=8==i?255&e[r]:a(e,r);0>c?"-"==e.charAt(r)&&(s=!0):(s=!1,0==o?this[this.t++]=c:o+i>this.DB?(this[this.t-1]|=(c&(1<<this.DB-o)-1)<<o,this[this.t++]=c>>this.DB-o):this[this.t-1]|=c<<o,o+=i,o>=this.DB&&(o-=this.DB))}8==i&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&t.ZERO.subTo(this,this)}function p(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function h(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,r=!1,s="",a=this.t,c=this.DB-a*this.DB%t;if(a-->0)for(c<this.DB&&(n=this[a]>>c)>0&&(r=!0,s=o(n));a>=0;)t>c?(n=(this[a]&(1<<c)-1)<<t-c,n|=this[--a]>>(c+=this.DB-t)):(n=this[a]>>(c-=t)&i,0>=c&&(c+=this.DB,--a)),n>0&&(r=!0),r&&(s+=o(n));return r?s:"0"}function g(){var e=n();return t.ZERO.subTo(this,e),e}function f(){return this.s<0?this.negate():this}function m(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function y(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function w(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)}function b(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function E(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function C(e,t){var n,i=e%this.DB,r=this.DB-i,s=(1<<r)-1,o=Math.floor(e/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>r|a,a=(this[n]&s)<<i;for(n=o-1;n>=0;--n)t[n]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}function S(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var i=e%this.DB,r=this.DB-i,s=(1<<i)-1;t[0]=this[n]>>i;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&s)<<r,t[o-n]=this[o]>>i;i>0&&(t[this.t-n-1]|=(this.s&s)<<r),t.t=this.t-n,t.clamp()}function T(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);r>n;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=0>i?-1:0,-1>i?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()}function _(e,n){var i=this.abs(),r=e.abs(),s=i.t;for(n.t=s+r.t;--s>=0;)n[s]=0;for(s=0;s<r.t;++s)n[s+i.t]=i.am(0,r[s],n,s,0,i.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)}function I(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function x(e,i,r){var s=e.abs();if(!(s.t<=0)){var o=this.abs();if(o.t<s.t)return null!=i&&i.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=n());var a=n(),c=this.s,l=e.s,u=this.DB-y(s[s.t-1]);u>0?(s.lShiftTo(u,a),o.lShiftTo(u,r)):(s.copyTo(a),o.copyTo(r));var d=a.t,p=a[d-1];if(0!=p){var h=p*(1<<this.F1)+(d>1?a[d-2]>>this.F2:0),g=this.FV/h,f=(1<<this.F1)/h,m=1<<this.F2,v=r.t,w=v-d,b=null==i?n():i;for(a.dlShiftTo(w,b),r.compareTo(b)>=0&&(r[r.t++]=1,r.subTo(b,r)),t.ONE.dlShiftTo(d,b),b.subTo(a,a);a.t<d;)a[a.t++]=0;for(;--w>=0;){var E=r[--v]==p?this.DM:Math.floor(r[v]*g+(r[v-1]+m)*f);if((r[v]+=a.am(0,E,r,w,0,d))<E)for(a.dlShiftTo(w,b),r.subTo(b,r);r[v]<--E;)r.subTo(b,r)}null!=i&&(r.drShiftTo(d,i),c!=l&&t.ZERO.subTo(i,i)),r.t=d,r.clamp(),u>0&&r.rShiftTo(u,r),0>c&&t.ZERO.subTo(r,r)}}}function R(e){var i=n();return this.abs().divRemTo(e,null,i),this.s<0&&i.compareTo(t.ZERO)>0&&e.subTo(i,i),i}function k(e){this.m=e}function D(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function A(e){return e}function P(e){e.divRemTo(this.m,null,e)}function M(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function L(e,t){e.squareTo(t),this.reduce(t)}function N(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function V(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function B(e){var i=n();return e.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),e.s<0&&i.compareTo(t.ZERO)>0&&this.m.subTo(i,i),i}function O(e){var t=n();return e.copyTo(t),this.reduce(t),t}function U(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function $(e,t){e.squareTo(t),this.reduce(t)}function K(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function H(){return 0==(this.t>0?1&this[0]:this.s)}function F(e,i){if(e>4294967295||1>e)return t.ONE;var r=n(),s=n(),o=i.convert(this),a=y(e)-1;for(o.copyTo(r);--a>=0;)if(i.sqrTo(r,s),(e&1<<a)>0)i.mulTo(s,o,r);else{var c=r;r=s,s=c}return i.revert(r)}function q(e,t){var n;return n=256>e||t.isEven()?new k(t):new V(t),this.exp(e,n)}function j(){var e=n();return this.copyTo(e),e}function J(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function W(){return 0==this.t?this.s:this[0]<<24>>24}function z(){return 0==this.t?this.s:this[0]<<16>>16}function G(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function Z(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Y(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),r=u(i),s=n(),o=n(),a="";for(this.divRemTo(r,s,o);s.signum()>0;)a=(i+o.intValue()).toString(e).substr(1)+a,s.divRemTo(r,s,o);return o.intValue().toString(e)+a}function X(e,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),r=Math.pow(n,i),s=!1,o=0,c=0,l=0;l<e.length;++l){var u=a(e,l);0>u?"-"==e.charAt(l)&&0==this.signum()&&(s=!0):(c=n*c+u,++o>=i&&(this.dMultiply(r),this.dAddOffset(c,0),o=0,c=0))}o>0&&(this.dMultiply(Math.pow(n,o)),this.dAddOffset(c,0)),s&&t.ZERO.subTo(this,this)}function Q(e,n,i){if("number"==typeof n)if(2>e)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),at,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var r=new Array,s=7&e;r.length=(e>>3)+1,n.nextBytes(r),s>0?r[0]&=(1<<s)-1:r[0]=0,this.fromString(r,256)}}function et(){var e=this.t,t=new Array;t[0]=this.s;var n,i=this.DB-e*this.DB%8,r=0;if(e-->0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[r++]=n|this.s<<this.DB-i);e>=0;)8>i?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,0>=i&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(t[r++]=n);return t}function tt(e){return 0==this.compareTo(e)}function nt(e){return this.compareTo(e)<0?this:e}function it(e){return this.compareTo(e)>0?this:e}function rt(e,t,n){var i,r,s=Math.min(e.t,this.t);for(i=0;s>i;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(r=e.s&this.DM,i=s;i<this.t;++i)n[i]=t(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=s;i<e.t;++i)n[i]=t(r,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function st(e,t){return e&t}function ot(e){var t=n();return this.bitwiseTo(e,st,t),t}function at(e,t){return e|t}function ct(e){var t=n();return this.bitwiseTo(e,at,t),t}function lt(e,t){return e^t}function ut(e){var t=n();return this.bitwiseTo(e,lt,t),t}function dt(e,t){return e&~t}function pt(e){var t=n();return this.bitwiseTo(e,dt,t),t}function ht(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function gt(e){var t=n();return 0>e?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function ft(e){var t=n();return 0>e?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function mt(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function vt(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+mt(this[e]);return this.s<0?this.t*this.DB:-1}function yt(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function wt(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=yt(this[n]^t);return e}function bt(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function Et(e,n){var i=t.ONE.shiftLeft(e);return this.bitwiseTo(i,n,i),i}function Ct(e){return this.changeBit(e,at)}function St(e){return this.changeBit(e,dt)}function Tt(e){return this.changeBit(e,lt)}function _t(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);r>n;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=0>i?-1:0,i>0?t[n++]=i:-1>i&&(t[n++]=this.DV+i),t.t=n,t.clamp()}function It(e){var t=n();return this.addTo(e,t),t}function xt(e){var t=n();return this.subTo(e,t),t}function Rt(e){var t=n();return this.multiplyTo(e,t),t}function kt(){var e=n();return this.squareTo(e),e}function Dt(e){var t=n();return this.divRemTo(e,t,null),t}function At(e){var t=n();return this.divRemTo(e,null,t),t}function Pt(e){var t=n(),i=n();return this.divRemTo(e,t,i),new Array(t,i)}function Mt(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Lt(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function Nt(){}function Vt(e){return e}function Bt(e,t,n){e.multiplyTo(t,n)}function Ot(e,t){e.squareTo(t)}function Ut(e){return this.exp(e,new Nt)}function $t(e,t,n){var i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;var r;for(r=n.t-this.t;r>i;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);r>i;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()}function Kt(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)}function Ht(e){this.r2=n(),this.q3=n(),t.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Ft(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t}function qt(e){return e}function jt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Jt(e,t){e.squareTo(t),this.reduce(t)}function Wt(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function zt(e,t){var i,r,s=e.bitLength(),o=u(1);if(0>=s)return o;i=18>s?1:48>s?3:144>s?4:768>s?5:6,r=8>s?new k(t):t.isEven()?new Ht(t):new V(t);var a=new Array,c=3,l=i-1,d=(1<<i)-1;if(a[1]=r.convert(this),i>1){var p=n();for(r.sqrTo(a[1],p);d>=c;)a[c]=n(),r.mulTo(p,a[c-2],a[c]),c+=2}var h,g,f=e.t-1,m=!0,v=n();for(s=y(e[f])-1;f>=0;){for(s>=l?h=e[f]>>s-l&d:(h=(e[f]&(1<<s+1)-1)<<l-s,f>0&&(h|=e[f-1]>>this.DB+s-l)),c=i;0==(1&h);)h>>=1,--c;if((s-=c)<0&&(s+=this.DB,--f),m)a[h].copyTo(o),m=!1;else{for(;c>1;)r.sqrTo(o,v),r.sqrTo(v,o),c-=2;c>0?r.sqrTo(o,v):(g=o,o=v,v=g),r.mulTo(v,a[h],o)}for(;f>=0&&0==(e[f]&1<<s);)r.sqrTo(o,v),g=o,o=v,v=g,--s<0&&(s=this.DB-1,--f)}return r.revert(o)}function Gt(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var r=t.getLowestSetBit(),s=n.getLowestSetBit();if(0>s)return t;for(s>r&&(s=r),s>0&&(t.rShiftTo(s,t),n.rShiftTo(s,n));t.signum()>0;)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n}function Zt(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n}function Yt(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var i=e.clone(),r=this.clone(),s=u(1),o=u(0),a=u(0),c=u(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(s.isEven()&&o.isEven()||(s.addTo(this,s),o.subTo(e,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),n?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);i.compareTo(r)>=0?(i.subTo(r,i),n&&s.subTo(a,s),o.subTo(c,o)):(r.subTo(i,r),n&&a.subTo(s,a),c.subTo(o,c))}return 0!=r.compareTo(t.ONE)?t.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c}function Xt(e){var t,n=this.abs();if(1==n.t&&n[0]<=Pn[Pn.length-1]){for(t=0;t<Pn.length;++t)if(n[0]==Pn[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<Pn.length;){for(var i=Pn[t],r=t+1;r<Pn.length&&Mn>i;)i*=Pn[r++];for(i=n.modInt(i);r>t;)if(i%Pn[t++]==0)return!1}return n.millerRabin(e)}function Qt(e){var i=this.subtract(t.ONE),r=i.getLowestSetBit();if(0>=r)return!1;var s=i.shiftRight(r);e=e+1>>1,e>Pn.length&&(e=Pn.length);for(var o=n(),a=0;e>a;++a){o.fromInt(Pn[Math.floor(Math.random()*Pn.length)]);var c=o.modPow(s,this);if(0!=c.compareTo(t.ONE)&&0!=c.compareTo(i)){for(var l=1;l++<r&&0!=c.compareTo(i);)if(c=c.modPowInt(2,this),0==c.compareTo(t.ONE))return!1;if(0!=c.compareTo(i))return!1}}return!0}function en(){this.i=0,this.j=0,this.S=new Array}function tn(e){var t,n,i;for(t=0;256>t;++t)this.S[t]=t;for(n=0,t=0;256>t;++t)n=n+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[n],this.S[n]=i;this.i=0,this.j=0}function nn(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function rn(){return new en}function sn(e){Nn[Vn++]^=255&e,Nn[Vn++]^=e>>8&255,Nn[Vn++]^=e>>16&255,Nn[Vn++]^=e>>24&255,Vn>=Bn&&(Vn-=Bn)}function on(){sn((new Date).getTime())}function an(){if(null==Ln){for(on(),Ln=rn(),Ln.init(Nn),Vn=0;Vn<Nn.length;++Vn)Nn[Vn]=0;Vn=0}return Ln.next()}function cn(e){var t;for(t=0;t<e.length;++t)e[t]=an()}function ln(){}function un(e,n){return new t(e,n)}function dn(e,n){if(n<e.length+11)return console.error("Message too long for RSA"),null;for(var i=new Array,r=e.length-1;r>=0&&n>0;){var s=e.charCodeAt(r--);128>s?i[--n]=s:s>127&&2048>s?(i[--n]=63&s|128,i[--n]=s>>6|192):(i[--n]=63&s|128,i[--n]=s>>6&63|128,i[--n]=s>>12|224)}i[--n]=0;for(var o=new ln,a=new Array;n>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);i[--n]=a[0]}return i[--n]=2,i[--n]=0,new t(i)}function pn(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function hn(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=un(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")}function gn(e){return e.modPowInt(this.e,this.n)}function fn(e){var t=dn(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}function mn(e,t){for(var n=e.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=t-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var s=255&n[i];128>s?r+=String.fromCharCode(s):s>191&&224>s?(r+=String.fromCharCode((31&s)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&s)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}function vn(e,t,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=un(e,16),this.e=parseInt(t,16),this.d=un(n,16)):console.error("Invalid RSA private key")}function yn(e,t,n,i,r,s,o,a){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=un(e,16),this.e=parseInt(t,16),this.d=un(n,16),this.p=un(i,16),this.q=un(r,16),this.dmp1=un(s,16),this.dmq1=un(o,16),this.coeff=un(a,16)):console.error("Invalid RSA private key")}function wn(e,n){var i=new ln,r=e>>1;this.e=parseInt(n,16);for(var s=new t(n,16);;){for(;this.p=new t(e-r,1,i),0!=this.p.subtract(t.ONE).gcd(s).compareTo(t.ONE)||!this.p.isProbablePrime(10););for(;this.q=new t(r,1,i),0!=this.q.subtract(t.ONE).gcd(s).compareTo(t.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var a=this.p.subtract(t.ONE),c=this.q.subtract(t.ONE),l=a.multiply(c);if(0==l.gcd(s).compareTo(t.ONE)){this.n=this.p.multiply(this.q),this.d=s.modInverse(l),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}}function bn(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function En(e){var t=un(e,16),n=this.doPrivate(t);return null==n?null:mn(n,this.n.bitLength()+7>>3)}function Cn(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=$n.charAt(n>>6)+$n.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=$n.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=$n.charAt(n>>2)+$n.charAt((3&n)<<4));(3&i.length)>0;)i+=Kn;return i}function Sn(e){var t,n,i="",r=0;for(t=0;t<e.length&&e.charAt(t)!=Kn;++t)v=$n.indexOf(e.charAt(t)),0>v||(0==r?(i+=o(v>>2),n=3&v,r=1):1==r?(i+=o(n<<2|v>>4),n=15&v,r=2):2==r?(i+=o(n),i+=o(v>>2),n=3&v,r=3):(i+=o(n<<2|v>>4),i+=o(15&v),r=0));return 1==r&&(i+=o(n<<2)),i}var Tn,_n=0xdeadbeefcafe,In=15715070==(16777215&_n);In&&"Microsoft Internet Explorer"==navigator.appName?(t.prototype.am=r,Tn=30):In&&"Netscape"!=navigator.appName?(t.prototype.am=i,Tn=26):(t.prototype.am=s,Tn=28),t.prototype.DB=Tn,t.prototype.DM=(1<<Tn)-1,t.prototype.DV=1<<Tn;var xn=52;t.prototype.FV=Math.pow(2,xn),t.prototype.F1=xn-Tn,t.prototype.F2=2*Tn-xn;var Rn,kn,Dn="0123456789abcdefghijklmnopqrstuvwxyz",An=new Array;for(Rn="0".charCodeAt(0),kn=0;9>=kn;++kn)An[Rn++]=kn;for(Rn="a".charCodeAt(0),kn=10;36>kn;++kn)An[Rn++]=kn;for(Rn="A".charCodeAt(0),kn=10;36>kn;++kn)An[Rn++]=kn;k.prototype.convert=D,k.prototype.revert=A,k.prototype.reduce=P,k.prototype.mulTo=M,k.prototype.sqrTo=L,V.prototype.convert=B,V.prototype.revert=O,V.prototype.reduce=U,V.prototype.mulTo=K,V.prototype.sqrTo=$,t.prototype.copyTo=c,t.prototype.fromInt=l,t.prototype.fromString=d,t.prototype.clamp=p,t.prototype.dlShiftTo=b,t.prototype.drShiftTo=E,t.prototype.lShiftTo=C,t.prototype.rShiftTo=S,t.prototype.subTo=T,t.prototype.multiplyTo=_,t.prototype.squareTo=I,t.prototype.divRemTo=x,t.prototype.invDigit=N,t.prototype.isEven=H,t.prototype.exp=F,t.prototype.toString=h,t.prototype.negate=g,t.prototype.abs=f,t.prototype.compareTo=m,t.prototype.bitLength=w,t.prototype.mod=R,t.prototype.modPowInt=q,t.ZERO=u(0),t.ONE=u(1),Nt.prototype.convert=Vt,Nt.prototype.revert=Vt,Nt.prototype.mulTo=Bt,Nt.prototype.sqrTo=Ot,Ht.prototype.convert=Ft,Ht.prototype.revert=qt,Ht.prototype.reduce=jt,Ht.prototype.mulTo=Wt,Ht.prototype.sqrTo=Jt;var Pn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Mn=(1<<26)/Pn[Pn.length-1];t.prototype.chunkSize=G,t.prototype.toRadix=Y,t.prototype.fromRadix=X,t.prototype.fromNumber=Q,t.prototype.bitwiseTo=rt,t.prototype.changeBit=Et,t.prototype.addTo=_t,t.prototype.dMultiply=Mt,t.prototype.dAddOffset=Lt,t.prototype.multiplyLowerTo=$t,t.prototype.multiplyUpperTo=Kt,t.prototype.modInt=Zt,t.prototype.millerRabin=Qt,t.prototype.clone=j,t.prototype.intValue=J,t.prototype.byteValue=W,t.prototype.shortValue=z,t.prototype.signum=Z,t.prototype.toByteArray=et,t.prototype.equals=tt,t.prototype.min=nt,t.prototype.max=it,t.prototype.and=ot,t.prototype.or=ct,t.prototype.xor=ut,t.prototype.andNot=pt,t.prototype.not=ht,t.prototype.shiftLeft=gt,t.prototype.shiftRight=ft,t.prototype.getLowestSetBit=vt,t.prototype.bitCount=wt,t.prototype.testBit=bt,t.prototype.setBit=Ct,t.prototype.clearBit=St,t.prototype.flipBit=Tt,t.prototype.add=It,t.prototype.subtract=xt,t.prototype.multiply=Rt,t.prototype.divide=Dt,t.prototype.remainder=At,t.prototype.divideAndRemainder=Pt,t.prototype.modPow=zt,t.prototype.modInverse=Yt,t.prototype.pow=Ut,t.prototype.gcd=Gt,t.prototype.isProbablePrime=Xt,t.prototype.square=kt,en.prototype.init=tn,en.prototype.next=nn;var Ln,Nn,Vn,Bn=256;if(null==Nn){Nn=new Array,Vn=0;var On;if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var Un=window.crypto.random(32);for(On=0;On<Un.length;++On)Nn[Vn++]=255&Un.charCodeAt(On)}for(;Bn>Vn;)On=Math.floor(65536*Math.random()),Nn[Vn++]=On>>>8,Nn[Vn++]=255&On;Vn=0,on()}ln.prototype.nextBytes=cn,pn.prototype.doPublic=gn,pn.prototype.setPublic=hn,pn.prototype.encrypt=fn,pn.prototype.doPrivate=bn,pn.prototype.setPrivate=vn,pn.prototype.setPrivateEx=yn,pn.prototype.generate=wn,pn.prototype.decrypt=En,function(){var e=function(e,i,r){var s=new ln,o=e>>1;this.e=parseInt(i,16);var a=new t(i,16),c=this,l=function(){var i=function(){if(c.p.compareTo(c.q)<=0){var e=c.p;c.p=c.q,c.q=e}var n=c.p.subtract(t.ONE),i=c.q.subtract(t.ONE),s=n.multiply(i);0==s.gcd(a).compareTo(t.ONE)?(c.n=c.p.multiply(c.q),c.d=a.modInverse(s),c.dmp1=c.d.mod(n),c.dmq1=c.d.mod(i),c.coeff=c.q.modInverse(c.p),setTimeout(function(){r()},0)):setTimeout(l,0)},u=function(){c.q=n(),c.q.fromNumberAsync(o,1,s,function(){c.q.subtract(t.ONE).gcda(a,function(e){0==e.compareTo(t.ONE)&&c.q.isProbablePrime(10)?setTimeout(i,0):setTimeout(u,0)})})},d=function(){c.p=n(),c.p.fromNumberAsync(e-o,1,s,function(){c.p.subtract(t.ONE).gcda(a,function(e){0==e.compareTo(t.ONE)&&c.p.isProbablePrime(10)?setTimeout(u,0):setTimeout(d,0)})})};setTimeout(d,0)};setTimeout(l,0)};pn.prototype.generateAsync=e;var i=function(e,t){var n=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(n.compareTo(i)<0){var r=n;n=i,i=r}var s=n.getLowestSetBit(),o=i.getLowestSetBit();if(0>o)return void t(n);o>s&&(o=s),o>0&&(n.rShiftTo(o,n),i.rShiftTo(o,i));var a=function(){(s=n.getLowestSetBit())>0&&n.rShiftTo(s,n),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),n.compareTo(i)>=0?(n.subTo(i,n),n.rShiftTo(1,n)):(i.subTo(n,i),i.rShiftTo(1,i)),n.signum()>0?setTimeout(a,0):(o>0&&i.lShiftTo(o,i),setTimeout(function(){t(i)},0))};setTimeout(a,10)};t.prototype.gcda=i;var r=function(e,n,i,r){if("number"==typeof n)if(2>e)this.fromInt(1);else{this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),at,this),this.isEven()&&this.dAddOffset(1,0);var s=this,o=function(){s.dAddOffset(2,0),s.bitLength()>e&&s.subTo(t.ONE.shiftLeft(e-1),s),s.isProbablePrime(n)?setTimeout(function(){r()},0):setTimeout(o,0)};setTimeout(o,0)}else{var a=new Array,c=7&e;a.length=(e>>3)+1,n.nextBytes(a),c>0?a[0]&=(1<<c)-1:a[0]=0,this.fromString(a,256)}};t.prototype.fromNumberAsync=r}();var $n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kn="=",Hn=Hn||{};Hn.env=Hn.env||{};var Fn=Hn,qn=Object.prototype,jn="[object Function]",Jn=["toString","valueOf"];Hn.env.parseUA=function(e){var t,n=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))},i=navigator,r={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:i&&i.cajaVersion,secure:!1,os:null},s=e||navigator&&navigator.userAgent,o=window&&window.location,a=o&&o.href;return r.secure=a&&0===a.toLowerCase().indexOf("https"),s&&(/windows|win32/i.test(s)?r.os="windows":/macintosh/i.test(s)?r.os="macintosh":/rhino/i.test(s)&&(r.os="rhino"),/KHTML/.test(s)&&(r.webkit=1),t=s.match(/AppleWebKit\/([^\s]*)/),t&&t[1]&&(r.webkit=n(t[1]),/ Mobile\//.test(s)?(r.mobile="Apple",t=s.match(/OS ([^\s]*)/),t&&t[1]&&(t=n(t[1].replace("_","."))),r.ios=t,r.ipad=r.ipod=r.iphone=0,t=s.match(/iPad|iPod|iPhone/),t&&t[0]&&(r[t[0].toLowerCase()]=r.ios)):(t=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),t&&(r.mobile=t[0]),/webOS/.test(s)&&(r.mobile="WebOS",t=s.match(/webOS\/([^\s]*);/),t&&t[1]&&(r.webos=n(t[1]))),/ Android/.test(s)&&(r.mobile="Android",t=s.match(/Android ([^\s]*);/),t&&t[1]&&(r.android=n(t[1])))),t=s.match(/Chrome\/([^\s]*)/),t&&t[1]?r.chrome=n(t[1]):(t=s.match(/AdobeAIR\/([^\s]*)/),t&&(r.air=t[0]))),r.webkit||(t=s.match(/Opera[\s\/]([^\s]*)/),t&&t[1]?(r.opera=n(t[1]),t=s.match(/Version\/([^\s]*)/),t&&t[1]&&(r.opera=n(t[1])),t=s.match(/Opera Mini[^;]*/),t&&(r.mobile=t[0])):(t=s.match(/MSIE\s([^;]*)/),t&&t[1]?r.ie=n(t[1]):(t=s.match(/Gecko\/([^\s]*)/),t&&(r.gecko=1,t=s.match(/rv:([^\s\)]*)/),t&&t[1]&&(r.gecko=n(t[1]))))))),r
},Hn.env.ua=Hn.env.parseUA(),Hn.isFunction=function(e){return"function"==typeof e||qn.toString.apply(e)===jn},Hn._IEEnumFix=Hn.env.ua.ie?function(e,t){var n,i,r;for(n=0;n<Jn.length;n+=1)i=Jn[n],r=t[i],Fn.isFunction(r)&&r!=qn[i]&&(e[i]=r)}:function(){},Hn.extend=function(e,t,n){if(!t||!e)throw new Error("extend failed, please check that all dependencies are included.");var i,r=function(){};if(r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==qn.constructor&&(t.prototype.constructor=t),n){for(i in n)Fn.hasOwnProperty(n,i)&&(e.prototype[i]=n[i]);Fn._IEEnumFix(e.prototype,n)}},"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.asn1&&KJUR.asn1||(KJUR.asn1={}),KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var n=e.toString(16);if("-"!=n.substr(0,1))n.length%2==1?n="0"+n:n.match(/^[0-7]/)||(n="00"+n);else{var i=n.substr(1),r=i.length;r%2==1?r+=1:n.match(/^[0-7]/)||(r+=2);for(var s="",o=0;r>o;o++)s+="f";var a=new t(s,16),c=a.xor(e).add(t.ONE);n=c.toString(16).replace(/^-/,"")}return n},this.getPEMStringFromHex=function(e,t){var n=CryptoJS.enc.Hex.parse(e),i=CryptoJS.enc.Base64.stringify(n),r=i.replace(/(.{64})/g,"$1\r\n");return r=r.replace(/\r\n$/,""),"-----BEGIN "+t+"-----\r\n"+r+"\r\n-----END "+t+"-----\r\n"}},KJUR.asn1.ASN1Object=function(){var e="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+e.length+",v="+this.hV;var t=this.hV.length/2,n=t.toString(16);if(n.length%2==1&&(n="0"+n),128>t)return n;var i=n.length/2;if(i>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);var r=128+i;return r.toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},KJUR.asn1.DERAbstractString=function(e){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"http://passport.baidu.com/passApi/js/!=typeof e.str?this.setString(e.str):"undefined"!=typeof e.hex&&this.setStringHex(e.hex))},Hn.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractTime=function(){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){utc=e.getTime()+6e4*e.getTimezoneOffset();var t=new Date(utc);return t},this.formatDate=function(e,t){var n=this.zeroPadding,i=this.localDateToUTC(e),r=String(i.getFullYear());"utc"==t&&(r=r.substr(2,2));var s=n(String(i.getMonth()+1),2),o=n(String(i.getDate()),2),a=n(String(i.getHours()),2),c=n(String(i.getMinutes()),2),l=n(String(i.getSeconds()),2);return r+s+o+a+c+l+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setByDateValue=function(e,t,n,i,r,s){var o=new Date(Date.UTC(e,t-1,n,i,r,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},Hn.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractStructured=function(e){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,"undefined"!=typeof e&&"undefined"!=typeof e.array&&(this.asn1Array=e.array)},Hn.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object),KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Hn.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object),KJUR.asn1.DERInteger=function(e){KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var n=new t(String(e),10);this.setByBigInteger(n)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e.bigint?this.setByBigInteger(e.bigint):"undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"undefined"!=typeof e.hex&&this.setValueHex(e.hex))},Hn.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object),KJUR.asn1.DERBitString=function(e){KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(0>e||e>7)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var n=0;t>=n;n++)e+="0";for(var i="",n=0;n<e.length-1;n+=8){var r=e.substr(n,8),s=parseInt(r,2).toString(16);1==s.length&&(s="0"+s),i+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+t+i},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)t+=1==e[n]?"1":"0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;e>n;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"http://passport.baidu.com/passApi/js/!=typeof e.hex?this.setHexValueIncludingUnusedBits(e.hex):"undefined"http://passport.baidu.com/passApi/js/!=typeof e.bin?this.setByBinaryString(e.bin):"undefined"!=typeof e.array&&this.setByBooleanArray(e.array))},Hn.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object),KJUR.asn1.DEROctetString=function(e){KJUR.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Hn.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Hn.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object),KJUR.asn1.DERObjectIdentifier=function(e){var n=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",r=new t(e,10),s=r.toString(2),o=7-s.length%7;7==o&&(o=0);for(var a="",c=0;o>c;c++)a+="0";s=a+s;for(var c=0;c<s.length-1;c+=7){var l=s.substr(c,7);c!=s.length-7&&(l="1"+l),i+=n(parseInt(l,2))}return i};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var t="",r=e.split("."),s=40*parseInt(r[0])+parseInt(r[1]);t+=n(s),r.splice(0,2);for(var o=0;o<r.length;o++)t+=i(r[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){if("undefined"==typeof KJUR.asn1.x509.OID.name2oidList[e])throw"DERObjectIdentifier oidName undefined: "+e;var t=KJUR.asn1.x509.OID.name2oidList[e];this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"http://passport.baidu.com/passApi/js/!=typeof e.oid?this.setValueOidString(e.oid):"undefined"http://passport.baidu.com/passApi/js/!=typeof e.hex?this.setValueHex(e.hex):"undefined"!=typeof e.name&&this.setValueName(e.name))},Hn.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object),KJUR.asn1.DERUTF8String=function(e){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Hn.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNumericString=function(e){KJUR.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Hn.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERPrintableString=function(e){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Hn.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERTeletexString=function(e){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Hn.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERIA5String=function(e){KJUR.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Hn.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERUTCTime=function(e){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},"undefined"!=typeof e&&("undefined"http://passport.baidu.com/passApi/js/!=typeof e.str?this.setString(e.str):"undefined"http://passport.baidu.com/passApi/js/!=typeof e.hex?this.setStringHex(e.hex):"undefined"!=typeof e.date&&this.setByDate(e.date))},Hn.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERGeneralizedTime=function(e){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen"),this.hV=stohex(this.s)},"undefined"!=typeof e&&("undefined"http://passport.baidu.com/passApi/js/!=typeof e.str?this.setString(e.str):"undefined"http://passport.baidu.com/passApi/js/!=typeof e.hex?this.setStringHex(e.hex):"undefined"!=typeof e.date&&this.setByDate(e.date))},Hn.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERSequence=function(e){KJUR.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e+=n.getEncodedHex()}return this.hV=e,this.hV}},Hn.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERSet=function(e){KJUR.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return e.sort(),this.hV=e.join(""),this.hV}},Hn.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERTaggedObject=function(e){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e.tag&&(this.hT=e.tag),"undefined"!=typeof e.explicit&&(this.isExplicit=e.explicit),"undefined"!=typeof e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Hn.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),function(e){"use strict";var t,n={};n.decode=function(n){var i;if(t===e){var r="0123456789ABCDEF",s=" \f\n\r	 \u2028\u2029";for(t=[],i=0;16>i;++i)t[r.charAt(i)]=i;for(r=r.toLowerCase(),i=10;16>i;++i)t[r.charAt(i)]=i;for(i=0;i<s.length;++i)t[s.charAt(i)]=-1}var o=[],a=0,c=0;for(i=0;i<n.length;++i){var l=n.charAt(i);if("="==l)break;if(l=t[l],-1!=l){if(l===e)throw"Illegal character at offset "+i;a|=l,++c>=2?(o[o.length]=a,a=0,c=0):a<<=4}}if(c)throw"Hex encoding incomplete: 4 bits missing";return o},window.Hex=n}(),function(e){"use strict";var t,n={};n.decode=function(n){var i;if(t===e){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="= \f\n\r	 \u2028\u2029";for(t=[],i=0;64>i;++i)t[r.charAt(i)]=i;for(i=0;i<s.length;++i)t[s.charAt(i)]=-1}var o=[],a=0,c=0;for(i=0;i<n.length;++i){var l=n.charAt(i);if("="==l)break;if(l=t[l],-1!=l){if(l===e)throw"Illegal character at offset "+i;a|=l,++c>=4?(o[o.length]=a>>16,o[o.length]=a>>8&255,o[o.length]=255&a,a=0,c=0):a<<=6}}switch(c){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:o[o.length]=a>>10;break;case 3:o[o.length]=a>>16,o[o.length]=a>>8&255}return o},n.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,n.unarmor=function(e){var t=n.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw"RegExp out of sync";e=t[2]}return n.decode(e)},window.Base64=n}(),function(e){"use strict";function t(e,n){e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}function n(e,t,n,i,r){this.stream=e,this.header=t,this.length=n,this.tag=i,this.sub=r}var i=100,r="…",s={tag:function(e,t){var n=document.createElement(e);return n.className=t,n},text:function(e){return document.createTextNode(e)}};t.prototype.get=function(t){if(t===e&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},t.prototype.hexDigits="0123456789ABCDEF",t.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},t.prototype.hexDump=function(e,t,n){for(var i="",r=e;t>r;++r)if(i+=this.hexByte(this.get(r)),n!==!0)switch(15&r){case 7:i+="  ";break;case 15:i+="\n";break;default:i+=" "}return i},t.prototype.parseStringISO=function(e,t){for(var n="",i=e;t>i;++i)n+=String.fromCharCode(this.get(i));return n},t.prototype.parseStringUTF=function(e,t){for(var n="",i=e;t>i;){var r=this.get(i++);n+=String.fromCharCode(128>r?r:r>191&&224>r?(31&r)<<6|63&this.get(i++):(15&r)<<12|(63&this.get(i++))<<6|63&this.get(i++))}return n},t.prototype.parseStringBMP=function(e,t){for(var n="",i=e;t>i;i+=2){var r=this.get(i),s=this.get(i+1);n+=String.fromCharCode((r<<8)+s)}return n},t.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,t.prototype.parseTime=function(e,t){var n=this.parseStringISO(e,t),i=this.reTime.exec(n);return i?(n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},t.prototype.parseInteger=function(e,t){var n=t-e;if(n>4){n<<=3;var i=this.get(e);if(0===i)n-=8;else for(;128>i;)i<<=1,--n;return"("+n+" bit)"}for(var r=0,s=e;t>s;++s)r=r<<8|this.get(s);return r},t.prototype.parseBitString=function(e,t){var n=this.get(e),i=(t-e-1<<3)-n,r="("+i+" bit)";if(20>=i){var s=n;r+=" ";for(var o=t-1;o>e;--o){for(var a=this.get(o),c=s;8>c;++c)r+=a>>c&1?"1":"0";s=0}}return r},t.prototype.parseOctetString=function(e,t){var n=t-e,s="("+n+" byte) ";n>i&&(t=e+i);for(var o=e;t>o;++o)s+=this.hexByte(this.get(o));return n>i&&(s+=r),s},t.prototype.parseOID=function(e,t){for(var n="",i=0,r=0,s=e;t>s;++s){var o=this.get(s);if(i=i<<7|127&o,r+=7,!(128&o)){if(""===n){var a=80>i?40>i?0:1:2;n=a+"."+(i-40*a)}else n+="."+(r>=31?"bigint":i);i=r=0}}return n},n.prototype.typeName=function(){if(this.tag===e)return"unknown";var t=this.tag>>6,n=(this.tag>>5&1,31&this.tag);switch(t){case 0:switch(n){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+n.toString(16)}case 1:return"Application_"+n.toString(16);case 2:return"["+n+"]";case 3:return"Private_"+n.toString(16)}},n.prototype.reSeemsASCII=/^[ -~]+$/,n.prototype.content=function(){if(this.tag===e)return null;var t=this.tag>>6,n=31&this.tag,s=this.posContent(),o=Math.abs(this.length);if(0!==t){if(null!==this.sub)return"("+this.sub.length+" elem)";var a=this.stream.parseStringISO(s,s+Math.min(o,i));return this.reSeemsASCII.test(a)?a.substring(0,2*i)+(a.length>2*i?r:""):this.stream.parseOctetString(s,s+o)}switch(n){case 1:return 0===this.stream.get(s)?"false":"true";case 2:return this.stream.parseInteger(s,s+o);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(s,s+o);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(s,s+o);case 6:return this.stream.parseOID(s,s+o);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(s,s+o);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(s,s+o);case 30:return this.stream.parseStringBMP(s,s+o);case 23:case 24:return this.stream.parseTime(s,s+o)}return null},n.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"http://passport.baidu.com/passApi/js/+(null===this.sub?"null":this.sub.length)+"]"},n.prototype.print=function(t){if(t===e&&(t=""),document.writeln(t+this),null!==this.sub){t+="  ";for(var n=0,i=this.sub.length;i>n;++n)this.sub[n].print(t)}},n.prototype.toPrettyString=function(t){t===e&&(t="");var n=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(n+="+"),n+=this.length,32&this.tag?n+=" (constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+=" (encapsulates)"),n+="\n",null!==this.sub){t+="  ";for(var i=0,r=this.sub.length;r>i;++i)n+=this.sub[i].toPrettyString(t)}return n},n.prototype.toDOM=function(){var e=s.tag("div","node");e.asn1=this;var t=s.tag("div","head"),n=this.typeName().replace(/_/g," ");t.innerHTML=n;var i=this.content();if(null!==i){i=String(i).replace(/</g,"&lt;");var r=s.tag("span","preview");r.appendChild(s.text(i)),t.appendChild(r)}e.appendChild(t),this.node=e,this.head=t;var o=s.tag("div","value");if(n="Offset: "+this.stream.pos+"<br/>",n+="Length: "+this.header+"+",n+=this.length>=0?this.length:-this.length+" (undefined)"http://passport.baidu.com/passApi/js/,32&this.tag?n+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+="<br/>(encapsulates)"),null!==i&&(n+="<br/>Value:<br/><b>"+i+"</b>","object"==typeof oids&&6==this.tag)){var a=oids[i];a&&(a.d&&(n+="<br/>"+a.d),a.c&&(n+="<br/>"+a.c),a.w&&(n+="<br/>(warning!)"))}o.innerHTML=n,e.appendChild(o);var c=s.tag("div","sub");if(null!==this.sub)for(var l=0,u=this.sub.length;u>l;++l)c.appendChild(this.sub[l].toDOM());return e.appendChild(c),t.onclick=function(){e.className="node collapsed"==e.className?"node":"node collapsed"},e},n.prototype.posStart=function(){return this.stream.pos},n.prototype.posContent=function(){return this.stream.pos+this.header},n.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},n.prototype.fakeHover=function(e){this.node.className+=" hover",e&&(this.head.className+=" hover")},n.prototype.fakeOut=function(e){var t=/ ?hover/;this.node.className=this.node.className.replace(t,""),e&&(this.head.className=this.head.className.replace(t,""))},n.prototype.toHexDOM_sub=function(e,t,n,i,r){if(!(i>=r)){var o=s.tag("span",t);o.appendChild(s.text(n.hexDump(i,r))),e.appendChild(o)}},n.prototype.toHexDOM=function(t){var n=s.tag("span","hex");if(t===e&&(t=n),this.head.hexNode=n,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},n.asn1=this,n.onmouseover=function(){var e=!t.selected;e&&(t.selected=this.asn1,this.className="hexCurrent"),this.asn1.fakeHover(e)},n.onmouseout=function(){var e=t.selected==this.asn1;this.asn1.fakeOut(e),e&&(t.selected=null,this.className="hex")},this.toHexDOM_sub(n,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(n,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null===this.sub)n.appendChild(s.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var i=this.sub[0],r=this.sub[this.sub.length-1];this.toHexDOM_sub(n,"intro",this.stream,this.posContent(),i.posStart());for(var o=0,a=this.sub.length;a>o;++o)n.appendChild(this.sub[o].toHexDOM(t));this.toHexDOM_sub(n,"outro",this.stream,r.posEnd(),this.posEnd())}return n},n.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},n.decodeLength=function(e){var t=e.get(),n=127&t;if(n==t)return n;if(n>3)throw"Length over 24 bits not supported at position "+(e.pos-1);if(0===n)return-1;t=0;for(var i=0;n>i;++i)t=t<<8|e.get();return t},n.hasContent=function(e,i,r){if(32&e)return!0;if(3>e||e>4)return!1;var s=new t(r);3==e&&s.get();var o=s.get();if(o>>6&1)return!1;try{var a=n.decodeLength(s);return s.pos-r.pos+a==i}catch(c){return!1}},n.decode=function(e){e instanceof t||(e=new t(e,0));var i=new t(e),r=e.get(),s=n.decodeLength(e),o=e.pos-i.pos,a=null;if(n.hasContent(r,s,e)){var c=e.pos;if(3==r&&e.get(),a=[],s>=0){for(var l=c+s;e.pos<l;)a[a.length]=n.decode(e);if(e.pos!=l)throw"Content size is not correct for container starting at offset "+c}else try{for(;;){var u=n.decode(e);if(0===u.tag)break;a[a.length]=u}s=c-e.pos}catch(d){throw"Exception while decoding undefined length content: "+d}}else e.pos+=s;return new n(i,o,s,r,a)},n.test=function(){for(var e=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],i=0,r=e.length;r>i;++i){var s=new t(e[i].value,0),o=n.decodeLength(s);o!=e[i].expected&&document.write("In test["+i+"] expected "+e[i].expected+" got "+o+"\n")}},window.ASN1=n}(),ASN1.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,n=2*this.length;return e.substr(t,n)},pn.prototype.parseKey=function(e){try{var t=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,n=t.test(e)?Hex.decode(e):Base64.unarmor(e),i=ASN1.decode(n);if(9===i.sub.length){var r=i.sub[1].getHexStringValue();this.n=un(r,16);var s=i.sub[2].getHexStringValue();this.e=parseInt(s,16);var o=i.sub[3].getHexStringValue();this.d=un(o,16);var a=i.sub[4].getHexStringValue();this.p=un(a,16);var c=i.sub[5].getHexStringValue();this.q=un(c,16);var l=i.sub[6].getHexStringValue();this.dmp1=un(l,16);var u=i.sub[7].getHexStringValue();this.dmq1=un(u,16);var d=i.sub[8].getHexStringValue();this.coeff=un(d,16)}else{if(2!==i.sub.length)return!1;var p=i.sub[1],h=p.sub[0],r=h.sub[0].getHexStringValue();this.n=un(r,16);var s=h.sub[1].getHexStringValue();this.e=parseInt(s,16)}return!0}catch(g){return!1}},pn.prototype.getPrivateBaseKey=function(){var e={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]},t=new KJUR.asn1.DERSequence(e);return t.getEncodedHex()},pn.prototype.getPrivateBaseKeyB64=function(){return Cn(this.getPrivateBaseKey())},pn.prototype.getPublicBaseKey=function(){var e={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},t=new KJUR.asn1.DERSequence(e);e={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var n=new KJUR.asn1.DERSequence(e);e={hex:"00"+n.getEncodedHex()};var i=new KJUR.asn1.DERBitString(e);e={array:[t,i]};var r=new KJUR.asn1.DERSequence(e);return r.getEncodedHex()},pn.prototype.getPublicBaseKeyB64=function(){return Cn(this.getPublicBaseKey())},pn.prototype.wordwrap=function(e,t){if(t=t||64,!e)return e;var n="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(n,"g")).join("\n")},pn.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return e+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",e+="-----END RSA PRIVATE KEY-----"},pn.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return e+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",e+="-----END PUBLIC KEY-----"},pn.prototype.hasPublicKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")},pn.prototype.hasPrivateKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},pn.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)};var Wn=function(e){pn.call(this),e&&("string"==typeof e?this.parseKey(e):(this.hasPrivateKeyProperty(e)||this.hasPublicKeyProperty(e))&&this.parsePropertiesFrom(e))};Wn.prototype=new pn,Wn.prototype.constructor=Wn;var zn=function(e){e=e||{},this.default_key_size=parseInt(e.default_key_size)||1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null};zn.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new Wn(e)},zn.prototype.setPrivateKey=function(e){this.setKey(e)},zn.prototype.setPublicKey=function(e){this.setKey(e)},zn.prototype.decrypt=function(e){try{return this.getKey().decrypt(Sn(e))}catch(t){return!1}},zn.prototype.encrypt=function(e){try{return Cn(this.getKey().encrypt(e))}catch(t){return!1}},zn.prototype.getKey=function(e){if(!this.key){if(this.key=new Wn,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},zn.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},zn.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},zn.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},zn.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.JSEncrypt=zn}(d.lib.RSAExport),d.lib.RSA=d.lib.RSAExport.JSEncrypt;var f=0,m=8;h.control.Layer=p.lang.createClass(function(e){this.width="auto",this.height="auto",p.object.extend(this,e||{})},{type:"magic.control.Layer",superClass:h.Base}).extend({show:function(){this.fire("onbeforeshow")&&(this.getElement().style.display="",this.fire("onshow"))},hide:function(){this.fire("onbeforehide")&&(this.getElement().style.display="none",this.fire("onhide"))},setWidth:function(e){p.dom.setPixel(this.getElement(),"width",this.width=e)},setHeight:function(e){p.dom.setPixel(this.getElement(),"height",this.height=e)},setSize:function(e){this.setWidth(e.width||e[0]),this.setHeight(e.height||e[1])}}),h.control.Popup=p.lang.createClass(function(e){var t=this;t.visible=!1,t.autoHide=!0,t.hideOnEscape=!0,t.disposeOnHide=!1,t.smartPosition=!1,t.offsetX=0,t.offsetY=0,p.object.extend(this,e||{}),t._parent=null,t._host=null,t._init_control_popup()},{superClass:h.control.Layer,type:"magic.control.Popup"}).extend({setContent:function(e){this.getElement("content").innerHTML=e},attach:function(e,t){p.dom(e).size()&&(p.object.extend(this,t||{}),this._host=p(e)[0],this.show())},reposition:function(e){var t=this;if(!e&&t._host&&(e=p.dom(t._host).offset()),e&&(t.top=e.top+t.offsetY+t._host.offsetHeight,t.left=e.left+t.offsetX,t._resupinate=!1,t.smartPosition)){var n=t.getElement().offsetHeight,i=p.page.getViewHeight(),r=p.page.getScrollTop(),s=e.top-t.offsetY-n;t.top+n>r+i&&s>r&&r+i>s&&(t.top=e.top-t.offsetY-n,t._resupinate=!0)}t.fire("reposition"),t.setPosition([t.left,t.top])},setPosition:function(e){this.setTop(e.top||e[1]),this.setLeft(e.left||e[0])},setTop:function(e){p.dom(this.getElement()).css("top",(this.top=e)+"px")},setLeft:function(e){p.dom(this.getElement()).css("left",(this.left=e)+"px")},_init_control_popup:function(){function e(){r.reposition()}function t(e){27==e.keyCode&&r.hideOnEscape&&r.autoHide&&r.hide()}function n(){var e=r;do o[e.guid]=!0,e=e._parent;while(e)}function i(i){r.visible=!1,delete s[r.guid],r._host&&p.dom(r._host).off("click",n),p.dom(r.getElement()).off("click",n),p.dom(window).off("resize",e),p.dom(document).off("keyup",t),i&&r.$dispose()}var r=this,s=p.global.get("popupList"),o=p.global.get("popupProtect");r.on("show",function(){r.reposition(),setTimeout(function(){r.guid&&(s[r.guid]=!0)},1),r._host&&p.dom(r._host).on("click",n),p.dom(r.getElement()).on("click",n),p.dom(window).on("resize",e),p.dom(document).on("keyup",t),"auto"!=r.width&&r.setWidth(r.width),"auto"!=r.height&&r.setHeight(r.height),r.visible=!0}),r.on("hide",function(){i(r.disposeOnHide)}),r.on("dispose",function(){i(!1)})}}),function(){function e(){for(var e in t){var i=g(e);!n[e]&&i.autoHide&&i.hide()}for(var e in n)delete n[e]}var t=p.global.set("popupList",{},!0),n=p.global.set("popupProtect",{},!0);p.dom(window).on("resize",e),p.dom(window).on("scroll",e),p.dom(document).on("click",e)}(),h.Background=p.lang.createClass(function(e){var t=e||{},n=this;n.coverable=t.coverable||!1,n.styleBox=t.styleBox,n.tagName="div";var i="filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;";n._coverDom="<div style='"+i+"opacity:0;background-color:#FFFFFF'></div>";var r=p.browser;r.ie<7&&(n._coverDom="<iframe frameborder='0' style='"+i+"' src='"+("https:"==(window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase())?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank")+"'></iframe>"),r.ie&&(!r.isStrict||r.ie<8)&&(n.size=[0,0],n.timer=setInterval(function(){n._forIE()},80)),this._innerHTML="<div class='tang-background-inner' style='width:100%;height:100%;' id='"+this.$getId("inner")+"'></div>"},{type:"magic.Background",superClass:h.Base}).extend({render:function(e){var t=p.dom(e).get(0);t!=document.body&&"static"==p.dom(t).css("position")&&(t.style.position="relative"),p.dom(t).insertHTML("afterbegin",this.toHTMLString())},$dispose:function(){var e=this.getElement();e.parentNode.removeChild(e),clearInterval(this.timer)},toHTMLString:function(e){return["<",e||this.tagName," class='tang-background",p.browser.ie<7?" ie6__":"","' id='",this.$getId(),"' style='position:absolute; top:0px; left:0px;",this.timer?"width:10px;height:10px;":"width:100%;height:100%;","z-index:-9; -webkit-user-select:none; -moz-user-select:none;' ","onselectstart='return false'>",this._innerHTML,this.coverable?this._coverDom||"":"","</",e||this.tagName,">"].join("")},setContent:function(e){this.getElement("inner").innerHTML=e},_forIE:function(){if(this.guid&&this.layer||(this.layer=this.getElement())&&this.layer.offsetHeight){var e=this.layer,t=this.container||e.parentNode;if(t&&t.style){var n=t.style,i=parseInt(n.borderTopWidth)||0,r=parseInt(n.borderRightWidth)||0,s=parseInt(n.borderBottomWidth)||0,o=parseInt(n.borderLeftWidth)||0,a=t.offsetWidth-r-o,c=t.offsetHeight-i-s;if((this.size[0]!=a||this.size[1]!=c)&&(e.style.width=(this.size[0]=a)+"px",e.style.height=(this.size[1]=c)+"px"),this.styleBox&&this.table||(this.table=this.getElement("table"))){var l,u;l=l||parseInt(p.dom(this.table.rows[0]).getCurrentStyle("height")),u=u||parseInt(p.dom(this.table.rows[2]).getCurrentStyle("height")),this.table.rows[0].style.height=l+"px",this.table.rows[2].style.height=u+"px",this.table.rows[1].style.height=this.layer.offsetHeight-l-u+"px"}}}}}),function(){h.Popup=function(t){var n=this;h.control.Popup.call(n,t),n.content="",n.className="",n.styleBox=!1,p.object.extend(this,t||{});var i=e.produce();n.$mappingDom("",i.getElement()),n.$mappingDom("content",i.getElement("content")),i.getElement().style.zIndex=p.global.getZIndex("popup"),n.setContent(n.content),n.className&&p.dom(i.getElement()).addClass(n.className),n.on("dispose",function(){n.className&&p.dom(i.getElement()).removeClass(n.className),n.setContent(""),i.busy=!1
})},p.lang.inherits(h.Popup,h.control.Popup,"magic.Popup");var e={list:[],produce:function(){for(var e=0,t=this.list.length;t>e;e++)if(!this.list[e].busy)return this.list[e].busy=!0,this.list[e];var n=new h.Base;return p.dom(document.body).insertHTML("afterbegin",["<div class='tang-popup' id='",n.$getId(),"' ","style='position:absolute; display:none;'>",(n.background=new h.Background({coverable:!1})).toHTMLString(),"<div class='tang-foreground' id='",n.$getId("content"),"'></div>","</div>"].join("")),n.busy=!0,this.list.push(n),n}}}(),h.control.Suggestion=p.lang.createClass(function(e){var t=this;p.object.extend(this,e||{}),t.dataCache={},t.enableIndexs=[],t.selectedIndex=-1,t.currentQuery="",t.oldInputValue="",t.upDownArrowTimer=null,t.on("onload",function(){function e(){i=setInterval(function(){var e=n.value;!e&&t.isShowing()?t._hide():e!=t.oldInputValue&&(e&&t.fire("onneeddata",e),t.oldInputValue=e)},100)}var n=t.getElement("input"),i=null;t.oldInputValue=t.getElement("input").value,e();var r=function(){return t._keydownHandler()}(),s=function(){i&&(clearInterval(i),e()),t.upDownArrowTimer&&(clearTimeout(t.upDownArrowTimer),t.upDownArrowTimer=null)};p.dom(n).on("keydown",r),p.dom(n).on("keyup",s),t.on("onmousedownitem",function(){clearInterval(i),setTimeout(function(){e()},500)}),t.on("ondispose",function(){p.dom(n).off("keydown",r),p.dom(n).off("keyup",s),clearInterval(i)})}),t.on("onrender",function(){var e=(t.getElement("input"),t.getElement("suggestion")),n=function(){t.hide()},i=function(n){var n=n||window.event,i=n.target||n.srcElement;t.suggestion&&(i==e||p.dom.contains(e,i)||i==t.getElement("input")||t.hide())};p.dom(window).on("blur",n),p.dom(document).on("click",i),t.on("ondispose",function(){p.dom(window).off("blur",n),p.dom(document).off("click",i)})}),t.on("onneeddata",function(e,n){var i=t.dataCache;t.currentQuery=n,"undefined"==typeof i[n]?t.getData(n):(t.currentData=i[n],t.currentData.length>0?t.show():t.hide())}),t.on("beforeshow",function(){var e=t.currentData,n=0,i=e.length;for(t.enableIndexs=[];i>n;n++)("undefined"==typeof e[n].disable||0==e[n].disable)&&t.enableIndexs.push(n)})},{type:"magic.control.Suggestion",superClass:h.Base}).extend({tpl:{fix:"<div id='#{0}' class='#{1}'>#{2}</div>",body:'<table cellspacing="0" cellpadding="2" class="tang-suggestion-table"><tbody>#{0}</tbody></table>',item:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}">#{1}</td></tr>'},render:function(){var e=this,t=new h.Popup({autoHide:!1,autoTurn:!1,disposeOnHide:!1});return popupContainer=t.getElement(),p.dom(popupContainer).addClass("tang-suggestion-popup"),e.$mappingDom("suggestion",popupContainer),e.suggestion=t,p.dom(e.getElement("input")).attr("autocomplete","off"),e.fire("onrender"),popupContainer},isShowing:function(){var e=this,t=e.getElement("suggestion");return t&&"none"!=p.dom(t).css("display")},show:function(){var e=this,t=e.getElement("suggestion")||e.render(),n=e.getElement("input"),i=e.offset&&e.offset.width||n.offsetWidth,r=e.fire("beforeshow");return r===!1?!1:(e.suggestion.setContent(e._getSuggestionString()),e.suggestion.attach(n,{offsetX:e.offset&&e.offset.offsetX||0,offsetY:e.offset&&e.offset.offsetY||-1}),p.dom(t).css("width",parseInt(i)+"px"),p.dom(t).css("display","block"),e.selectedIndex=-1,void e.fire("onshow"))},hide:function(){var e=this,t=e.getElement("suggestion");if(t&&e.isShowing()){if(e.selectedIndex>=0&&e.holdHighLight){var n=e.currentData,i=e.enableIndexs[e.selectedIndex];!n[i]||"undefined"!=typeof n[i].disable&&0!=n[i].disable||e.$pick(i)}else e.oldInputValue=e.getElement("input").value;e._hide()}},_hide:function(){var e=this,t=e.getElement("suggestion");p.dom(t).css("display","none"),e.selectedIndex=-1,e.fire("onhide")},_getSuggestionString:function(){function e(e){return p.string.format(n.tpl.fix,n.$getId(e),n._getClass(e),n[e+"HTML"])}var t,n=this,i="",r=[],s=n.currentData,o=s.length,a=0;n.prependHTML&&(i+=e("prepend"));for(var c=h._baiduInstName;o>a;a++)t=c+"('"+n.guid+"')",r.push(p.string.format(n.tpl.item,n.$getId("item"+a),s[a].content,t+"._mouseOver(event, "+a+")",t+"._mouseOut(event, "+a+")",t+"._mouseDown(event, "+a+")",t+"._mouseClick(event, "+a+")","undefined"==typeof s[a].disable||0==s[a].disable?"":"tang-suggestion-disable"));return i+=p.string.format(n.tpl.body,r.join("")),n.appendHTML&&(i+=e("append")),i},getInputValue:function(){return this.getElement("input").value},getDataByIndex:function(e){return this.currentData[e]},_isEnable:function(e){var t=this;return p.array(t.enableIndexs).contains(e)},_getItemDom:function(e){return p.dom("#"+this.$getId("item"+e)).get(0)},_getClass:function(e){return"tang-suggestion-"+e},_focus:function(e){var t=this.enableIndexs;this.$pick(t[e]),this.$highlight(t[e])},$highlight:function(e){var t=this,n=t.enableIndexs,i=null;t._isEnable(e)&&(t.selectedIndex>=0&&t.$clearHighlight(),i=t._getItemDom(e),p.dom(i).addClass("tang-suggestion-current"),t.selectedIndex=p.array(n).indexOf(e),t.fire("onhighlight",{index:e,value:t.getDataByIndex(e).value}))},$clearHighlight:function(){var e=this,t=e.selectedIndex,n=null;index=0,index=e.enableIndexs[t],t>=0&&(n=e._getItemDom(index),p.dom(n).removeClass(e._getClass("current")),e.selectedIndex=-1,e.fire("onclearhighlight",{index:index,value:e.getDataByIndex(index).value}))},$pick:function(e){var t=this,n=t.currentData,i=n[e];t.fire("onbeforepick",{index:e,value:i.value})&&(t.getElement("input").value=i.value,t.oldInputValue=i.value,t.fire("onpick",{index:e,value:i.value}))},$confirm:function(e){var t=this;t._isEnable(e)&&(t.$pick(e),t.fire("onconfirm",{index:e,value:t.getDataByIndex(e).value}),t._hide())},_wrapData:function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push("undefined"!=typeof e[n].value?e[n]:{value:e[n],content:p.string.encodeHTML(e[n])});return t},getData:function(){},receiveData:function(e,t){var n=this,i=n.$cacheData(e,t);n.selectedIndex=-1,e==n.getInputValue()&&(n.currentData=i,t.length>0?n.show():n.hide())},$cacheData:function(e,t){var n=this,i=n._wrapData(t);return n.dataCache[e]=i,i},_mouseOver:function(e,t){var n=this;e=p.event(e),e.stopPropagation(),n._isEnable(t)&&(n.$highlight(t),n.selectedIndex=p.array(n.enableIndexs).indexOf(t)),n.fire("onmouseoveritem",{index:t,value:n.getDataByIndex(t).value})},_mouseOut:function(e,t){var n=this;e=p.event(e),e.stopPropagation(),n.holdHighLight||n._isEnable(t)&&n.$clearHighlight(),n.fire("onmouseoutitem",{index:t,value:n.getDataByIndex(t).value})},_mouseDown:function(e,t){var n=this;e=p.event(e),e.stopPropagation(),n.fire("onmousedownitem",{index:t,value:n.getDataByIndex(t).value})},_mouseClick:function(e,t){var n=this;e=p.event(e),e.stopPropagation(),n.fire("onmouseclick",{index:t,value:n.getDataByIndex(t).value}),n.$confirm(t)},_keydownHandler:function(){function e(e){var n=t.getInputValue(),i=t.enableIndexs,r=t.selectedIndex;if(n){if(n&&!t.isShowing())return void t.fire("onneeddata",n);if(0!=i.length&&!t.upDownArrowTimer){if(t.upDownArrowTimer=setTimeout(function(){clearTimeout(t.upDownArrowTimer),t.upDownArrowTimer=null},200),"up"==e)switch(r){case-1:t.$clearHighlight(),r=i.length-1,t._focus(r);break;case 0:r=-1,t.$clearHighlight(),t.getElement("input").value=t.currentQuery,t.oldInputValue=t.currentQuery;break;default:r--,t._focus(r)}else switch(r){case-1:r=0,t._focus(r);break;case i.length-1:r=-1,t.$clearHighlight(),t.getElement("input").value=t.currentQuery,t.oldInputValue=t.currentQuery;break;default:r++,t._focus(r)}t.selectedIndex=r}}}var t=this;return function(n){var i="up";switch(n.keyCode){case 27:case 9:t.hide();break;case 13:n.preventDefault(),n.stopPropagation(),t.selectedIndex>=0&&t.holdHighLight?t.$confirm(t.enableIndexs[t.selectedIndex]):(t.fire("onconfirm",{data:t.getInputValue()}),t.isShowing()&&t._hide());break;case 40:i="down";case 38:n.preventDefault(),n.stopPropagation(),e(i)}}},$dispose:function(){var e=this;e.disposed||(e.suggestion&&(e.suggestion.$dispose(),e.hide()),h.Base.prototype.$dispose.call(e))}}),h.setup.suggestion=function(e,t){var e=p.dom("#"+e).get(0),n=h.setup(e,h.control.Suggestion,t);return n.$mappingDom("input",e),n.fire("onload"),n};var d=d||window.passport||{};d.err=d.err||{},function(e){var t=null;t="function"===(typeof e.getCurrent).toLowerCase()?e.getCurrent():{errMsg:{},labelText:{}},t.errMsg.reg={"-1":{msg:'系统错误,休息一会儿,请您稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"isAgree"},100027:{msg:"百度正在进行系统升级，暂时不能提供服务，敬请谅解",field:"isAgree"},110002:{msg:"用户名仅支持中英文、数字和下划线,且不能为纯数字",field:"userName"},130006:{msg:'您的用户名不可用,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"userName"},130007:{msg:'您的用户名不可用,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"userName"},110023:{msg:'该邮箱已注册可<a href="http://passport.baidu.com/v2/?login#{urldata}">直接登录</a>,如忘记密码<a href="http://passport.baidu.com/?getpassindex#{urldata}">点此处找回</a>',field:"email"},110024:{msg:'该邮箱已被注册,但未激活,请到验证邮件中激活或者<a href="#{gotourl}" target="_blank">重发验证邮件</a>',field:"email"},130036:{msg:'为了确保您能及时收到邮件,请使用<a href="http://www.baidu.com/search/passport_help.html#09" target="_blank">主流邮箱</a>',field:"email"},10:{msg:"请您填写用户名",field:"userName"},11:{msg:"用户名仅支持中英文、数字和下划线,且不能为纯数字",field:"userName"},12:{msg:"用户名仅支持中英文、数字和下划线,且不能为纯数字",field:"userName"},14:{msg:"此用户名太受欢迎,请更换一个",field:"userName"},15:{msg:"您的用户名不可用",field:"userName"},16:{msg:'系统错误,请您稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"isAgree"},20:{msg:"请填写密码",field:"password"},21:{msg:"密码必须由8-14个字符组成",field:"password"},22:{msg:"密码与确认密码不一致",field:"verifyPass"},23:{msg:"密码仅能由数字,字母和符号组成 / 密码中不能含有空格",field:"password"},24:{msg:"您的密码太过简单,请使用字母和数字的组合,否则无法注册成功",field:"password"},30:{msg:"请您输入新的邮箱",field:"email"},31:{msg:"您填写的邮箱格式有误,请重新输入",field:"email"},40:{msg:"请输入验证码",field:"verifyCode"},41:{msg:"验证码格式错误",field:"verifyCode"},42:{msg:"您输入的验证码有误",field:"verifyCode"},"-2":{msg:'服务正在升级中,请您稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:""}},t.errMsg.regPhone={"-1":{msg:'系统错误,休息一会儿,请您稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"isAgree"},100027:{msg:"百度正在进行系统升级，暂时不能提供服务，敬请谅解",field:"isAgree"},130018:{msg:"请您输入手机号",field:"phone"},130019:{msg:"您输入的手机号格式有误",field:"phone"},130020:{msg:"该手机已注册可直接登录",field:"phone"},130035:{msg:'您的手机号已被注册,请<a href="http://passport.baidu.com/v2/?login#{urldata}">直接登录</a>或更换手机号注册',field:"phone"},130017:{msg:"发送短信过多,请24小时后再试",field:"verifyCodeSend"},130038:{msg:"发送短信过于频繁,请您稍后再试",field:"verifyCodeSend"},130010:{msg:"请您输入密码",field:"password"},130011:{msg:"密码必须由8-14个字符组成",field:"password"},110013:{msg:"密码仅支持数字,字母和符号,且密码中不能含有空格",field:"password"},110012:{msg:"密码过于简单,建议使用数字加字母组合,否则无法注册成功",field:"password"},130023:{msg:"请输入短信激活码",field:"smsCode"},130021:{msg:"请您输入短信激活码",field:"smsCode"},130022:{msg:"短信激活码错误",field:"smsCode"},130003:{msg:"您输入的短信激活码有误",field:"smsCode"},130036:{msg:'为了确保您能及时收到邮件,请使用<a href="http://www.baidu.com/search/passport_help.html#09" target="_blank">主流邮箱</a>',field:"smsCode"},130037:{msg:"激活码错误次数过多,请24小时后重新注册",field:"smsCode"},130004:{msg:"激活码已失效,请您重新获取",field:"smsCode"},130032:{msg:"您还未接受百度用户协议,请勾选",field:"isAgree"},130039:{msg:'系统繁忙,请稍后再试,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:"isAgree"},130040:{msg:"",field:""},130044:{msg:"系统检测到当前帐号通过非法渠道注册，为了您的帐号安全，请更换手机号重试",field:""},130041:{msg:"验证码为空",field:"confirmVerifyCode"},130042:{msg:"验证码错误",field:"confirmVerifyCode"},340001:{msg:'网络不给力， 请刷新重试 ,<a href="http://passport.baidu.com/v2/?ucenterfeedback#{urldata}#reg">帮助中心</a>',field:""},400001:{msg:"已被其他帐号绑定",field:"phone"},400003:{msg:"已被其他帐号绑定",field:"phone"},400005:{msg:"已被其他帐号绑定",field:"phone"},400603:{msg:"当前您的手机号码仅支持快速注册，请您采用快速注册方式，注册百度帐号",field:"phone"},50023:{msg:"1个手机号30日内最多换绑3个账号",field:"phone"},50024:{msg:"注册过于频繁，请稍候再试",field:""},50025:{msg:"注册过于频繁，请稍候再试；也可以通过上行短信的方式进行注册",field:""},50030:{msg:"抱歉，该手机号的申请次数已达当日上限，请更换手机号",field:"phone"},50031:{msg:"抱歉，该手机号的申请次数已达当月上限，请更换手机号",field:"phone"},50032:{msg:"抱歉，该手机号的申请次数已达本季度上限，请更换手机号",field:"phone"},50036:{msg:"注册过于频繁，请稍后再试"},130045:{msg:"系统检测到当前帐号通过非法渠道注册，为了您的帐号安全，请使用正规渠道注册",field:"verifyCode"},50043:{msg:"当前浏览器版本过低，请升级或更换浏览器后重试",field:""},100060:{msg:"因系统升级暂不支持注册，预计6月7日恢复服务",field:"verifyCode"},71e3:{msg:"",field:""}},t.labelText.reg={captcha:"验证码",captchaAlt:"验证码图片",captchaChange:"换一张",captchaTip:"请输入图片中的字符,不区分大小写",agree:"阅读并接受",password:"密码",passwordPlaceholder:"请设置登录密码",baiduUserProtocal:"《百度用户协议》",getSMSKey:"获取短信验证码",register:"注册",strength:"强度：",strengthTip:"密码长度6~14位,字母区分大小写",phoneNum:"手机号",phoneNumTip:"请输入中国大陆手机号,其他用户不可见",foreignMobileError:"手机号码格式不正确",SMSKey:"短信激活码",SMSKeyTip:"请输入您手机短信中的激活码",SMSKeySendTip:'短信激活码已发送,请您在30分钟内填写。<a href="http://help.baidu.com/question?prod_en=passport&class=%D7%A2%B2%E1%BC%B0%B5%C7%C2%BC&id=1000318" target="_blank">无法获取</a>？',VoiceKeySendTip:'语音激活码已发送,请您在30分钟内填写。<a href="http://help.baidu.com/question?prod_en=passport&class=%D7%A2%B2%E1%BC%B0%B5%C7%C2%BC&id=1000318" target="_blank">无法获取</a>？',SMSKeyResendTip:"秒后重新获取激活码",SMSKeyResendTipMerge:"重新发送",account:"手机/邮箱",accountTip:"请输入中国大陆手机号或常用邮箱,可用于登录和找回密码,注册成功后,所有百度产品通用",account_username:"帐号",accountTip_username:"请输入中国大陆手机号/常用邮箱/用户名",email:"邮箱",emailTip:"请输入常用邮箱,通过验证后可用于登录和找回密码",userName:"用户名",userNamePlaceholder:"请设置用户名",userNameTip:"设置后不可更改<br>中英文均可，最长14个英文或7个汉字",confirmPassword:"确认密码",mailLengthError:"邮箱地址过长,请更换较短邮箱,总体不超过60个字符",mainEmailError:'为了确保您能及时收到邮件,请使用<a href="http://www.baidu.com/search/passport_help.html#09" target="_blank">主流邮箱</a>',pwdCharError:"密码仅支持数字,字母和符号,且密码中不能含有空格",matchPwdError:"密码与确认密码不一致",pwdLengthError:"密码必须由8-14个字符组成",checkLicenseError:"请勾选“阅读并接受百度用户协议”",userNameRulesError:"用户名不能超过7个汉字或14个字符",userNameNumberError:"用户名仅支持中英文、数字和下划线,且不能为纯数字",weakPwdError:"您的密码太过简单,请使用字母、数字和符号的组合,以便完成注册",userNameExistsError:"此用户名太受欢迎,请更换一个",nopwd:"",nopwdMsg:"请输入密码",weak:"弱",weakMsg:"请重新设置,试试数字、字母、符号组合",middle:"中",middleMsg:"您的密码还可以更复杂些",strong:"强",strongMsg:"您的密码很安全,请牢记！",placeholder:"可用于登录和找回密码",regMergePlaceholder:"手机/邮箱",regMergePlaceholder_username:"手机/邮箱/用户名",matchGmailError:"gmail邮箱收信时会自动过滤用户名内的圆点,您可以去掉用户名内的圆点直接注册",emailLimitError:"不能使用该邮箱",accountMergeError:"请填写正确的手机/邮箱",accountEmpty:"邮箱/手机",accountEmpty_username:"邮箱/手机/用户名",emailEmptyError:"您填写的邮箱格式有误,请重新输入",phoneEmptyError:"您填写的手机号格式有误,请输入11位大陆手机号",confirmVerCodeEmpty:"验证码为空",pwdChecklist_len:"长度为8~14个字符",pwdChecklist_cha:"支持数字,大小写字母和标点符号",pwdChecklist_spa:"不允许有空格",verifyCode:"验证码",verifyCodePlaceholder:"请输入验证码",smsVerifyCode:"短信激活码",sysUpdate:"服务正在升级中,请您稍后再试",multiTip:"一个手机号绑带多个帐号？<a href='http://passport.baidu.com/export/multi/index.html' target='_blank'>立即体验</a>",notsafeMsg:"为了提升您的帐号安全，建议不要使用您的常用密码，请重新输入",notsafe:"",baiduPersonalProtocal:"《百度隐私权保护声明》",sysError:"系统错误，休息一会儿，请稍后再试"},e.getCurrent=function(){return t}}(d.err);var d=d||window.passport||{};d.data=d.data||{},function(e){function t(e){this._requests=[],this._value=null,this._exception=null,this._isComplete=!1;var t=this;e(function(e){t._fulfillPromise(e)},function(e){t._breakPromise(e)})}function n(e,t,n){return t?n?function(n){return n=n||{},l.submit(u+t,i(n,e,g[e],f[e],!0),{charset:"utf-8",processData:function(t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i&&(t[n]=decodeURIComponent(i))}return r(e,t)}})}:function(n){return l.jsonp(u+t,i(n,e,g[e],f[e],!1),{charset:"utf-8",processData:function(t){return r(e,t)}})}:a}function i(e,t,n,i,r){var s=r?{staticpage:E.staticPage,charset:E.charset||document.characterSet||document.charset||""}:{},o=m[t];if(o)for(var a in o){if(o.hasOwnProperty(a)){var l=o[a];s[a]="function"==typeof l?l(e):l}"verifypass"==a&&(s[a]=decodeURIComponent(s[a]))}if(s.token=E.token,s.tpl=E.product||"",s.subpro=E.subpro,s.apiver="v3",s.tt=(new Date).getTime(),e){n=n||{},i=i||{};for(var a in e)if(e.hasOwnProperty(a)){var u=i[a],d=u?u(e[a],e):e[a];"string"==typeof d&&(r&&(d=decodeURIComponent(d)),v[a]||(d=c.trim(d))),s[n[a]||a.toLowerCase()]=d}}return s}function r(t,n){if(e&&e.traceID&&e.traceID.getTraceID&&e.traceID.getTraceID(n),n){var i=y[t];i&&i(n);var r=n.errInfo,o=n,a=o;return r?o.errInfo=s(t,r,o):(r={no:n.err_no,msg:n.err_msg||""},delete o.err_no,delete o.err_msg,a={data:o,errInfo:s(t,r,o)}),a}return n}function s(e,t){var n=b[w[e]||e];if(n&&t&&0!=t.no){var i=n[t.no]||n[-1];if(i){var r=i.msg;t.msg=r,t.field=i.field}}return t}function o(t){if(e&&e.traceID&&e.traceID.getTraceID&&e.traceID.getTraceID(t),t){var n=t.errInfo,i=t;if(!n)for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];s&&(t[r]=decodeURIComponent(s))}n||(n={no:t.err_no,msg:t.err_msg||""},delete i.err_no,delete i.err_msg,t={data:i,errInfo:n})}return t}var a=function(){};t.prototype={get_isComplete:function(){return this._isComplete},get_value:function(){if(!this._isComplete)return void 0;if(this._exception)throw this._exception;return this._value},call:function(e){for(var t=[],n=0,i=arguments.length-1;i>n;n++)t[n]=arguments[n+1];return this.when(function(n){return n[e].apply(n,t)})},getValue:function(e){return this.when(function(t){return t[e]})},setValue:function(e,t){this.whenOnly(function(n){n[e]=t})},when:function(e,n,i){return t.when(this,e,n,i)},whenOnly:function(e,n,i){t.whenOnly(this,e,n,i)},success:function(e,t){return this.when(e,a,t)},fail:function(e,t){return this.when(a,e,t)},_enqueueOne:function(e){this._isComplete?this._notify(e):this._requests.push(e)},_notify:function(e){this._exception?e.breakPromise&&e.breakPromise(this._exception):e.fulfillPromise&&e.fulfillPromise(this._value)},_notifyAll:function(){for(var e=0,t=this._requests.length;t>e;e++)this._notify(this._requests[e])},_fulfillPromise:function(e){this._value=e,this._exception=null,this._isComplete=!0,this._notifyAll()},_breakPromise:function(e){this._value=null,this._exception=e||new Error("An error occured"),this._isComplete=!0,this._notifyAll()}},t.when=function(e,n,i,r){return new t(function(s,o){t.make(e)._enqueueOne({fulfillPromise:function(e){s(n?n.call(r,e):e)},breakPromise:function(e){if(i)try{s(i.call(r,e))}catch(t){o(t)}else o(e)}})})},t.whenOnly=function(e,n,i,r){t.make(e)._enqueueOne({fulfillPromise:function(e){n&&n.call(r,e)},breakPromise:function(e){i&&i.call(r,e)}})},t.make=function(e){return e instanceof t?e:t.immediate(e)},t.immediate=function(e){return new t(function(t){t(e)})};var c={};!function(e){var t=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");e.trim=function(e){return String(e).replace(t,"")},e.getUniqueId=function(e){return e+Math.floor(2147483648*Math.random()).toString(36)},e.g=function(e){return e?"string"==typeof e||e instanceof String?document.getElementById(e):!e.nodeName||1!=e.nodeType&&9!=e.nodeType?null:e:null},e.getParent=function(t){return t=e.g(t),t.parentElement||t.parentNode||null},e.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},e.array=e.array||{},e.array.indexOf=function(e,t,n){var i=e.length;for(n=0|n,0>n&&(n=Math.max(0,i+n));i>n;n++)if(n in e&&e[n]===t)return n;return-1},e.browser=e.browser||{},e.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,e.insertHTML=function(t,n,i){t=e.g(t);var r,s;return t.insertAdjacentHTML&&!e.browser.opera?t.insertAdjacentHTML(n,i):(r=t.ownerDocument.createRange(),n=n.toUpperCase(),"AFTERBEGIN"==n||"BEFOREEND"==n?(r.selectNodeContents(t),r.collapse("AFTERBEGIN"==n)):(s="BEFOREBEGIN"==n,r[s?"setStartBefore":"setEndAfter"](t),r.collapse(s)),r.insertNode(r.createContextualFragment(i))),t}}(c),e.base=c;var l={};!function(n){var i="__bdpp_pstc__"+(new Date).getTime(),r=i+"_form",s=i+"_ifr",o=function(e){if("object"==typeof e){var t=[];for(var n in e){var i=e[n];if(void 0!==i&&null!==i){t.length&&t.push("&");var r=encodeURIComponent("boolean"==typeof i?i?"1":"0":i.toString());t.push(encodeURIComponent(n),"=",r)}}return t.join("")}return"string"==typeof e?e:null},a=function(e,t){if(t=o(t),"string"==typeof t){var n=/\?/g.test(e);e+=(n?"&":"?")+o(t)}return e},l=function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},u=function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},d=function(e,t,n){function i(e){return function(){try{e?d.onfailure&&d.onfailure():(t.apply(window,arguments),clearTimeout(s)),window[r]=null,delete window[r]}catch(n){}finally{u(o)}}}var r,s,o=document.createElement("SCRIPT"),a="bd__cbs__",d=n||{},p=d.charset,h=d.queryField||"callback",g=d.timeOut||0,f=new RegExp("(\\?|&)"+h+"=([^&]*)");r=c.getUniqueId(a),window[r]=i(0),g&&(s=setTimeout(i(1),g)),e=e.replace(f,"$1"+h+"="+r),e.search(f)<0&&(e+=(e.indexOf("?")<0?"?":"&")+h+"="+r),l(o,e,p)},p=function(e,t){var n=[];n.push("<form id='",r,"' target='",s,"' "),n.push("action='",c.encodeHTML(e),"' method='post'>");for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(void 0!==o&&null!==o){var a=c.encodeHTML("boolean"==typeof o?o?"1":"0":o);n.push("<input type='hidden' name='",c.encodeHTML(i),"' value='",a,"' />")}}return n.push("</form>"),n.join("")},h=function(e,t,n,o){function a(e){return function(){try{e?o.onfailure&&o.onfailure():(n.apply(window,arguments),u&&clearTimeout(u)),window[d]=null,delete window[d]}catch(t){}}}o=o||{};var l=o.timeOut||0,u=!1,d=c.getUniqueId("bd__pcbs__");t[o.queryField||"callback"]="parent."+d;var h=p(e,t);if(c.g(r))c.getParent(r).innerHTML=h;else{var g=[];g.push("<div id='",i,"' style='display:none;'>"),g.push("<div>",h,"</div>"),g.push("<iframe name='",s,"' src='"+("https:"==(window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase())?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank")+"' style='display:none;'></iframe>"),g.push("</div>"),c.insertHTML(document.body,"beforeEnd",g.join(""))}window[d]=a(),l&&(u=setTimeout(a(1),l)),c.g(r).submit()};n.jsonp=function(n,i,r){return r=r||{},e&&e.traceID&&e.traceID.createTraceID&&(i.traceid=e.traceID.createTraceID()),new t(function(e,t){n=a(n,i),d(n,function(t){r.processData&&(t=r.processData(t)),e&&e(t)},{charset:r.charset,queryField:r.queryField,timeOut:r.timeOut,onfailure:function(){t&&t()}})})},n.submit=function(n,i,r){return e&&e.traceID&&e.traceID.createTraceID&&(i.traceid=e.traceID.createTraceID()),n&&i?new t(function(e){h(n,i,function(t){r.processData&&(t=r.processData(t)),e&&e(t)},r)}):void 0};var g=[];n.load=function(e){return new t(function(t){var n=g.push(new Image)-1,i=!1,r=setTimeout(function(){i=!0,t&&t()},1e3);g[n].onload=function(){clearTimeout(r),i||t&&t(),i=!0,g[n]=g[n].onload=null},g[n].src=e})}}(l);var u="https://passport.baidu.com",p={getApiInfo:"/v2/api/?getapi",getLoginHistory:"/v2/api/?loginhistory",loginCheck:"/v2/api/?logincheck",getVerifyCodeStr:"/v2/?reggetcodestr",getRegSmsVerifyCodeStr:"/v2/?regsmscodestr",checkUserName:"/v2/?regnamesugg",checkPassword:"/v2/?regpwdcheck",checkMail:"/v2/?regmailcheck",isUserNoName:"/v2/api/?ucenteradduname",checkPhone:"/v2/?regphonecheck",getphonestatus:"/v2/?getphonestatus",sendPhoneCode:"/v2/?regphonesend",multiBind:"/v2/?multiaccountassociate",multiUnbind:"/v2/?multiaccountdisassociate",multiCheckUserName:"/v2/?multiaccountusername",multiGetaccounts:"/v2/?multiaccountget",multiSwitchuser:"/v2/?loginswitch",checkVerifycode:"/v2/?checkvcode",getRsaKey:"/v2/getpublickey",authwidGetverify:"/v2/sapi/authwidgetverify",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert",checkIDcardState:"/v3/finance/main/checkupcert"},h={login:"/v2/api/?login",reg:"/v2/api/?reg",fillUserName:"/v2/api/?ucenteradduname",regPhone:"/v2/api/?regphone",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert"},g={getApiInfo:{apiType:"class"},login:{memberPass:"mem_pass",safeFlag:"safeflg",isPhone:"isPhone",timeSpan:"ppui_logintime",logLoginType:"logLoginType"},fillUserName:{selectedSuggestName:"pass_fillinusername_suggestuserradio",timeSpan:"ppui_fillusernametime"},reg:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"},regPhone:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"}},f={loginCheck:{isPhone:function(e){return e?"true":"false"}},login:{memberPass:function(e){return e?"on":""}}},m={checkPassword:{fromreg:1},reg:{registerType:1,verifypass:function(e){return e.password}}},v={password:!0},y={login:function(){}},w={checkUserName:"reg",checkMail:"reg",checkPhone:"regPhone",sendPhoneCode:"regPhone",multiCheckUserName:"multiBind",multiSwitchuser:"changeUser",checkVerifycode:"checkVerifycode"},b=d.err.getCurrent().errMsg||d.err.getCurrent(),E={};e.setContext=function(e){E.product=e.product||E.product,E.charset=e.charset||E.charset,E.staticPage=e.staticPage||E.staticPage,E.token=e.token||E.token,E.subpro=e.subpro||E.subpro},e.traceID={headID:e.traceID&&e.traceID.headID||"",flowID:e.traceID&&e.traceID.flowID||"",cases:e.traceID&&e.traceID.cases||"",initTraceID:function(e){var t=this;e&&e.length>0?(t.headID=e.slice(0,6),t.flowID=e.slice(6,8)):t.destory()},createTraceID:function(){var e=this;return e.headID+e.flowID+e.cases},startFlow:function(e){var t=this,n=t.getFlowID(e);0===t.flowID.length||t.flowID===n?(t.createHeadID(),t.flowID=n):t.finishFlow(n)},finishFlow:function(){var e=this;e.destory()},getRandom:function(){return parseInt(90*Math.random()+10,10)},createHeadID:function(){var e=this,t=(new Date).getTime()+e.getRandom().toString(),n=Number(t).toString(16),i=n.length,r=n.slice(i-6,i).toUpperCase();e.headID=r},getTraceID:function(e){var t=this,n=e&&e.traceid||"";t.initTraceID(n)},getFlowID:function(e){var t={login:"01",reg:"02"};return t[e]},setData:function(e){var t=this;return e.data?e.data.traceid=t.createTraceID():e.url=e.url+(e.url.indexOf("?")>-1?"&":"?")+"traceid="+t.createTraceID(),e},destory:function(){var e=this;e.headID="",e.flowID=""}};for(var C in p)p.hasOwnProperty(C)&&(e[C]=n(C,p[C]));for(var C in h)h.hasOwnProperty(C)&&(e[C]=n(C,h[C],!0));e.jsonp=function(e,t){return 0!=e.indexOf("http")&&(e=u+e),t=t||{},t.flag_code&&1==t.flag_code||(t.apiver="v3"),t.tt=(new Date).getTime(),l.jsonp(e,t,{charset:"utf-8",processData:function(e){return o(e)}})},e.post=function(e,t){return t=t||{},"wap"!==t.apitype&&(e=u+e),t.staticpage=t.staticpage||E.staticPage,t.charset=t.charset||E.charset||document.characterSet||document.charset||"",t.token=t.token||E.token,t.tpl=t.tpl||E.product,l.submit(e,t,{charset:"utf-8",processData:function(e){return o(e)}})},e.request=l}(d.data);var d=d||window.passport||{};d.analysis=d.analysis||{},function(e){var t=function(e,t){var n=e.config.regMerge?1:0,i=e.config.product||"isnull",r=window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase(),s="",o="&tt="+(new Date).getTime(),a=e.guideRandom?e.guideRandom:"";for(var c in t)s=s+"&"+c+"="+t[c];if("http:"==r)var l="http://nsclick.baidu.com/v.gif?pid=111&url=&merge="+n+"&gid="+a+"&tpl="+i+s+o;else if("https:"==r)var l="https://passport.baidu.com/img/v.gif?merge="+n+"&gid="+a+"&tpl="+i+s+o;if(l){var u=new Image;u.onload=u.onerror=function(){u.onload=u.onerror=null,u=null},u.src=l}};e.reg={render:function(e){var n=e.getElement("form");return p(n).on("click",function(){e.REGFIRSTCLICK||(e.REGFIRSTCLICK=!0,t(e,{regtype:e.config.isPhone?"phone":"email",type:"regfirst"}))}),t(e,{type:"regfirstrender",regurl:encodeURIComponent(document.location.href)}),{preventEvent:!1,preventDefault:!1}},validateError:function(e, n){return n.validate&&t(e,{errno:encodeURIComponent(n.validate.msg),type:"regerrno"}),{preventEvent:!1,preventDefault:!1}},fieldKeyup:function(e){e.KEYUPFLAG||(t(e,{type:"typein",module:"reg"}),e.KEYUPFLAG=!0)}}}(d.analysis);var d=d||window.passport||{};return d.hook=d.hook||{},function(e){var t=window,n=window.document,i=window.document.body,r=window.document.documentElement,s={_createScriptTag:function(e, t, i){e.setAttribute("type","text/javascript"),i&&e.setAttribute("charset",i),e.setAttribute("src",t),n.getElementsByTagName("head")[0].appendChild(e)},_removeScriptTag:function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&"parentNode"!=t&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},on:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},unon:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},getSize:function(){return{t:i.scrollTop||r.scrollTop,l:i.scrollLeft||r.scrollLeft,w:r.clientWidth||i.clientWidth,h:t.innerHeight||r.clientHeight||i.clientHeight}},getEleWidth:function(e){return e.style.width&&sizeelem.style.width,e.currentStyle?e.currentStyle.width:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,"").getPropertyValue("width"):void 0},getEleHeight:function(e){return e.style.height&&sizeelem.style.height,e.currentStyle?e.currentStyle.height:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,"").getPropertyValue("height"):void 0},getPosition:function(e){var t=s.getSize(),r=e,o={t:0,l:0},a=/gecko/.test(navigator.userAgent),c=function(e,t){o.t+=e,o.l+=t};if(r&&r!=i)if(r.getBoundingClientRect){var l=r.getBoundingClientRect(),u=e.ownerDocument,d=u.body,p=u.documentElement,h=p.clientTop||d.clientTop||0,g=p.clientLeft||d.clientLeft||0;if(l.top==l.bottom){var f=r.style.display;r.style.display="block",r.style.display=f}c(l.top+t.t-h,l.left+t.l-g)}else{for(var m=n.defaultView;r;){c(r.offsetTop,r.offsetLeft);var v=m.getComputedStyle(r,null);if(a){var y=parseInt(v.getPropertyValue("border-left-width"),10)||0,w=parseInt(v.getPropertyValue("border-top-width"),10)||0;c(w,y),r!=e&&"visible"!=v.getPropertyValue("overflow")&&c(w,y)}r=r.offsetParent}for(r=e.parentNode;r&&r!=i;)c(-r.scrollTop,-r.scrollLeft),r=r.parentNode}return o},children:function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)1==n.nodeType&&t.push(n);return t},generateRandom:function(e,t){for(var n=e.length,i="",r=1;t>=r;r++){var s=Math.floor(n*Math.random());i+=e.charAt(s)}return i},getMousePos:function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:n.documentElement&&n.documentElement.scrollTop?{x:e.clientX+n.documentElement.scrollLeft-n.documentElement.clientLeft,y:e.clientY+n.documentElement.scrollTop-n.documentElement.clientTop}:n.body?{x:e.clientX+i.scrollLeft-i.clientLeft,y:e.clientY+i.scrollTop-i.clientTop}:void 0},getViewHeight:function(){var e="BackCompat"==n.compatMode?n.body:n.documentElement;return e.clientHeight},getScrollTop:function(){return window.pageYOffset||n.documentElement.scrollTop||i.scrollTop}},o={},a={};a.loaded={},a.email={},a.userName={},a.phone={},a.smscode={},a.verifyCode={},a.password={},a.submit={},e.reg={getApiInfo:function(e){function t(e){var e=e||window.event,n=s.getMousePos(e);n.x>0&&n.y>0&&(s.unon(document,"mousemove",t),a.loaded.n="loaded",a.loaded.x=n.x,a.loaded.y=n.y,a.loaded.t1=(new Date).getTime())}e.firstShow=!0,_hiddenFields=e.getElement("hiddenFields"),o.emailEle=e.getElement("email"),o.userNameEle=e.getElement("userName"),o.phoneEle=e.getElement("phone"),o.smsCodeEle=e.getElement("smscode"),o.verifyCodeEle=e.getElement("verifyCode"),o.passwordEle=e.getElement("password"),o.submitEle=e.getElement("submit"),s.on(document,"mousemove",t);for(var n in o)!function(e){e&&(s.on(e,"focus",function(){var t=((new Date).getTime(),e.name||e.type);"object"!=typeof a[t]||a[t].w||(a[t].w=s.getEleWidth(e).replace(/[^\d]/g,""),a[t].h=s.getEleHeight(e).replace(/[^\d]/g,""))
}),s.on(e,"click",function(t){var n=(new Date).getTime(),i=s.getMousePos(t),r=s.getPosition(e),o=e.name||e.type;"object"!=typeof a[o]||a[o].t1||(a[o].n=o,a[o].x=i.x-r.l,a[o].y=i.y-r.t,a[o].t1=n)}),s.on(e,"keydown",function(){var t=(new Date).getTime(),n=e.name||e.type;"object"!=typeof a[n]||a[n].t2||(a[n].t2=t)}),s.on(e,"blur",function(){var t=(new Date).getTime(),n=e.name||e.type;"object"!=typeof a[n]||a[n].t3||(a[n].t3=t)}))}(o[n]);return p(_hiddenFields).insertHTML("beforeEnd",'<input type="hidden" name="sloc" value id="'+e._eid+'sloc">'),{preventEvent:!1,preventDefault:!1}},beforeSubmit:function(e){if(a.loaded){a.loaded.t3=(new Date).getTime();var t="";for(var n in a)t=t+n+"#"+a[n].w+"#"+a[n].h+"#"+a[n].x+"#"+a[n].y+"#"+a[n].t1+"#"+a[n].t2+"#"+a[n].t3+"@";"sloc"==p("#"+e.guid+"__sloc")[0].name&&(p("#"+e.guid+"__sloc")[0].value=t.replace(/undefined/g,""))}return{preventEvent:!1,preventDefault:!1}}}}(d.hook),h.passport=p.lang.createClass(function(){this._validateInfo={}},{type:"magic.passport",superClass:h.Base}).extend({_getRegularField:function(e){var t=e.pwd?"password":"text",n=this,i='autocomplete="off"',r=e.maxLength?'maxlength="'+e.maxLength+'"':"",s=e.tip?e.tip:"",o=e.value?e.value:"",a=e.field+""=="verifycode"?"none":"",c="";c="text"===t?'<input type="text" style="display:none;">':'<input type="password" style="display: none;">';var l='<p id="'+n.$getId(e.field+"Wrapper")+'" class="pass-form-item pass-form-item-'+e.field+'" style="display:'+a+'">'+(e.label?'<label for="'+n.$getId(e.field)+'" id="'+n.$getId(e.field+"Label")+'" class="pass-label pass-label-'+e.field+'">'+e.label+"</label>":"")+c+'<input id="'+n.$getId(e.field)+'" type="'+t+'" name="'+e.field+'" class="pass-text-input pass-text-input-'+e.field+'" '+r+(e.placeholder?'placeholder="'+e.placeholder+'" ':"")+i+(e.disabled?'" disabled':"")+' value="'+o+'"/>'+(e.noError?"":'<span id="'+n.$getId(e.field+"Error")+'" class="pass-item-error pass-item-error-'+e.field+'"></span>')+(e.hasSucc?'<span id="'+n.$getId(e.field+"Succ")+'" class="pass-item-succ pass-item-succ-'+e.field+'" style="display:none;"></span>':"")+'<span id="'+n.$getId(e.field+"Tip")+'" class="pass-item-tip pass-item-tip-'+e.field+'" style="display:none"><span id="'+n.$getId(e.field+"TipText")+'" class="pass-item-tiptext pass-item-tiptext-'+e.field+'">'+s+"</span></span></p>";return l},_getHiddenField:function(e,t){var n,i=this,r='<p id="'+i.$getId(t||"hiddenFields")+'" style="display:none">';for(var s in e)e.hasOwnProperty(s)&&(n="string"==typeof e[s]?e[s].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;"):e[s],r+='<input type="hidden" id="'+i.$getId((t?t+"_":"")+s)+'" name="'+s+'" value="'+n+'" />');return r+="</p>"},_setEvent:function(){var e=this,t=this.getElement(),n=function(t){e._eventHandler.entrance.apply(e,[t])};p(e.getElement()).on("resize",function(){var e=(navigator.userAgent,!navigator.userAgent.match(/OS [1-8]_\d[_\d]* like Mac OS X/i)),t=!!navigator.userAgent.toString().match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=navigator.userAgent.toString().indexOf("iPad");if(e&&t&&null!=n){var i=document.getElementsByClassName("popBox");null!=i&&i.length>0&&(i[0].style.height=window.screen.height>document.body.clientHeight?window.screen.height*(window.screen.height/document.body.clientHeight)+120+"px":window.screen.height*(window.screen.height/document.body.clientHeight))}}),p(e.getElement("form")).on("submit",n),p(e.getElement("license")).on("click",n),p(e.getElement("verifyCodeChange")).on("click",n),p(e.getElement("verifyCodeSend")).on("click",n),p(e.getElement("smsVcodeSend")).on("click",n),p(t).delegate(".pass-suggest-item label","click",n),p(".pass-text-input",e.getElement()).on({focus:n,blur:n,change:n,keyup:n,mouseover:n,mouseout:n})},_validator:{confStorage:{},builtInMsg:{required:"请您输入%s",phone:"手机号码格式不正确",email:"邮箱格式不正确",idcard:"身份证格式不正确"},builtInRules:{required:/\S+/,phone:/^1[3456789]\d{9}$/,email:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,idcard:/(^\d{15}$)|(^\d{17}(\d|X|x)$)/},init:function(e,t){this.confStorage[e.$getId()]=t},validate:function(e,t,n,i){var r=e.getElement(t),s={field:t},o=/^\s*(.+?)\s*$/;if(!r||0===+r.offsetHeight)return!1;for(var a=r.value.replace(o,"$1"),c=this.confStorage[e.$getId()][t],l=c.rules,u=0,d=l.length;d>u;u++){var p,h=l[u],g=this.builtInRules[h];if(p="[object function]"===Object.prototype.toString.call(g).toLowerCase()?g.call(e,r,i):new RegExp(g).test(a),!p)return s.error=!0,e._validateInfo[t]=0,s.msg=this.builtInMsg[h].replace(/\%s/,c.desc),e._validateError(s),void n.error(s)}c.asyncRule?c.asyncRule.call(e,{success:function(i){s.error=!1,s.data=i.data,e._validateInfo[t]=1,e._validateSuccess(s),n.success(s)},error:function(i){s.error=!0,e._validateInfo[t]=0,s.msg=i.msg,e._validateError(s),n.error(s)}},i):(s.error=!1,e._validateInfo[t]=1,e._validateSuccess(s),n.success(s))},validateAll:function(e,t,n){function i(){a=!0,o?t&&t.error(c):t&&t.success(c)}var r=this.confStorage[e.$getId()],s=0,o=!1,a=!1,c=[],l=this._getActiveValidate(e,!0);for(var u in r){if(a)break;this.validate(e,u,{success:function(e){s++,c.push(e),s===l&&i()},error:function(e){return o=!0,s++,c.push(e),n?void i():void(s===l&&i())}},"all")}},_getActiveValidate:function(e,t){var n=this.confStorage[e.$getId()],i=[];for(var r in n){var s=e.getElement(r);s&&0!==s.offsetHeight&&i.push(s)}return t?i.length:i},addRule:function(e,t){var n={};n[e]=t,p.extend(this.builtInRules,n)},addMsg:function(e,t){var n={};n[e]=t,p.extend(this.builtInMsg,n)}},validate:function(e,t){var n=this,i=n.fireEvent("beforeValidate",{validate:{field:e,ele:p(n.getElement(e))}});i&&n._validator.validate(n,e,{success:function(e){var i=n.fireEvent("validateSuccess",{validate:e});i&&t&&t.success&&t.success(e)},error:function(e){var i=n.fireEvent("validateError",{validate:e});i&&t&&t.error&&t.error(e)}})},validateAll:function(e,t){var n=this;t="boolean"==typeof e?e:t?t:!1;var i=n.fireEvent("beforeValidateAll");i&&n._validator.validateAll(n,{success:function(t){var i=n.fireEvent("validateAllSuccess",{validates:t});i&&e&&e.success&&e.success(t)},error:function(t){var i=n.fireEvent("validateAllError",{validates:t});i&&e&&e.error&&e.error(t)}},t)},getValidateStatus:function(e){return this._validateInfo.hasOwnProperty(e)?this._validateInfo[e]:-1},setValidateSuccess:function(e){var t=this;t._validateInfo[e]=1,t._validateSuccess({field:e})},setValidateError:function(e,t,n){var i=this;i._validateInfo[e]=0,i._validateError({field:e,msg:t},n)},setGeneralError:function(e){this.getElement("error").innerHTML=e},clearGeneralError:function(){this.getElement("error").innerHTML=""},_isSupportPlaceholder:function(){return"placeholder"in document.createElement("input")},_getPlaceholder:function(e){for(var t=this,n={},i="",r={},s=0;s<e.length;s++)i=t.lang[e[s].placeholder],0!==+e[s].clearbtn&&(r[s]=p('<span id="'+t.$getId(e[s].label+"_clearbtn")+'" class="pass-clearbtn pass-clearbtn-'+e[s].label+'" style="display:none;"></span>'http://passport.baidu.com/passApi/js/),p(t.getElement(e[s].label)).after(r[s])),t._isSupportPlaceholder()&&!p.browser.ie?p(t.getElement(e[s].label)).attr({placeholder:i}):(n[s]=p('<span id="'+t.$getId(e[s].label+"_placeholder")+'" class="pass-placeholder pass-placeholder-'+e[s].label+'">'+i+"</span>"),p(t.getElement(e[s].label)).after(n[s])),t._rendEventPlaceholder(t.getElement(e[s].label),n[s],r[s])},_getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},_logPass:function(e,t){function n(e){var t,n,i,r,s,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=e.length,n=0,t="";i>n;){if(r=255&e.charCodeAt(n++),n===i){t+=a.charAt(r>>2),t+=a.charAt((3&r)<<4),t+="==";break}if(s=e.charCodeAt(n++),n===i){t+=a.charAt(r>>2),t+=a.charAt((3&r)<<4|(240&s)>>4),t+=a.charAt((15&s)<<2),t+="=";break}o=e.charCodeAt(n++),t+=a.charAt(r>>2),t+=a.charAt((3&r)<<4|(240&s)>>4),t+=a.charAt((15&s)<<2|(192&o)>>6),t+=a.charAt(63&o)}return t}var i=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&v="+(new Date).getTime(),r="";for(var s in t)r=r+s+":"+t[s]+",";r=n("{"+r.substring(0,r.length-1)+"}");for(var o in e)e.hasOwnProperty(o)&&(i+="&"+o+"="+e[o]);if(i+="&source=pc",i+="&auto_statistic="+r+"&auto_en="+t.eventType){var a=new Image;a.onload=a.onerror=function(){a.onload=a.onerror=null,a=null},a.src=i}},logClickLink:function(e,t){e=e||{},e=this.formatLogData(e);var n=t.target||t.srcElement,i=n&&n.getAttribute&&n.getAttribute("target"),r="_self"===i||null===i,s=this.makeImgSrc(e);if(r&&(t.preventDefault?t.preventDefault():t.returnValue=!1),window.navigator.sendBeacon&&r)window.navigator.sendBeacon(s),window.location.href=n.getAttribute("href");else if(r)this.lazyLog(n,s,null);else{var o=new Image;o.onload=o.onerror=function(){o.onload=o.onerror=null,o=null},o.src=s}},logCallBack:function(e,t){e=e||{},e=this.formatLogData(e);var n=this.makeImgSrc(e);this.lazyLog({},n,t)},formatLogData:function(e){var t=this.config||{};return p.extend({},{page:e.logPage||"",source:"pc-api",tpl:t.product||"",subpro:t.subpro||"",extrajson:t.extrajson||"",data_source:"fe"},e)},makeImgSrc:function(e){var t=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&v="+(new Date).getTime(),n="";for(var i in e)e.hasOwnProperty(i)&&(n+="en"!==i?"&"+i+"="+e[i]:"&auto_en="+e[i]);var r="{eventType:"+(e.en||"")+"}";return r=this.base64encode(r),t+="&auto_statistic="+r,t+="&auto_en="+(e.en||""),t+=n},lazyLog:function(e,t,n){function i(){n?n():window.location.href=r}var r=e.getAttribute&&e.getAttribute("href"),s=new Image,o=setTimeout(function(){s.onload=s.onerror=s=null,i("imgTimeout")},200);s.onload=s.onerror=function(){clearTimeout(o),s.onload=s.onerror=s=null,i("imgSuccess")},s.src=t},base64encode:function(e){var t,n,i,r,s,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=e.length,n=0,t="";i>n;){if(r=255&e.charCodeAt(n++),n===i){t+=a.charAt(r>>2),t+=a.charAt((3&r)<<4),t+="==";break}if(s=e.charCodeAt(n++),n===i){t+=a.charAt(r>>2),t+=a.charAt((3&r)<<4|(240&s)>>4),t+=a.charAt((15&s)<<2),t+="=";break}o=e.charCodeAt(n++),t+=a.charAt(r>>2),t+=a.charAt((3&r)<<4|(240&s)>>4),t+=a.charAt((15&s)<<2|(192&o)>>6),t+=a.charAt(63&o)}return t},_rendEventPlaceholder:function(e,t,n){if(e||n){var i,r,s=this,o=function(e){1===+e?(t&&t[0]&&s.$hide(t[0]),n&&n[0]&&s.$show(n[0])):(t&&t[0]&&s.$show(t[0]),n&&n[0]&&s.$hide(n[0]))};setTimeout(function(){e&&e.value&&o(1)},200),p(t).on("mousedown",function(){r=!0,clearTimeout(i),i=setTimeout(function(){s.suggestionDom&&"none"!==s.suggestionDom.style.display||e.focus()},0)}),p(n).on("click",function(){e.value="",o(0),e.focus(),s.suggestionDom&&(s.suggestionDom.data_delete=!0,setTimeout(function(){s.suggestionDom.data_delete=!1},200))}),p(e).on("keyup",function(){o(e.value?1:0)}),p(e).on("focus",function(){window.inputCheckTimer=setInterval(function(){e.value.length?(o(1),clearInterval(window.inputCheckTimer)):o(0)},30)})}},SBCtoDBC:function(e){var t="";if(e){for(var n=e.length,i=0;n>i;i++){var r=e.charCodeAt(i);r=r>=65281&&65374>=r?r-65248:r,r=12288==r?32:r,t+=String.fromCharCode(r)}return t}},hide:function(){this.getElement().style.display="none"},show:function(){this.getElement().style.display="block"},_analysis:function(e,t){return window.passport.analysis&&window.passport.analysis[this.module]&&window.passport.analysis[this.module][e]?(window.passport.analysis[this.module][e](this,t),{preventDefault:!1,preventEvent:!1}):void 0},_hook:function(e,t){return window.passport.hook&&window.passport.hook[this.module]&&window.passport.hook[this.module][e]?window.passport.hook[this.module][e](this,t):{preventDefault:!1,preventEvent:!1}},fireEvent:function(e,t){var n=this._hook(e,t),i=!0;return n.preventEvent||(i=this.fire(e,t)),!n.preventDefault&&i},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):""}}),h.passport.reg=p.lang.createClass(function(e){var t=this;t.config={isPhone:!1,userName:!1,staticPage:"",u:"",retu:"",passwordConfirm:!1,product:"",charset:"",lang:"zh-CN",isexchangeable:0,subpro:"",nocaptcha:!1,isVoiceSms:0},p.object.extend(t.config,e),this.module="reg",this.guideRandom=function(){return"xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}).toUpperCase()}(),t._domain={https:"https://passport.baidu.com",http:"http://passport.baidu.com/",auto:window.location?"https:"===window.location.protocol.toLowerCase()?"https://passport.baidu.com":"http://passport.baidu.com/":"https:"===document.location.protocol.toLowerCase()?"https://passport.baidu.com":"http://passport.baidu.com/",wapAuto:window.location?"https:"===window.location.protocol.toLowerCase()?"https://wappass.baidu.com":"http://wappass.baidu.com/":"https:"===document.location.protocol.toLowerCase()?"https://wappass.baidu.com":"http://wappass.baidu.com/"},t.constant={CONTAINER_CLASS:"tang-pass-reg",FOCUS_CLASS:"pass-text-input-focus",HOVER_CLASS:"pass-text-input-hover",ERROR_CLASS:"pass-text-input-error",DISABLED_CLASS:"pass-text-input-disabled",VERIFYCODE_URL_PREFIX:t._domain.https+"/cgi-bin/genimage?",BLANK_IMG_URL:d.apiDomain.staticDomain+"/passApi/img/small_blank.gif",PROTOCAL_URL:t._domain.http+"/static/passpc-account/html/protocal.html",MODIFY_PWD_URL_PREFIX:t._domain.https+"/forcsdnpasschange",PERSONAL_PROTOCAL_URL:"https://www.baidu.com/duty/yinsiquan.html",NOCAPTCHA_URL:t._domain.auto+"/static/passpc-base/js/ld.min.js?cdnversion="+(new Date).getTime(),TOUCHAPIMKD_URL:t._domain.wapAuto+"/static/touch/js/api/wrapper_touch.js?cdnversion="+(new Date).getTime()},t.lang=d.err.getCurrent().labelText.reg,t.AccountExchangeFlag=0,t.initTime=(new Date).getTime(),t.insertNoCaptchaScript(),t.initMkd(),t.config.overseas&&1===+t.config.overseas&&(this.foreignMobile=!0),this.internation=!1,t.config.regMergeUserName=!1,t.config.userName=1,d.data.setContext(p.extend({},t.config)),this.isBrowser=/passport\.baidu\.com/gi.test(window.location.href),t.sendLog=function(e,t,n){var i={page:e.isBrowser?"pc-browser":"pc-inside",tpl:e.config.product||""};if(n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r]);var s={eventType:t};e._logPass(i,s)},t.sendLog(t,"pc-register-show",{})},{type:"http://passport.baidu.com/passApi/js/magic.passport.reg",superClass:h.passport}).extend({_getIrregularField:function(e){var t=this,n={verifyCode:'<p id="'+t.$getId("verifyCodeImgWrapper")+'" class="pass-form-item pass-form-item-verifyCode" style="display:none"><label for="'+t.$getId("verifyCode")+'" id="'+t.$getId("verifyCodeLabel")+'" class="pass-label pass-label-verifyCode">'+t.lang.captcha+'</label><input id="'+t.$getId("verifyCode")+'" type="text" name="verifyCode" class="pass-text-input pass-text-input-verifyCode" autocomplete="off" maxlength="6"/><span><img id="'+t.$getId("verifyCodeImg")+'" title="'+t.lang.captchaAlt+'" alt="'+t.lang.captchaAlt+'" class="pass-verifyCode" src="'+t.constant.BLANK_IMG_URL+'" /></span><a id="'+t.$getId("verifyCodeChange")+'" href="#" class="pass-change-verifyCode">'+t.lang.captchaChange+"</a>"+(t.config.regMerge?'<input id="'+t.$getId("verifyCodeSend")+'" type="button" value="'+t.lang.getSMSKey+'" class="pass-button pass-button-verifyCodeSend" autocomplete="off" style="display:none"/>':"")+(t.config.regMerge?'<span id="'+t.$getId("verifyCodeSendTip")+'" class="pass-item-tip pass-item-tip-verifyCodeSend" style="display:none;"></span>':"")+'<span id="'+t.$getId("verifyCodeError")+'" class="pass-item-error pass-item-error-verifyCode"></span><span id="'+t.$getId("verifyCodeTip")+'" class="pass-item-tip pass-item-tip-verifyCode" style="display:none;"><span id="'+t.$getId("verifyCodeTipText")+'" class="pass-item-tiptext pass-item-tiptext-verifycode">'+t.lang.captchaTip+"</span></span></p>",generalError:'<p id="'+t.$getId("errorWrapper")+'" class="pass-generalErrorWrapper"><span id="'+t.$getId("error")+'" class="pass-generalError"></span></p>',suggestName:'<div id="'+t.$getId("suggestNameWrapper")+'" class="pass-suggest-name"></div>',isAgree:'<p id="'+t.$getId("isAgreeWrapper")+'" class="pass-form-item pass-form-item-isAgree"><input name="isAgree" id="'+t.$getId("isAgree")+'" type="checkbox" class="pass-checkbox-input pass-checkbox-isAgree" autocomplete="off" /><label for="'+t.$getId("isAgree")+'">'+t.lang.agree+'</label><a target="_blank" href="'+t.constant.PROTOCAL_URL+'">'+t.lang.baiduUserProtocal+'</a></span>及<a target="_blank" href="'+t.constant.PERSONAL_PROTOCAL_URL+'">'+t.lang.baiduPersonalProtocal+'<a></span><span id="'+t.$getId("isAgreeError")+'" class="pass-item-error pass-item-error-isAgree"></span></p>',submit:'<p id="'+t.$getId("submitWrapper")+'" class="pass-form-item pass-form-item-submit"><input id="'+t.$getId("submit")+'" type="submit" value="'+t.lang.register+'" class="pass-button pass-button-submit" /></p>',tip:'<div id="'+t.$getId("tip")+'" class="pass-pop-tip" style="display:none"><div class="pass-pop-tip-header"></div><div class="pass-pop-tip-container"><div class="pass-pop-tip-body"><div class="pass-pop-tip-content" id="'+t.$getId("tipContainer")+'"></div></div></div></div>',verifyCodeSend:'<p id="'+t.$getId("verifyCodeSendWrapper")+'" class="pass-form-item pass-form-item-verifyCodeSend">'+(!t.config.regMerge&&t.config.isPhone?'<label for="'+t.$getId("verifyCode")+'" id="'+t.$getId("verifyCodeLabel")+'" class="pass-label pass-label-verifyCode">'+t.lang.captcha+"</label>":"")+(!t.config.regMerge&&t.config.isPhone?'<input id="'+t.$getId("verifyCode")+'" type="text"name="verifyCode" class="pass-text-input pass-text-input-verifyCode" autocomplete="off" maxlength="6"/>':"")+'<input id="'+t.$getId("verifyCodeSend")+'" type="button" value="'+t.lang.getSMSKey+'" class="pass-button pass-button-verifyCodeSend" autocomplete="off"/><span id="'+t.$getId("verifyCodeError")+'" class="pass-item-error pass-item-error-verifyCodeSend"></span><span id="'+t.$getId("verifyCodeSendTip")+'" class="pass-item-tip pass-item-tip-verifyCodeSend"></span></p>',nocaptchaContainer:'<div id="'+t.$getId("nocaptchaWrapper")+'" class="pass-nocaptcha"></div>',nocaptchaVCode:'<p id="'+t.$getId("verifyCodeSendWrapper")+'" class="pass-form-item pass-form-item-verifyCodeSend pass-captcha-resend-hide"><label for="'+t.$getId("verifyCode")+'" id="'+t.$getId("verifyCodeLabel")+'" class="pass-label pass-label-verifyCode">'+t.lang.captcha+'</label><input id="'+t.$getId("verifyCode")+'" type="text" name="verifyCode" class="pass-text-input" autocomplete="off" maxlength="6"/><input type="text" style="visibility:hidden;height:0px;border:none;float:left;"/><span id="'+t.$getId("verifyCodeResend")+'" class="pass-captcha-resend"></span><span id="'+t.$getId("verifyCodeError")+'" class="pass-item-error pass-item-error-verifyCodeSend"></span><span id="'+t.$getId("verifyCodeSendTip")+'" class="pass-item-tip pass-item-tip-verifyCodeSend"></span></p>',nocaptchaMargin:'<div style="height:40px"></div>',strengthTip:'<span id="'+t.$getId("strengthTip")+'"><span class="pwd-strength clearfix"><span class="strength-title">'+t.lang.strength+'</span><span id="'+t.$getId("strengthTipText")+'" class="strength-value pass-item-tiptext pass-item-tiptext-strength"></span><span class="strength-bg"><span class="strength-inner" id="'+t.$getId("strengthTipPic")+'"></span></span></span><span class="strength-explain">'+t.lang.strengthTip+"</span></span>",passwordCheck:'<div  id="'+t.$getId("passwordCheck")+' class="pass-pop-tip pass-pop-tip-passwordCheck"><ul id="'+t.$getId("passwordCheckList")+' class="pass-pop-tip-passwordCheck-list"></ul><span class="pass-pop-tip-passwordCheck-arrow"></span></div>',pwdChecklist:'<div class="pwd-checklist-wrapper"><span class="pwd-checklist-arrow"><em class="arrowa">◆</em><em class="arrowb">◆</em></span><ul id="'+t.$getId("pwdChecklist")+'" class="pwd-checklist"><li id="'+t.$getId("pwd_checklist_len")+'" data-rule="len" class="pwd-checklist-item">'+t.lang.pwdChecklist_len+'</li><li id="'+t.$getId("pwd_checklist_cha")+'" data-rule="cha" class="pwd-checklist-item">'+t.lang.pwdChecklist_cha+'</li><li id="'+t.$getId("pwd_checklist_spa")+'" data-rule="spa" class="pwd-checklist-item">'+t.lang.pwdChecklist_spa+"</li></ul></div>",foreignMobileWrapper:'<div class="pass-form-item pass-form-item-phone pass-form-item-PhoneCountry" id="'+t.$getId("foreignMobileWrapper")+'"><label for="'+t.$getId("phone")+'" id="'+t.$getId("phoneLabel")+'" class="pass-label pass-label-phone">'+t.lang.phoneNum+'</label><span id="'+t.$getId("foreignMobileLabel")+'" class="pass-foreign-label" data-countryCode="">+86</span><input id="'+t.$getId("phone")+'" type="text" name="phone" maxlength="11" autocomplete="off" class="pass-text-input pass-foreign-input"/><span id="'+t.$getId("phoneError")+'" class="pass-item-error pass-item-error-phone"></span><span id="'+t.$getId("phoneSucc")+'" class="pass-item-succ pass-item-succ-phone" style="display:none;"></span><span id="'+t.$getId("phoneTip")+'" class="pass-item-tip pass-item-tip-phone" style="display:none;"><span id="'+t.$getId("phoneTipText")+'" class="pass-item-tiptext pass-item-tiptext-phone">'+t.lang.phoneNumTip+'</span></span><ul id="'+t.$getId("foreignCountryList")+'" class="pass-country-list"></ul></div>',multiTip:'<div class="pass-multiTip" id="'+t.$getId("multiTip")+'" style="position:absolute;top:0px;left:0px;background:#ffffda;border:1px solid #d1b07c;border-radius:3px;z-index:5000;margin:0px;"><span class="pass-multiTip-text" style="display:block;padding:5px 10px;font-size:12px;color:#907448;">'+t.lang.multiTip+'</span><span class="pass-multiTup-arrow" style="position:absolute;bottom:6px;left:10px;"><em style="position:absolute;top:0px;left:0px;color:#d1b07c;font-style:normal;font-size:12px;line-height:14px;">◆</em><em style="position:absolute;top:-1px;left:0px;color:#ffffda;font-style:normal;font-size:12px;line-height:14px;">◆</em></span></div>',dvInput:'<input type="hidden" node-type="_username" id="_username" name="_username" value=""><input type="hidden" node-type="_regpass" id="_regpass" name="_regpass" value=""><input type="hidden" node-type="_rsakey" id="_rsakey" name="_rsakey" value=""><input type="hidden" node-type="_regfrom" id="_regfrom" name="_regfrom" value="reg">'};return n[e]},_getTemplate:function(){var e=this,t='<form autocomplete="off" id="'+e.$getId("form")+'" method="POST">',n={retu:e.config.retu,u:e.config.u,quick_user:e.config.isPhone||0!=!!e.config.email?0:1,regMerge:e.config.regMerge?!0:!1,suggestIndex:"",suggestType:"",codeString:"",vcodesign:"",vcodestr:"",gid:e.guideRandom||"",app:e.config.app?e.config.app:"",staticPage:e.config.staticPage,selectedSuggestName:"",isLowpwdCheck:e.config.isLowpwdCheck,logRegType:e.config.diaPassreg?"pc_regDialog":"pc_regBasic",isexchangeable:e.config.isexchangeable,exchange:e.AccountExchangeFlag,subpro:e.config.subpro},i=[];e.config.userName&&i.push({field:"userName",label:e.lang.userName,tip:e.lang.userNameTip,hasSucc:!0}),e.config.regMerge?i.push({field:"account",label:e.config.regMergeUserName?e.lang.account_username:e.lang.account,tip:e.config.regMergeUserName?e.lang.accountTip_username:e.lang.accountTip,hasSucc:!0}):e.config.isPhone?e.foreignMobile||i.push({field:"phone",label:e.lang.phoneNum,tip:e.lang.phoneNumTip,maxLength:11,hasSucc:!0}):0!=!!e.config.email&&i.push({field:"email",label:e.lang.email,tip:e.lang.emailTip,hasSucc:!0}),e.config.nocaptcha&&i.push({field:"nocaptchaVCode"}),i.push({field:"password",pwd:!0,label:e.lang.password,hasSucc:!0}),e.config.passwordConfirm&&i.push({field:"verifyPass",pwd:!0,label:e.lang.confirmPassword,hasSucc:!0}),t+=e._getIrregularField("generalError"),t+=e._getHiddenField(n),t+=e._getIrregularField("dvInput"),!e.config.regMerge&&e.config.isPhone&&e.foreignMobile&&(t+=e._getIrregularField("foreignMobileWrapper"));for(var r=0;r<i.length;r++)i[r].field+""!="nocaptchaVCode"?("password"===i[r].field&&(t+='<input type="password" name="password" style="display:none"/>'),t+=e._getRegularField(i[r],"reg")):(t+=e._getIrregularField("nocaptchaContainer"),t+=e._getIrregularField(i[r].field));return e.config.regMerge||!e.config.isPhone||e.config.nocaptcha||(t+=e._getIrregularField("verifyCodeSend")),e.config.verifyCode!==!1&&(e.config.isPhone||(t+=e._getIrregularField("verifyCode"))),t+=e._getIrregularField("isAgree"),t+=e._getIrregularField("submit"),t+=e._getIrregularField("tip"),e.config.nocaptcha&&(t+=e._getIrregularField("nocaptchaMargin")),t+="</form>"},initMkd:function(){var e=this;e.insertScriptW(e.constant.TOUCHAPIMKD_URL,function(){window.passportTouch.use("mkd",{defaultCss:!0},function(){if(window.Pass&&window.Pass.mkd&&!e.regPassMkd){var t=window.Pass.mkd;e.regPassMkd=new t({maskModule:!0,ak:"1e3f2dd1c81f2075171a547893391274",verifySuccessFn:function(t){e._sendSMSVcode(null,null,{success:function(){e.disableSmsButton()}},null,t),e.regPassMkd.removeMask()}})}})})},insertNoCaptchaScript:function(){var e=this;e.insertScriptW(e.constant.NOCAPTCHA_URL,function(){})},insertScriptW:function(e,t){if(window._loadedFilesW=window._loadedFilesW||{},!window._loadedFilesW[e]){window._loadedFilesW[e]=!0;var n=document,i=n.createElement("SCRIPT");i.type="text/javascript",i.charset="UTF-8",i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,t&&t())}:i.onload=function(){t&&t()},i.src=e,n.getElementsByTagName("head")[0].appendChild(i)}},getVerifyCode:function(e){var t=this;t.config.verifyCode!==!1&&(t.getElement("verifyCodeImg").src="",e&&e.length?(t.getElement("verifyCodeImgWrapper").style.display="block",t.getElement("verifyCodeImg").src=t.constant.VERIFYCODE_URL_PREFIX+e,t.getElement("codeString").value=e):d.data.getVerifyCodeStr({app:t.config.app?t.config.app:""}).success(function(e){0===+e.errInfo.no&&(t.getElement("verifyCodeImgWrapper").style.display="block",t.getElement("verifyCodeImg").src=t.constant.VERIFYCODE_URL_PREFIX+e.data.verifyStr,t.getElement("codeString").value=e.data.verifyStr)}),t.getElement("verifyCode")&&(t.getElement("verifyCode").value=""),t.getElement("verifyCode_clearbtn")&&(t.getElement("verifyCode_clearbtn").style.display="none"))},_loadWCss:function(){if(!d.loadWCss){d.loadWCss=!0;var e=".pass-item-placeholder{color: #ABABAB;cursor: text;display: block;font-size: 12px;height: 20px;left: 163px;line-height: 20px;position: absolute;top: 5px;width: 160px;}.pass-item-placeholder-inactive{color:#ccc;}",t=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(t);try{t.innerHTML=e}catch(n){try{t.styleSheet.cssText=e}catch(n){}}}},_setPlaceholder:function(){function e(){o.getElement(n).focus()}function t(){o.getElement(n).value.length&&(i.hide(),clearInterval(s))}var n,i,r,s,o=this;(o.config.isPhone||0!=!!o.config.email||o.config.regMerge)&&(o._loadWCss(),o.config.regMerge?n="account":o.config.isPhone?n="phone":0!=!!o.config.email&&(n="email"),n&&(i=p('<span class="pass-item-placeholder" id="'+o.$getId("Placeholder")+'">'+(o.config.regMerge?o.config.regMergeUserName?o.lang.regMergePlaceholder_username:o.lang.regMergePlaceholder:o.lang.placeholder)+"</span>"),r=p(o.getElement(n+"Wrapper")),r.append(i),i.on("click",e),p(o.getElement(n)).on("focus",function(){i.addClass("pass-item-placeholder-inactive"),s=setInterval(t,1)}),p(o.getElement(n)).on("blur",function(){i.removeClass("pass-item-placeholder-inactive"),clearInterval(s),o.getElement(n).value||i.show()}),t()))},render:function(e){var t=this;t.getElement()||t.$mappingDom("",e||document.body);var n=p(t.getElement()),i=t._getTemplate();n.addClass(t.constant.CONTAINER_CLASS),n.append(p(i));var r=t.fireEvent("render");r&&(t._initApi(),t._setValidator(),t._setEvent(),t._initNocaptcha(),t.foreignMobile&&(t._getCountryCode(),t._setForeignMobileEvent()),t.config.displayMail&&t._setSuggestion(),t.suggestion&&t.suggestion.hide(),t._setPwdStrengthTip(),t._setPlaceholder(),t._accountFocus())},_accountFocus:function(){var e=this;e.config.userName?e.getElement("userName").focus():e.config.regMerge?e.getElement("account").focus():e.config.isPhone&&e.getElement("phone").focus()},_bindShowPwdEvent:function(){var e=this,t=e.getElement("showpwdbtn_password");if(t){var n=e.getElement("showpwd_password");p(t).on("click",function(){n.style.display="none"!==n.style.display?"none":"block"})}},_showPasswordTip:function(){var e=this,t='<span class="pass-showpwd pass-showpwd-password" id="'+e.$getId("showpwd_password")+'" style="display:none"><span class="pass-showpwd-arrow"><em class="arrowa">◆</em><em class="arrowb">◆</em></span><span class="pass-showpwd-content" id="'+e.$getId("showpwd_password_content")+'">'+e.getElement("password").value+"</span></span>",n='<span class="pass-showpwdbtn pass-showpwdbtn-password" id="'+e.$getId("showpwdbtn_password")+'"></span>';p(e.getElement("passwordWrapper")).append(t).append(n),e._bindShowPwdEvent()},_initNocaptcha:function(){var e=this;if(e.config.nocaptcha&&window.NoCaptcha){var t=60,n=null,i=function(){if(n&&(clearTimeout(n),n=null),0>=t){p("#"+e.$getId("verifyCodeResend")).removeClass("pass-captcha-resend-disabled").text("重新获取验证码");var r=e.getElement(e.config.regMerge?"account":"phone");p("#"+e.$getId("phoneWrapper")).removeClass("pass-captcha-disabled"),r.readOnly=!1}else p("#"+e.$getId("verifyCodeResend")).text(t+"s 后重新发送"),t--,n=setTimeout(function(){i()},1e3)};p("#"+e.$getId("verifyCodeResend")).on("click",function(){-1===this.className.indexOf("pass-captcha-resend-disabled")&&e._sendSMSVcode(null,null,{success:function(){e.nocaptcha.sendSMS()}})}),e.nocaptcha=NoCaptcha.create({dom:p("#"+e.$getId("nocaptchaWrapper")),hideDisplay:!0,lang:{SLIDE_TIP:"拖动右侧图片完成拼图以获取验证码"},success:function(t,n){t.cancelTip=!0,e._sendSMSVcode(null,null,{success:function(){e.nocaptcha.tip("验证码已发送到你的手机",!0),setTimeout(function(){e.nocaptcha.hide()},2e3),e.nocaptcha.sendSMS()},error:function(t){var n=/<a.*>(.*)<\/a>/gi,i=t.match(n),r=t.replace(i,"");e.nocaptcha.tip(r,!1),setTimeout(function(){e.nocaptcha.hide(),e.nocaptcha.refresh()},2e3)},validate:function(){e.nocaptcha.hide(),e.nocaptcha.refresh()}},n)}}),e.nocaptcha.sendSMS=function(){var n=e.getElement(e.config.regMerge?"account":"phone");e.nocaptcha.phone=n.value;var r=p("#"+e.$getId("verifyCodeResend"));r.addClass("pass-captcha-resend-disabled").text(""),p("#"+e.$getId("verifyCodeSendWrapper")).removeClass("pass-captcha-resend-hide"),t=60,i(),p("#"+e.$getId("phoneWrapper")).addClass("pass-captcha-disabled"),n.readOnly=!0}}},_showNocaptcha:function(e,t){var n=this;n.config.nocaptcha&&n.nocaptcha&&(e?n.nocaptcha.phone?n.nocaptcha.phone!==t.value&&(n.nocaptcha.refresh(),n.nocaptcha.show(),p("#"+n.$getId("verifyCodeSendWrapper")).addClass("pass-captcha-resend-hide")):n.nocaptcha.init?n.nocaptcha.show():n.nocaptcha.sendSMS():n.nocaptcha.hide())},_initApi:function(e){var t=this;t.initTime=(new Date).getTime(),t.unbindRegConfirm=null,t.changeRegConfirm=null,t.confirmRegVerifyWidget=null,d.data.getApiInfo({apiType:t.config.isPhone?"regPhone":"reg",gid:t.guideRandom||"",app:t.config.app?t.config.app:""}).success(function(n){var i=t.fireEvent("getApiInfo",{rsp:n});if(i&&(1===+n.data.disable&&t.setGeneralError(t.lang.sysUpdate),0===+n.errInfo.no)){var r=n.data.token,s=n.data.codeString;d.data.setContext({token:r}),s&&s.length&&t.getVerifyCode(s),t.config.regMerge?(t.config.hasPlaceholder&&t._getPlaceholder([{label:"account",placeholder:t.config.regMergeUserName?"regMergePlaceholder_username":"regMergePlaceholder"},{label:"password",placeholder:"passwordPlaceholder"},{label:"verifyCode",placeholder:"verifyCodePlaceholder"},{label:"userName",placeholder:"userNamePlaceholder"}]),p(t.getElement("password_clearbtn")).on("mousedown",function(){p(t.getElement("pwd_checklist_len")).removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),p(t.getElement("pwd_checklist_cha")).removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),p(t.getElement("pwd_checklist_spa")).removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error")
})):t.config.isPhone&&(t.config.hasPlaceholder&&t._getPlaceholder([{label:"phone",placeholder:"placeholder"},{label:"password",placeholder:"passwordPlaceholder"},{label:"verifyCode",placeholder:"verifyCodePlaceholder"},{label:"userName",placeholder:"userNamePlaceholder"}]),p(t.getElement("password_clearbtn")).on("mousedown",function(){var e=p(t.getElement("pwd_checklist_len"));e.removeClass("pwd-checklist-item-success"),e.removeClass("pwd-checklist-item-error");var n=p(t.getElement("pwd_checklist_cha"));n.removeClass("pwd-checklist-item-success"),n.removeClass("pwd-checklist-item-error");var i=p(t.getElement("pwd_checklist_spa"));i.removeClass("pwd-checklist-item-success"),i.removeClass("pwd-checklist-item-error")})),e&&e.success(n)}})},_setSuggestion:function(){var e=this;if(e.getElement(e.config.regMerge?"account":"email")&&h.setup.suggestion){var t={getData:function(t){var n=[],i=e.mainEmailSP,r=r===t.match(/(.*)@/)?r[1]:t,s=s===t.match(/\@(.*)$/)?s[1]:!1;p.each(i,function(e,t){s&&~t.indexOf(s)?n.push(r+"@"+t):s||n.push(r+"@"+t)}),this.receiveData(t,n)}};e.suggestion=h.setup.suggestion(e.$getId(e.config.regMerge?"account":"email"),t),e.config.regMerge&&e.suggestion.on("beforeshow",function(t){e.getElement("account")&&-1===e.getElement("account").value.indexOf("@")&&(t.returnValue=!1)}),e.suggestion.on("confirm",function(){e.getElement("password")&&e.getElement("password").focus(),e.config.regMerge||e.validate("email")}),e.suggestion.on("highlight",function(){e.suggestionHighlight=!0}),e.suggestion.on("clearhighlight",function(){e.suggestionHighlight=!1})}},_setValidator:function(){var e=this,t=e.mainEmailSP=["http://passport.baidu.com/passApi/js/qq.com","http://passport.baidu.com/passApi/js/163.com","http://passport.baidu.com/passApi/js/126.com","http://passport.baidu.com/passApi/js/sohu.com","http://passport.baidu.com/passApi/js/sina.com","http://passport.baidu.com/passApi/js/21cn.com","http://passport.baidu.com/passApi/js/vip.qq.com","http://passport.baidu.com/passApi/js/yeah.net"],n=t.join(")|(\\@").replace(/\./g,"\\.");n="((\\@"+n+"))$",n="^([a-zA-Z0-9_\\.\\-\\+])+"+n,e._validator.addRule("mailLength",function(e){return String(e.value).length<=60}),e._validator.addMsg("mailLength",e.lang.mailLengthError),e._validator.addRule("matchedPwd",function(e){return e.value===this.getElement("password").value}),e._validator.addMsg("matchedPwd",e.lang.matchPwdError),e._validator.addRule("emailLimit",function(e){return/([a-zA-Z0-9_\.\-\+])+\@(baidu|gmail|hotmail)\.com$/.test(e.value)?!1:!0}),e._validator.addMsg("emailLimit",e.lang.emailLimitError),e._validator.addRule("pwdChar",function(e){return/^([0-9a-zA-Z\_`!~@#$%^*+=,.?;'":)(}{/\\\|<>&\[\-]|\])+$/.test(e.value)}),e._validator.addMsg("pwdChar",e.lang.pwdCharError),e._validator.addRule("pwdLength",function(e){var t=e.value.length;return 14>=t&&t>=8}),e._validator.addMsg("pwdLength",e.lang.pwdLengthError),e._validator.addRule("passwordStrength",function(e){var t=e.value.length;return t>0}),e._validator.addMsg("passwordStrength",e.setPwdCheckStren(3)),e._validator.addRule("checkedLicense",function(e){return e.checked}),e._validator.addMsg("checkedLicense",e.lang.checkLicenseError),e._validator.addRule("userNameLength",function(e){var t=p.string.getByteLength(e.value);return 14>=t}),e._validator.addMsg("userNameLength",e.lang.userNameRulesError),e._validator.addRule("userNameNumber",function(e){return p.string.getByteLength(e.value),!/^\d+$/.test(e.value)}),e._validator.addMsg("userNameNumber",e.lang.userNameNumberError),e._validator.addRule("accountMerge",function(e){var t=e.value;return/^(([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+)|(1[3456789]\d{9})$/.test(t)?!0:!1}),e._validator.addMsg("accountMerge",e.lang.accountMergeError),e.validateRules={account:{rules:["required"],desc:e.lang.account},email:{rules:["required","mailLength","email","emailLimit"],asyncRule:e._asyncValidate.checkEmail,desc:e.lang.email},phone:{rules:["required","phone"],asyncRule:e._asyncValidate.phoneCheck,desc:e.lang.phoneNum},userName:{rules:["required","userNameLength","userNameNumber"],asyncRule:e._asyncValidate.checkUserName,desc:e.lang.userName},password:{rules:e.config.hasPasswordcheck?["passwordStrength"]:e.config.isLowpwdCheck?["required"]:["required","pwdLength","pwdChar"],asyncRule:e.config.isLowpwdCheck?null:e._asyncValidate.checkPassword,desc:e.lang.password},verifyPass:{rules:["required","matchedPwd"],desc:e.lang.confirmPassword},verifyCode:{rules:["required"],desc:e.lang.captcha},smsCode:{rules:["required"],desc:e.lang.SMSKey},isAgree:{rules:["checkedLicense"]}},e._validator.init(e,e.validateRules),e.config.regMerge&&(e._validator.builtInMsg.email=e.lang.emailEmptyError,e._validator.builtInMsg.phone=e.lang.phoneEmptyError)},_validateError:function(e,t){var n=this,i=p(n.getElement(e.field));i.addClass(n.constant.ERROR_CLASS),p(n.getElement(e.field+"Succ")).hide(),p(n.getElement(e.field+"Error")).show().get(0).innerHTML=e.msg,n.config.regMerge&&"verifyCode"===e.field&&(p(n.getElement("verifyCodeSendTip")).hide().get(0).innerHTML=""),"password"===e.field||n.config.hasPasswordcheck?n.config.hasPasswordcheck||n.config.isLowpwdCheck||n.setPwdStrength(-1):n._hideTip(e.field),t&&t.callback&&t.callback()},_validateSuccess:function(e,t){var n=this,i=p(n.getElement(e.field));n.config.regMerge&&"password"===e.field||(p(n.getElement(e.field+"Error")).hide(),p(n.getElement(e.field+"Succ")).show(),i.removeClass(n.constant.ERROR_CLASS)),t&&t.callback&&t.callback()},setPwdCheckStren:function(e,t,n){var i=this,r=p(i.getElement("password")),s=p(i.getElement("passwordError")),o={3:{text:i.lang.nopwd,msg:i.lang.nopwdMsg,className:"nopwd"},2:{text:i.lang.weak,msg:i.lang.weakMsg,className:"weak"},1:{text:i.lang.middle,msg:i.lang.middleMsg,className:"middle"},0:{text:i.lang.strong,msg:i.lang.strongMsg,className:"strong"},"-1":{text:i.lang.weak,msg:i.lang.weakMsg,className:"weak"},5:{text:i.lang.notsafe,msg:i.lang.notsafeMsg,className:"notsafe"}},a='<span class="pwd-strength '+o[e].className+'"><span class="pwd-strength-sum"><em class="pwd-strength-bg">&nbsp;</em><em class="pwd-strength-sco">&nbsp;</em><span class="pwd-strength-title">'+o[e].text+'</span></span><span class="pwd-strength-detail">'+o[e].msg+"</span></span>";return s.show().get(0).innerHTML=a,3===+e&&s.hide(),2===+e||5===+e?(r.addClass(i.constant.ERROR_CLASS),i.getElement("passwordSucc").style.display="none"):n&&n.success(t),a},passwordCheckList:function(e){var t=this,n=p(t.getElement(e)),i=p(t.getElement("passwordTip")),r=(p(t.getElement(e+"tipText")),p(t.getElement("pwd_checklist_len"))),s=p(t.getElement("pwd_checklist_cha")),o=p(t.getElement("pwd_checklist_spa"));return i.show(),t.password={},t.password.err=0,n.val().length?(n.val().length>14||n.val().length<8?(t.password.err++,r.removeClass("pwd-checklist-item-success").addClass("pwd-checklist-item-error")):r.addClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),-1!==n.val().indexOf(" ")?(t.password.err++,o.removeClass("pwd-checklist-item-success").addClass("pwd-checklist-item-error")):o.addClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),void(n.val().length?s.addClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"):(t.password.err++,s.removeClass("pwd-checklist-item-success").addClass("pwd-checklist-item-error")))):(r.removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),s.removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"),void o.removeClass("pwd-checklist-item-success").removeClass("pwd-checklist-item-error"))},_getRSA:function(e){var t=this;d.data.getRsaKey({gid:t.guideRandom||""}).success(function(t){t.errInfo.no||0===+t.errInfo.no||(t=t.data);var n=new d.lib.RSA;n.setKey(t.pubkey),e&&e({RSA:n,rsakey:t.key})})},_initCountryCode:function(e){var t=this,n='<li class="pass-item-country"><span class="pass-country-code" data-countryCode="">+86</span>大陆地区</li>',i=t.countryCodeList||{},r=i.length;if(!(0>=r)){for(var s=0;r>s;s++)n+='<li class="pass-item-country"><span class="pass-country-code" data-countryCode='+i[s].code+">+"+i[s].code.substring(2)+"</span>"+i[s].name+"</li>";p(e).html(n)}},_getCountryCode:function(e){var t=this,n={apiver:"v3",subpro:t.config.subpro};d.data.jsonp("https://passport.baidu.com/v2/?securitygetcountrycode",n).success(function(n){n.data.country.length>0&&(t.countryCodeList=n.data.country,t.getElement("foreignCountryList")&&t._initCountryCode(t.getElement("foreignCountryList")),e&&e())})},_selectCountryList:function(){var e=this,t=e.getElement("foreignCountryList"),n=e.getElement("foreignMobileLabel");0!==+n.length&&(p(t).on("click",function(i){var r=i.target;if("li"===r.tagName.toLowerCase()){p(n).html(p(r).find("span.pass-country-code").eq(0).html());var s=p(r).find("span.pass-country-code").eq(0).attr("data-countryCode");p(n).attr("data-countryCode",s)}else"span"===r.tagName.toLowerCase()&&(p(n).html(p(r).html()),p(n).attr("data-countryCode",p(r).attr("data-countryCode")));e.$hide(t),p(n).removeClass("pass-label-code-up"),e.getElement("phone")&&e.getElement("phone").value&&(e.getElement("foreignMobileLabel")&&""!==p(e.getElement("foreignMobileLabel")).attr("data-countrycode")?(p(e.getElement("phone"))[0],e._validator.addRule("foreignmobile",function(e){return/^(\d)*$/.test(e.value)}),e._validator.addMsg("foreignmobile",e.lang.foreignMobileError),e._validator.confStorage[e.$getId()].phone={rules:["required","foreignmobile"],asyncRule:e._asyncValidate.phoneCheck,desc:e.lang.phoneNum}):e._validator.confStorage[e.$getId()].phone={rules:["required","phone"],asyncRule:e._asyncValidate.phoneCheck,desc:e.lang.phoneNum},e.validate("phone")),i.preventDefault()}),p(t).on("mouseover",function(e){var n=e.target;"li"===n.tagName.toLowerCase()?(p(t).find(".pass-item-country-hover").removeClass("pass-item-country-hover"),p(n).addClass("pass-item-country-hover")):"span"===n.tagName.toLowerCase()&&(p(t).find(".pass-item-country-hover").removeClass("pass-item-country-hover"),p(n).parent("li.pass-item-country").addClass("pass-item-country-hover"))}),p(t).on("mouseout",function(e){var t=e.target;"li"===t.tagName.toLowerCase()?p(t).removeClass("pass-item-country-hover"):"span"===t.tagName.toLowerCase()&&p(t).parent("li.pass-item-country").removeClass("pass-item-country-hover")}),p("html").on("click",function(i){var r=i.target;return n?void(p(r).attr("id")!==p(e.getElement("foreignMobileLabel")).attr("id")&&setTimeout(function(){e.$hide(t),p(n).removeClass("pass-label-code-up")},200)):!1}))},_setForeignMobileEvent:function(){var e=this;e.getElement("foreignMobileLabel")&&p(e.getElement("foreignMobileLabel")).on("click",function(t){var n=e.getElement("foreignCountryList");n&&"block"!==n.style.display?(e.$show(n),p(e.getElement("foreignMobileLabel")).addClass("pass-label-code-up")):n&&(e.$hide(n),p(e.getElement("foreignMobileLabel")).removeClass("pass-label-code-up")),e._selectCountryList(),t.preventDefault()})},setPwdStrength:function(e){var t=this,n={2:{text:t.lang.weak,className:"weak"},1:{text:t.lang.middle,className:"middle"},0:{text:t.lang.strong,className:"strong"},"-1":{text:"",className:""}};t.getElement("strengthTipText").innerHTML=n[e].text,p(t.getElement("strengthTipPic")).removeClass("weak middle strong").addClass(n[e].className)},_setPwdStrengthTip:function(){var e=this,t=p(e.getElement(e.config.hasPasswordcheck?"pwdChecklist":"strengthTip")),n=p(e.getElement("passwordTipText"));e.config.isLowpwdCheck||(t.length||e.config.hasPasswordcheck?(t=p(e._getIrregularField("pwdChecklist")),n.append(t)):(t=p(e._getIrregularField("strengthTip")),n.append(t)))},_resetPwdStrengthTipPos:function(){var e=this;e._hideTip("password"),e._showTip("password")},_showTip:function(e){var t=this,n=p(t.getElement("tipContainer")),i=p(t.getElement("tip")),r=p(t.getElement(e)),s=t.getElement(e+"TipText"),o=p(t.getElement(e+"Succ")),a=p(t.getElement(e+"Error"));if(t.config.hasPasswordcheck&&"password"===e)t.getElement("passwordTip").style.display="block",n.empty(),t.getElement("passwordError").style.display="none";else{if(!s||!s.innerHTML.length)return!1;n.empty().append(s),a.hide(),o.hide()}i.css({left:420,top:r.offset().top-p(t.getElement()).offset().top});var c=t.fireEvent("tipShow",{tip:i});c&&i.show()},_hideTip:function(e){var t=this;if(!t.config.hasPasswordcheck||"password"!==e||!t.password||0===+t.password.err){t.config.hasPasswordcheck&&"password"===e?t.getElement("passwordTip").style.display="none":p(t.getElement(e+"Tip")).append(t.getElement(e+"TipText"));var n=t.fireEvent("tipHide");n&&p(t.getElement("tip")).hide()}},_showSuggestNames:function(e,t,n){var i=this;if(t!==i.suggestListKey){p(i.getElement("suggestNameWrapper")).length||p(i._getIrregularField("suggestName")).insertAfter(i.getElement(i.config.regMergeUserName?"accountWrapper":"userNameWrapper")),i.suggestListKey=t;var r=p(i.getElement("suggestNameWrapper"));if(e&&e.length){r.empty();for(var s=0,o=e.length;o>s;s++)r.append('<p class="pass-suggest-item"><label name="suggestName"><input name="suggestName" id="'+i.$getId("suggestName__"+s)+'" type="radio" class="pass-suggest-item-radio" value="'+e[s]+'" />'+e[s]+"</label></p>");i.getElement("suggestType").value=n}else r.empty();"block"===i.getElement("tip").style.display&&i._resetPwdStrengthTipPos()}},disableSmsButton:function(){function e(){if(0===--a)return i.value=o,p(i).removeClass(n.constant.DISABLED_CLASS),i.disabled=!1,n.unbindRegConfirm&&n.unbindRegConfirm.getElement("confirm_cancel")&&(p(n.unbindRegConfirm.getElement("confirm_cancel")).removeClass("pass-confirm-btn-disabled"),n.unbindRegConfirm.getElement("confirm_cancel").disabled=!1),void(s&&(s.innerHTML="",n.config.regMerge?p(s).hide():n.config.isPhone&&p(s).hide()));var e=arguments.callee;i.value=n.config.regMerge?n.lang.SMSKeyResendTipMerge+"("+a+")":a+n.lang.SMSKeyResendTip,t=setTimeout(function(){e()},1e3)}var t,n=this,i=n.getElement("verifyCodeSend"),r=n.getElement("verifyCodeError"),s=n.getElement("verifyCodeSendTip"),o=i.value,a=60;p(i).addClass(n.constant.DISABLED_CLASS),i.disabled=!0,n.unbindRegConfirm&&n.unbindRegConfirm.getElement("confirm_cancel")&&(p(n.unbindRegConfirm.getElement("confirm_cancel")).addClass("pass-confirm-btn-disabled"),n.unbindRegConfirm.getElement("confirm_cancel").disabled=!0),r&&(r.style.display="none"),s&&(s.innerHTML=n.config.isVoiceSms?n.lang.VoiceKeySendTip:n.lang.SMSKeySendTip,n.config.regMerge?p(s).show():n.config.isPhone&&p(s).show()),e()},_asyncValidate:{checkEmail:function(t){var n=this,i=n.getElement(n.config.regMerge?"account":"email"),r=e(i.value+"Moonshadow");r=r.replace(/o/,"ow").replace(/d/,"do").replace(/a/,"ad"),r=r.replace(/h/,"ha").replace(/s/,"sh").replace(/n/,"ns").replace(/m/,"mo"),d.data.checkMail({email:i.value,moonshad:r}).success(function(e){var i=n.fireEvent("emailCheck",{rsp:e});if(i)if(0===+e.errInfo.no)t&&t.success(e);else{if(e.errInfo.msg.indexOf("#{")>0){var r=n.getElement("account")?n.getElement("account").value:n.getElement("email").value;e.errInfo.msg=n._format(e.errInfo.msg,{urldata:"&account="+r+"&tpl="+n.config.product+"&u="+(n.config.retu||n.config.u)})}e.msg=e.errInfo.msg,t&&t.error(e)}})},checkPassword:function(e){var t=this,n=t.getElement("password"),i="",r="";if(!t.config.hasPasswordcheck||!t.password||0===+t.password.err){t.config.hasPasswordcheck&&t._hideTip("password"),t.getElement("userName")&&(i=t.getElement("userName").value||""),t.getElement("phone")&&(r=t.getElement("phone").value||"");var s=n.value||"";if(t.RSA&&t.rsakey){var o=n.value;o.length<128&&!t.config.safeFlag&&(s=p.url.escapeSymbol(t.RSA.encrypt(o)))}d.data.checkPassword({password:s,gid:t.guideRandom||"",rsakey:t.rsakey,crypttype:12,userName:i,mobile:r}).success(function(n){var i=t.fireEvent("passwordStrengthCheck",{rsp:n});if(i)if(0===+n.errInfo.no){var r=n.data.pwdWeak;n.msg=t.lang.weakPwdError,t.config.hasPasswordcheck?t.setPwdCheckStren(r,n,e):(t.setPwdStrength(r),2===+r?e&&e.error(n):e&&e.success(n))}else if(4===+n.errInfo.no){var r=n.data.pwdWeak;n.msg=t.lang.weakPwdError,t.setPwdCheckStren(r,n,e)}})}},checkUserName:function(e){var t=this,n=t.getElement(t.config.regMergeUserName?"account":"userName");d.data.checkUserName({gid:t.guideRandom||"",userName:n.value}).success(function(i){var r=t.fireEvent("userNameCheck",{rsp:i});r&&(0===+i.errInfo.no?1===+i.data.userExsit?(i.msg=t.lang.userNameExistsError,e&&e.error(i),t._showSuggestNames(i.data.suggNames,n.value,i.data.userType)):(t._showSuggestNames([],n.value,i.data.userType),e&&e.success(i)):(t._showSuggestNames([],n.value,i.data.userType),i.msg=i.errInfo.msg,e&&e.error(i)))})},phoneCheck:function(t){var n=this,i=this.getElement(n.config.regMerge?"account":"phone");n.AccountExchangeFlag=n.getElement("exchange").value;var r=e(i.value+"Moonshadow");r=r.replace(/o/,"ow").replace(/d/,"do").replace(/a/,"ad"),r=r.replace(/h/,"ha").replace(/s/,"sh").replace(/n/,"ns").replace(/m/,"mo"),d.data.checkPhone({phone:i.value,moonshad:r,countrycode:n.getElement("foreignMobileLabel")?p(n.getElement("foreignMobileLabel")).attr("data-countrycode")||"":"",gid:n.guideRandom||"",exchange:n.AccountExchangeFlag,isexchangeable:n.config.isexchangeable,action:"reg"}).success(function(e){var r=n.fireEvent("phoneCheck",{rsp:e});if(r)if("1"===e.data.isCheatUser?(n.config.isVoiceSms=parseInt(e.data.isCheatUser,10)||0,n.getElement("verifyCodeSend").value="获取语音验证码"):(n.config.isVoiceSms=0,n.getElement("verifyCodeSend").value="获取短信验证码"),0===+e.errInfo.no)t&&t.success(e),n.$multiTip&&n.$multiTip.hide();else if(e.errInfo.no+""=="130020"){var s=(!n.config.regMerge&&n.config.isPhone?"手机号":"手机号或邮箱","");n.getElement("foreignMobileLabel")&&(s=p(n.getElement("foreignMobileLabel")).html()),n.unbindRegConfirm&&n.unbindRegConfirm.hide(),n.changeRegConfirm?(p(n.getElement("changeRegPhone")).html(s+i.value),n.changeRegConfirm.show()):d._load(n._domain.auto+"/passApi/js/uni_wrapper.js",!0,function(){n.changeRegConfirm=d.pop.init({type:"confirmWidget",tangram:!0,width:390,apiOpt:{Cancel:"取消",Continue:"登录",contentHTML:'<div class="pass-confirmContent-wrapper"><div class="pass-confirmContent-msg">该手机已注册，可以通过密码或短信快捷登录。</div></div>'},onConfirmClose:function(){n.changeRegConfirm.hide(),i.value="",i.focus()},onConfirmCancel:function(){n.changeRegConfirm.hide(),i.value="",i.focus()},onConfirmContinue:function(){var e=i.value,t="http://passport.baidu.com/v2/?login&account="+e+"&tpl="+n.config.product+"&u="+(n.config.retu||n.config.u);n.changeRegConfirm.hide(),window.location?window.location.href=t:document.location.href=t}}),n.changeRegConfirm.show()})}else if(e.errInfo.no+""=="400005"||e.errInfo.no+""=="400001"||e.errInfo.no+""=="400003"){n.changeRegConfirm&&n.changeRegConfirm.hide();var s="";n.getElement("foreignMobileLabel")&&(s=p(n.getElement("foreignMobileLabel")).html()),n.unbindRegConfirm?(p(n.getElement("unbindRegPhone")).html(s+i.value),n.unbindRegConfirm.show()):d._load(n._domain.auto+"/passApi/js/uni_wrapper.js",!0,function(){n.unbindRegConfirm=d.pop.init({type:"confirmWidget",tangram:!0,width:390,apiOpt:{Cancel:"取消",Continue:"登录",contentHTML:'<div class="pass-confirmContent-wrapper"><div class="pass-confirmContent-msg">该手机已注册，可以通过密码或短信快捷登录。</div></div>'},onConfirmClose:function(){n.unbindRegConfirm.hide(),i.value="",i.focus()},onConfirmCancel:function(){n.unbindRegConfirm.hide(),n.getElement("phone").value="",n.getElement("phone").focus()},onConfirmContinue:function(){var e=i.value,t="http://passport.baidu.com/v2/?login&account="+e+"&tpl="+n.config.product+"&u="+(n.config.retu||n.config.u);n.unbindRegConfirm.hide(),window.location?window.location.href=t:document.location.href=t}}),n.unbindRegConfirm.show()})}else{if(e.errInfo.msg.indexOf("#{")>0){var o=n.getElement("account")?n.getElement("account").value:n.getElement("phone").value;e.errInfo.msg=n._format(e.errInfo.msg,{urldata:"&account="+o+"&tpl="+n.config.product+"&u="+(n.config.retu||n.config.u)})}e.msg=e.errInfo.msg,t&&t.error(e)}})}},cutVerifyCode:function(e){var t=this,n=t.getElement("verifyCode_placeholder"),i=t.getElement("verifyCodeTipText");"phone"===e?(p(t.getElement("verifyCodeImg")).parent().hide(),p(t.getElement("verifyCodeChange")).hide(),p(t.getElement("verifyCodeSend")).show(),i&&(i.innerHTML=t.lang.SMSKeyTip),n&&(n.innerHTML=t.lang.smsVerifyCode)):(p(t.getElement("verifyCodeImg")).parent().show(),p(t.getElement("verifyCodeChange")).show(),p(t.getElement("verifyCodeSend")).hide(),i&&(i.innerHTML=t.lang.captchaTip),n&&(n.innerHTML=t.lang.captcha)),p(t.getElement("verifyCodeSendTip")).hide().get(0).innerHTML="",t.regMergeType=e},_sendSMSVcode:function(e,t,n,i,r){var s=this,o=s.getElement(s.config.regMerge?"account":"phone").value;s.config.isexchangeable&&(s.AccountExchangeFlag=1),s.validate(s.config.regMerge?"account":"phone",{success:function(){var e={is_voice_sms:s.config.isVoiceSms,phone:o,countrycode:s.getElement("foreignMobileLabel")?p(s.getElement("foreignMobileLabel")).attr("data-countrycode")||"":"",gid:s.guideRandom||"",isexchangeable:s.config.isexchangeable,subpro:s.config.subpro,validatedata:i,dv:document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||""};r&&r.ds&&r.tk&&(e.ds=r.ds,e.tk=r.tk),d.data.sendPhoneCode(e).success(function(e){var t=s.fireEvent("smsCodeSend",{rsp:e});if(t)if(0===+e.errInfo.no)n&&n.success&&n.success();else if(50042===+e.errInfo.no)s.regPassMkd.initVcode();else if(130040===+e.errInfo.no){n&&n.validate&&n.validate();var i=s.constant.VERIFYCODE_URL_PREFIX+e.data.vcodestr;s.getElement("vcodesign").value=e.data.vcodesign,s.getElement("vcodestr").value=e.data.vcodestr,s.confirmRegVerifyWidget?(s.getElement("confirmVerifyCodeImg").src=i,p(s.getElement("confirmVerifyCode")).val(""),s.confirmRegVerifyWidget.show()):setTimeout(function(){d._load(s._domain.auto+"/passApi/js/uni_wrapper.js",!0,function(){s.confirmRegVerifyWidget=d.pop.init({type:"confirmWidget",tangram:!0,titleText:"安全验证",width:490,apiOpt:{Continue:"确定",contentHTML:'<p class="pass-confirmReg-verifyWidget-msg">请填写图中的验证码</p><p class="pass-confirmReg-verifyWidget-imgWrapper"><input type="text" class="pass-text-input pass-confirmReg-verifyWidget-verifyCode" id="'+s.$getId("confirmVerifyCode")+'" name="confirmVerifyCode" value="" /><img src="'+i+'" title="" class="pass-confirmReg-verifyWidget-verifyCode-img" id="'+s.$getId("confirmVerifyCodeImg")+'" /><a href="#" class="pass-confirmReg-verifyWidget-imgChange" id="'+s.$getId("confirmVerifyCodeChange")+'">换一张</a><span class="pass-confirmReg-verifyWidget-error" id="'+s.$getId("confirmVerifyCodeError")+'"></span></p>'},onRender:function(){p(s.confirmRegVerifyWidget.getElement("confirmWidget_footer")).addClass("pass-confirmReg-verifyWidget-bottom"),s.config.hasPlaceholder&&s._getPlaceholder([{label:"confirmVerifyCode",placeholder:"verifyCode"}]),p(s.getElement("confirmVerifyCodeChange")).on("click",function(){d.data.getRegSmsVerifyCodeStr().success(function(e){if(0===+e.errInfo.no){var t=s.getElement("confirmVerifyCodeImg");t.src=s.constant.VERIFYCODE_URL_PREFIX+e.data.verifyStr,s.getElement("vcodesign").value=e.data.vcodesign,s.getElement("vcodestr").value=e.data.vcodestr}})}),p(s.getElement("confirmVerifyCode")).on("keyup",function(){p(s.getElement("confirmVerifyCode")).removeClass("pass-text-input-error");var e=p(s.getElement("confirmVerifyCodeError"));e.hide(),e.get(0).innerHTML=""}),p(s.getElement("confirmVerifyCode")).on("change",function(){var e=s.getElement("confirmVerifyCode");e.value=e.value.replace(/\s/g,"")})},onConfirmCancel:function(){},onConfirmContinue:function(){var e=p(s.getElement("confirmVerifyCode"));if(""===e.val()){e.addClass("pass-text-input-error");var t=p(s.getElement("confirmVerifyCodeError"));return t.show(),void(t.get(0).innerHTML=s.lang.confirmVerCodeEmpty)}var n=p(s.getElement("foreignMobileLabel"));d.data.sendPhoneCode({is_voice_sms:s.config.isVoiceSms,phone:o,countrycode:s.getElement("foreignMobileLabel")?n.attr("data-countrycode")||"":"",isexchangeable:s.config.isexchangeable,subpro:s.config.subpro,confirmVerifyCode:e.val(),vcodesign:s.getElement("vcodesign").value,dv:document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"",vcodestr:s.getElement("vcodestr").value}).success(function(e){var t=p(s.getElement("confirmVerifyCodeError"http://passport.baidu.com/passApi/js/));0===+e.errInfo.no?(t.hide(),p(s.getElement("verifyCodeError")).hide(),s.confirmRegVerifyWidget.hide(),s.config.nocaptcha?s.nocaptcha.sendSMS():s.disableSmsButton()):130041===+e.errInfo.no||130042===+e.errInfo.no?(p(s.getElement("confirmVerifyCode")).addClass("pass-text-input-error"),t.show(),t.get(0).innerHTML=e.errInfo.msg):(t.hide(),s.confirmRegVerifyWidget.hide(),p(s.getElement("verifyCodeError")).show().get(0).innerHTML=e.errInfo.msg,p(s.getElement("verifyCodeSendTip")).hide().get(0).innerHTML="")})}}),s.confirmRegVerifyWidget.show()})},80)}else s.getElement("verifyCodeError")&&(p(s.getElement("verifyCodeError")).show(),p(s.getElement("verifyCodeError")).get(0).innerHTML=e.errInfo.msg),s.getElement("verifyCodeSendTip")&&(p(s.getElement("verifyCodeSendTip")).hide(),p(s.getElement("verifyCodeSendTip")).get(0).innerHTML=""),n&&n.error&&n.error(e.errInfo.msg)})}})},_format:function(e,t){e=String(e);var n=Array.prototype.slice.call(arguments,1),i=Object.prototype.toString;return n.length?(n=1===n.length&&null!==t&&/\[object Array\]|\[object Object\]/.test(i.call(t))?t:n,e.replace(/#\{(.+?)\}/g,function(e,t){var r=n[t];return"[object Function]"===i.call(r)&&(r=r(t)),"undefined"==typeof r?"":r})):e},_eventHandler:function(){var e,t={focus:function(){var t=e.fireEvent("fieldFocus",{ele:this});t&&(this.addClass(e.constant.FOCUS_CLASS),this.removeClass(e.constant.ERROR_CLASS))},blur:function(t){e.getElement(t).value=e.getElement(t).value.replace(/\s/g,"");var n=e.fireEvent("fieldBlur",{ele:this});n&&this.removeClass(e.constant.FOCUS_CLASS)},mouseover:function(){var t=e.fireEvent("fieldMouseover",{ele:this});t&&this.addClass(e.constant.HOVER_CLASS)},mouseout:function(){var t=e.fireEvent("fieldMouseout",{ele:this});t&&this.removeClass(e.constant.HOVER_CLASS)},keyup:function(){e.fireEvent("fieldKeyup",{ele:this})}},n={focus:{account:function(){e.getElement("exchange").value=0,e._showTip("account")},email:function(){e._showTip("email")},phone:function(){e.getElement("exchange").value=0,e._showTip("phone"),e._showNocaptcha(!1)},userName:function(){e._showTip("userName")},password:function(){e._showTip("password"),e._getRSA(function(t){e.RSA=t.RSA,e.rsakey=t.rsakey})},verifyPass:function(){e._showTip("verifyPass")},verifyCode:function(){e._showTip("verifyCode"),e.getElement("verifyCodeSendTip")&&(e.getElement("verifyCodeSendTip").style.display="none"),e.getElement("verifyCodeError")&&(e.getElement("verifyCodeError").style.display="none")},smsCode:function(){e._showTip("smsCode")}},blur:{account:function(t){var n=e.getElement(t);n.value&&(e.$multiTip&&e.$multiTip.hide(),/\S+/.test(n.value)?/^\d+$/.test(n.value)?(e.AccountExchangeFlag=0,e.getElement("suggestNameWrapper")&&p(e.getElement("suggestNameWrapper")).empty(),e.suggestListKey&&(e.suggestListKey=""),e._validator.confStorage[e.$getId()][t]={rules:["required","phone"],asyncRule:e._asyncValidate.phoneCheck,desc:e.lang.account},e.cutVerifyCode("phone"),e.validate(t)):n.value.indexOf("@")>-1?(e.suggestListKey&&(e.suggestListKey=""),e.getElement("suggestNameWrapper")&&p(e.getElement("suggestNameWrapper")).empty(),e._validator.confStorage[e.$getId()][t]={rules:["required","mailLength","email","emailLimit"],asyncRule:e._asyncValidate.checkEmail,desc:e.lang.account},e.cutVerifyCode("email"),setTimeout(function(){e.validate(t)},200)):e.config.regMergeUserName?(e._validator.confStorage[e.$getId()][t]={rules:["required","userNameLength","userNameNumber"],asyncRule:e._asyncValidate.checkUserName,desc:e.lang.account},e.cutVerifyCode("userName"),e.validate(t)):(e._validator.confStorage[e.$getId()][t]={rules:["accountMerge"],desc:e.lang.account},e.cutVerifyCode("email"),e.validate(t)):(e._validator.confStorage[e.$getId()][t]={rules:["required"],desc:e.config.regMergeUserName?e.lang.accountEmpty_username:window.accountEmpty},e.validate(t)))},email:function(t){var n=e.getElement(t);n.value&&e.validate(t)},phone:function(t){var n=e.getElement(t);n.value&&(e.getElement("foreignMobileLabel")&&""!==p(e.getElement("foreignMobileLabel")).attr("data-countrycode")?(e._validator.addRule("foreignmobile",function(e){return/^(\d)*$/.test(e.value)}),e._validator.addMsg("foreignmobile",e.lang.foreignMobileError),e._validator.confStorage[e.$getId()].phone={rules:["required","foreignmobile"],asyncRule:e._asyncValidate.phoneCheck,desc:e.lang.phoneNum}):e._validator.confStorage[e.$getId()].phone={rules:["required","phone"],asyncRule:e._asyncValidate.phoneCheck,desc:e.lang.phoneNum},e.validate(t,{success:function(){n.value&&e._showNocaptcha(!0,n)}}))},userName:function(t){var n=e.getElement(t);n.value&&e.validate(t)},password:function(t){var n=e.getElement(t);n.value&&e.validate(t)},verifyPass:function(t){var n=e.getElement(t);n.value&&e.validate(t)},verifyCode:function(t){var n=e.getElement(t);n.value&&e.validate(t)},smsCode:function(t){var n=e.getElement(t);n.value&&e.validate(t)}},change:{email:function(){}},keyup:{account:function(t){var n=e.getElement(t).value;e.suggestion&&-1===n.indexOf("@")&&e.suggestion.hide()},password:function(t){var n=e.getElement(t);e.isInputPassword||(e.isInputPassword=!0,e.sendLog(e,"pc-register-password-input",{})),e.config.isLowpwdCheck||(n.value.length<8&&!e.config.hasPasswordcheck?e.setPwdStrength(-1):e.config.hasPasswordcheck?e.passwordCheckList(t):e.validate(t),e.getElement("showpwd_password_content")&&(e.getElement("showpwd_password_content").innerHTML=n.value))},phone:function(t){e.getElement(t).value,e.isInputPhone||(e.isInputPhone=!0,e.sendLog(e,"pc-register-phone-input",{}))},userName:function(){e.isInputUserName||(e.isInputUserName=!0,e.sendLog(e,"pc-register-username-input",{}))},verifyCode:function(){e.isInputSmsCode||(e.isInputSmsCode=!0,e.sendLog(e,"pc-register-sms-input",{}))}},click:{isAgree:function(t){e.validate(t)},suggestName:function(){var t=this,n=t.get(0);n.tagName&&"LABEL"===n.tagName||(t=t.parent()),t=t.find("input");var i=t.get(0).value,r=e.fireEvent("selectSuggestName",{suggestName:i});if(r){p(e.getElement("suggestNameWrapper")).empty(),e.getElement(e.config.regMergeUserName?"account":"userName").value=i,e.getElement(e.config.regMergeUserName?"account":"userName").focus(),e._hideTip(e.config.regMergeUserName?"account":"userName"),e.config.regMerge&&p(e.getElement("Placeholder")).hide(),e.setValidateSuccess(e.config.regMergeUserName?"account":"userName"),e.suggestListKey=i;var s=t.attr("id").match(/(\d+)$/)[1];e.getElement("selectedSuggestName").value=i,e.getElement("suggestIndex").value=s}},verifyCodeChange:function(t,n){e.getVerifyCode(),e.getElement("verifyCode").focus(),n.preventDefault(),e.sendLog(e,"pc-register-sms-again-click",{})},verifyCodeSend:function(t,n){if(e.regPassMkd&&e.regPassMkd.getDataAsync){var i={};e.regPassMkd.getDataAsync(function(r){i.ds=r.ds||"xxx",i.tk=r.tk||"xxx",e._sendSMSVcode(t,n,{success:function(){e.disableSmsButton()}},null,i)})}else e._sendSMSVcode(t,n,{success:function(){e.disableSmsButton()}});e.sendLog(e,"pc-register-sms-click",{})}},submit:function(t){e.config.isexchangeable&&(e.AccountExchangeFlag=1),e.sendLog(e,"pc-register-submit-click",{}),e.validateAll({success:function(){e.getElement("submit").focus();var t=e.fireEvent("beforeSubmit");if(t){var n=p.form.json(e.getElement("form"));!e.config.regMerge&&e.config.isPhone&&(n.smscode=n.verifyCode),("userName"===e.regMergeType||e.config.userName)&&n.userName!==n.selectedSuggestName&&(n.suggestIndex="",n.suggestType=""),e.getElement("submit").style.color="#9ebef4",n.timeSpan=(new Date).getTime()-e.initTime;var i=function(t){if(0===+t.errInfo.no)if(e.getElement("submit").style.color="#fff",t.data.needToModifyPassword)window.loaction.href=e.constant.MODIFY_PWD_URL_PREFIX+"?u="+window.u||"";else{var n=e.fireEvent("regSuccess",{rsp:t});if(!n)return;window.location.href=t.data.u}else{if("400413"===t.errInfo.no||"400414"===t.errInfo.no){var i,r=window.location?"http:"===window.location.protocol.toLowerCase()?"http://passport.baidu.com/":"https://passport.baidu.com":"http:"===document.location.protocol.toLowerCase()?"http://passport.baidu.com/":"https://passport.baidu.com",s={uni_armorwidget:"uni_armorwidget_13812f7.js"/*tpa=http://passport.baidu.com/passApi/js/uni_armorwidget_13812f7.js*/,uni_forceverify:"uni_forceverify_fd55741.js"/*tpa=http://passport.baidu.com/passApi/js/uni_forceverify_fd55741.js*/,uni_accConnect:"uni_accConnect_wrapper.js"/*tpa=http://passport.baidu.com/passApi/js/uni_accConnect_wrapper.js*/,uni_wrapper:"uni_wrapper.js"/*tpa=http://passport.baidu.com/passApi/js/uni_wrapper.js*/};
return e.config.u=t.data.u||e.config.u,setTimeout(function(){d._load(r+s.uni_wrapper,!0,function(){i?(i.reRender&&i.reRender({lstr:t.data.lstr||"",ltoken:t.data.ltoken||"",token:t.data.authtoken||"",loginproxy:t.data.loginproxy||"",select:"400413"http://passport.baidu.com/passApi/js/===t.errInfo.no?"1":"0"}),i.show()):(i=d.pop.init({type:"secondCardVerify",tangram:!0,color:e.config.color||"blue",apiOpt:{u:e.config.u,product:e.config.product,lstr:t.data.lstr||"",ltoken:t.data.ltoken||"",token:t.data.authtoken||"",staticPage:e.config.staticPage,select:"400413"http://passport.baidu.com/passApi/js/===t.errInfo.no?"1":"0",scscene:t.data.scscene||"",scnewuser:t.data.scnewuser||"",loginproxy:t.data.loginproxy||""},onloginSuccess:function(e){location.href=e.target.config.u},onSubmitSuccess:function(t,n){n.rsp.data.loginproxy&&d.data.jsonp(n.rsp.data.loginproxy).success(function(i){"0"http://passport.baidu.com/passApi/js/===i.errInfo.no?document.location.href="https://passport.baidu.com/v3/security/main/secondcardmodifyaccinfo?tpl="+e.config.product+"&bdstoken="+n.rsp.data.bdstoken+"&authsid="+n.rsp.data.mod_authsid+"&u="+encodeURIComponent(i.data.u)+"&loginType="+n.rsp.data.loginType+"&hasUsername="+n.rsp.data.hasUsername:t.target.getElement("secondCardError").innerHTML=e.lang.sysError})}}),i.show())})},80),!1}e.getElement("submit").style.color="#fff";var n=e.fireEvent("regError",{rsp:t});if(!n)return;if(t.errInfo.msg&&t.errInfo.msg.indexOf("#{")>=0)if(110024===+t.errInfo.no){var o=e._domain.https+"/v2/?regnotify&action=resend&tpl="+e.config.product+"&email="+encodeURIComponent(t.data.email)+"&u="+encodeURIComponent(t.data.u);t.errInfo.msg=e._format(t.errInfo.msg,{gotourl:o})}else{var a=e.getElement("account").value;t.errInfo.msg=e._format(t.errInfo.msg,{urldata:"&account="+a+"&tpl="+e.config.product+"&u="+(e.config.retu||e.config.u)})}t.errInfo.field?(e.config.regMerge?/^(phone|email|userName)$/g.test(t.errInfo.field)?t.errInfo.field="account":/^(smsCode)$/g.test(t.errInfo.field)&&(t.errInfo.field="verifyCode"):e.config.isPhone&&(/^(phone)$/g.test(t.errInfo.field)?t.errInfo.field="phone":/^(smsCode)$/g.test(t.errInfo.field)&&(t.errInfo.field="verifyCode")),e.setValidateError(t.errInfo.field,t.errInfo.msg)):e.setGeneralError(t.errInfo.msg);var c=71e3===parseInt(t.errInfo.no,10);if(e.config.isPhone||c||e.getVerifyCode(),c){var l=e._domain.auto+"/passApi/js/uni_wrapper.js";d._load(l,!0,function(){var t=d.pop.init({type:"confirmWidget",tangram:!0,apiOpt:{Cancel:"取消",Continue:"登录",contentHTML:'<div class="pass-reg-confirm-dia"><span class="pass-reg-confirm-diamsg">该手机已注册，可以通过密码或短信快捷登录。</span></div>'},onRender:function(){},onConfirmClose:function(){t.hide(),e.getElement("phone").value="",e.getElement("phone").focus()},onConfirmCancel:function(){t.hide(),e.getElement("phone").val(""),e.getElement("phone").focus()},onConfirmContinue:function(){var n=e.getElement("phone").value,i="http://passport.baidu.com/v2/?login&account="+n+"&tpl="+e.config.product+"&u="+(e.config.retu||e.config.u);t.hide(),window.location?window.location.href=i:document.location.href=i}});t.show()})}}};if(n.isVoiceSmsReg=e.config.isVoiceSms?1:0,"phone"===e.regMergeType?(n.phone=n.account,n.smscode=n.verifyCode,n.registerType=0):"email"===e.regMergeType?n.email=n.account:"userName"===e.regMergeType&&(n.username=n.account,n.quick_user=e.config.regMergeUserName),e.RSA&&e.rsakey){var r=e.getElement("password").value;r.length<128&&!e.config.safeFlag&&(n.loginpass=p.url.escapeSymbol(e.RSA.encrypt(r)),n.rsakey=e.rsakey,n.crypttype=12,document.getElementById("_rsakey").value=n.rsakey,document.getElementById("_regpass").value=n.loginpass,document.getElementById("_username").value=n.userName)}var s=document.getElementById("dv_Input");n.dv=s?s.value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"",e.isBrowser||(n.isInside=1),"phone"===e.regMergeType||e.config.isPhone?(n.countrycode=e.getElement("foreignMobileLabel")?p(e.getElement("foreignMobileLabel")).attr("data-countrycode")||"":"",d.data.regPhone(n).success(i)):(n.verifypass=n.loginpass||"",d.data.reg(n).success(i))}},error:function(){p(e.getElement("tipContainer")).hide()}}),t.preventDefault()}};return{entrance:function(i){e=this;var r=(p(i.target),i.target.name);if(!r&&i.target.id){var s=i.target.id.match(/\d+__(.*)$/);s&&(r=s[1])}r&&(t.hasOwnProperty(i.type)&&t[i.type].apply(p(i.target),[r,i]),n.hasOwnProperty(i.type)&&("function"==typeof n[i.type]&&n[i.type].apply(p(i.target),[i]),n[i.type].hasOwnProperty(r)&&n[i.type][r].apply(p(i.target),[r,i])),"blur"===i.type&&e._hideTip(r))}}}(),$dispose:function(){var e=this;e.disposed||(p.dom(e.getElement()).removeClass(e.constant.CONTAINER_CLASS),p.dom(e.getElement("form")).remove(),h.Base.prototype.$dispose.call(e))}}),h});