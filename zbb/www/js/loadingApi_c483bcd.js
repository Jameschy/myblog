passport._define("loadingApi.js"/*tpa=http://passport.baidu.com/passApi/js/loadingApi.js*/,function(){var e=e||window.passport||{},t=e.tangramInst||t||window.baidu;!function(e){e.apiDomain={staticDomain:window.location?"http:"==window.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com":"http:"==document.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com"}}(e);var n=null;if("function"!=typeof n)var n=function(){};n._baiduInstName=n._baiduInstName||"bdInst_"+(new Date).getTime();var a=a||t.baiduInstance||window.baiduInstance;window[n._baiduInstName]=window[n._baiduInstName]||a,n.resourcePath="",n.skinName="default",n.version="1.0.0.0",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),t.form=t.form||{},t.url=t.url||{},t.url.escapeSymbol=t.url.escapeSymbol||function(e){return String(e).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(e){return"%"+(256+e.charCodeAt()).toString(16).substring(1).toUpperCase()})},t.form.json=t.form.json||function(e,n){function a(e,t){var n=g[e];n?(n.push||(g[e]=[n]),g[e].push(t)):g[e]=t}for(var i,o,s,r,l,c,d,u,p=e.elements,n=n||function(e){return e},g={},f=0,h=p.length;h>f;f++)if(i=p[f],s=i.name,!i.disabled&&s)switch(o=i.type,r=t.url.escapeSymbol(i.value),o){case"radio":case"checkbox":i.checked&&a(s,n(r,s));break;case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":a(s,n(r,s));break;case"select-multiple":for(l=i.options,d=l.length,c=0;d>c;c++)u=l[c],u.selected&&a(s,n(u.value,s))}return g},n.Base=function(){t.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},t.lang.inherits(n.Base,t.lang.Class,"http://passport.baidu.com/passApi/js/magic.Base").extend({getElement:function(e){return document.getElementById(this.$getId(e))},getElements:function(){var e={},t=this._ids;for(var n in t)e[n]=this.getElement(n);return e},$getId:function(e){return e=t.lang.isString(e)?e:"",this._ids[e]||(this._ids[e]=this._eid+e)},$mappingDom:function(e,n){return t.lang.isString(n)?this._ids[e]=n:n&&n.nodeType&&(n.id?this._ids[e]=n.id:n.id=this.$getId(e)),this},$hide:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="none",e.style.visibility="hidden"),this},$show:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="block",e.style.visibility="visible",e.style.opacity="1"),this},$dispose:function(){this.fire("ondispose")&&t.lang.Class.prototype.dispose.call(this)}}),n.control=n.control||{},function(){function e(e,t){var n,a=e.getAttribute(t),o=!1;if(a&&(n=a.match(i[0]))){o={};for(var s,r=0;r<n.length;r++)s=n[r].match(i[1]),!isNaN(s[2])&&(s[2]=+s[2]),i[2].test(s[2])&&(s[2]=s[2].replace(i[3],"$2")),i[4].test(s[2])&&(s[2]=i[5].test(s[2])),o[s[1]]=s[2]}return o}function a(a,i){var o=e(a,"tang-event");if(o)for(var s in o){var r=o[s].substr(1);r.indexOf("(")<0&&(r+="()"),t.dom(a).on(s,new Function(n._baiduInstName+"('"+i+"') && "+n._baiduInstName+"('"+i+"')"+r))}}n.setup=n.setup||function(t,n,i){var o=e(t,"tang-param")||{};for(var s in i)o[s]=i[s];var r=new n(o);r.$mappingDom("",t),a(t,r.guid);for(var l=t.getElementsByTagName("*"),s=l.length-1;s>=0;s--)a(l[s],r.guid);return r};var i=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i]}();var e=e||window.passport||{};return e.err=e.err||{},function(e){var t=null;t="function"===(typeof e.getCurrent).toLowerCase()?e.getCurrent():{errMsg:{},labelText:{}},t.errMsg.loadingApi={},t.labelText.loadingApi={},e.getCurrent=function(){return t}}(e.err),n.passport=t.lang.createClass(function(){this._validateInfo={}},{type:"magic.passport",superClass:n.Base}).extend({_getRegularField:function(e){var t=e.pwd?"password":"text",n=this,a='autocomplete="off"',i=e.maxLength?'maxlength="'+e.maxLength+'"':"",o=e.tip?e.tip:"",s=e.value?e.value:"",r=e.field+""=="verifycode"?"none":"",l="";l="text"===t?'<input type="text" style="display:none;">':'<input type="password" style="display: none;">';var c='<p id="'+n.$getId(e.field+"Wrapper")+'" class="pass-form-item pass-form-item-'+e.field+'" style="display:'+r+'">'+(e.label?'<label for="'+n.$getId(e.field)+'" id="'+n.$getId(e.field+"Label")+'" class="pass-label pass-label-'+e.field+'">'+e.label+"</label>":"")+l+'<input id="'+n.$getId(e.field)+'" type="'+t+'" name="'+e.field+'" class="pass-text-input pass-text-input-'+e.field+'" '+i+(e.placeholder?'placeholder="'+e.placeholder+'" ':"")+a+(e.disabled?'" disabled':"")+' value="'+s+'"/>'+(e.noError?"":'<span id="'+n.$getId(e.field+"Error")+'" class="pass-item-error pass-item-error-'+e.field+'"></span>')+(e.hasSucc?'<span id="'+n.$getId(e.field+"Succ")+'" class="pass-item-succ pass-item-succ-'+e.field+'" style="display:none;"></span>':"")+'<span id="'+n.$getId(e.field+"Tip")+'" class="pass-item-tip pass-item-tip-'+e.field+'" style="display:none"><span id="'+n.$getId(e.field+"TipText")+'" class="pass-item-tiptext pass-item-tiptext-'+e.field+'">'+o+"</span></span></p>";return c},_getHiddenField:function(e,t){var n,a=this,i='<p id="'+a.$getId(t||"hiddenFields")+'" style="display:none">';for(var o in e)e.hasOwnProperty(o)&&(n="string"==typeof e[o]?e[o].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;"):e[o],i+='<input type="hidden" id="'+a.$getId((t?t+"_":"")+o)+'" name="'+o+'" value="'+n+'" />');return i+="</p>"},_setEvent:function(){var e=this,n=this.getElement(),a=function(t){e._eventHandler.entrance.apply(e,[t])};t(e.getElement()).on("resize",function(){var e=(navigator.userAgent,!navigator.userAgent.match(/OS [1-8]_\d[_\d]* like Mac OS X/i)),t=!!navigator.userAgent.toString().match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=navigator.userAgent.toString().indexOf("iPad");if(e&&t&&null!=n){var a=document.getElementsByClassName("popBox");null!=a&&a.length>0&&(a[0].style.height=window.screen.height>document.body.clientHeight?window.screen.height*(window.screen.height/document.body.clientHeight)+120+"px":window.screen.height*(window.screen.height/document.body.clientHeight))}}),t(e.getElement("form")).on("submit",a),t(e.getElement("license")).on("click",a),t(e.getElement("verifyCodeChange")).on("click",a),t(e.getElement("verifyCodeSend")).on("click",a),t(e.getElement("smsVcodeSend")).on("click",a),t(n).delegate(".pass-suggest-item label","click",a),t(".pass-text-input",e.getElement()).on({focus:a,blur:a,change:a,keyup:a,mouseover:a,mouseout:a})},_validator:{confStorage:{},builtInMsg:{required:"请您输入%s",phone:"手机号码格式不正确",email:"邮箱格式不正确",idcard:"身份证格式不正确"},builtInRules:{required:/\S+/,phone:/^1[3456789]\d{9}$/,email:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,idcard:/(^\d{15}$)|(^\d{17}(\d|X|x)$)/},init:function(e,t){this.confStorage[e.$getId()]=t},validate:function(e,t,n,a){var i=e.getElement(t),o={field:t},s=/^\s*(.+?)\s*$/;if(!i||0===+i.offsetHeight)return!1;for(var r=i.value.replace(s,"$1"),l=this.confStorage[e.$getId()][t],c=l.rules,d=0,u=c.length;u>d;d++){var p,g=c[d],f=this.builtInRules[g];if(p="[object function]"===Object.prototype.toString.call(f).toLowerCase()?f.call(e,i,a):new RegExp(f).test(r),!p)return o.error=!0,e._validateInfo[t]=0,o.msg=this.builtInMsg[g].replace(/\%s/,l.desc),e._validateError(o),void n.error(o)}l.asyncRule?l.asyncRule.call(e,{success:function(a){o.error=!1,o.data=a.data,e._validateInfo[t]=1,e._validateSuccess(o),n.success(o)},error:function(a){o.error=!0,e._validateInfo[t]=0,o.msg=a.msg,e._validateError(o),n.error(o)}},a):(o.error=!1,e._validateInfo[t]=1,e._validateSuccess(o),n.success(o))},validateAll:function(e,t,n){function a(){r=!0,s?t&&t.error(l):t&&t.success(l)}var i=this.confStorage[e.$getId()],o=0,s=!1,r=!1,l=[],c=this._getActiveValidate(e,!0);for(var d in i){if(r)break;this.validate(e,d,{success:function(e){o++,l.push(e),o===c&&a()},error:function(e){return s=!0,o++,l.push(e),n?void a():void(o===c&&a())}},"all")}},_getActiveValidate:function(e,t){var n=this.confStorage[e.$getId()],a=[];for(var i in n){var o=e.getElement(i);o&&0!==o.offsetHeight&&a.push(o)}return t?a.length:a},addRule:function(e,n){var a={};a[e]=n,t.extend(this.builtInRules,a)},addMsg:function(e,n){var a={};a[e]=n,t.extend(this.builtInMsg,a)}},validate:function(e,n){var a=this,i=a.fireEvent("beforeValidate",{validate:{field:e,ele:t(a.getElement(e))}});i&&a._validator.validate(a,e,{success:function(e){var t=a.fireEvent("validateSuccess",{validate:e});t&&n&&n.success&&n.success(e)},error:function(e){var t=a.fireEvent("validateError",{validate:e});t&&n&&n.error&&n.error(e)}})},validateAll:function(e,t){var n=this;t="boolean"==typeof e?e:t?t:!1;var a=n.fireEvent("beforeValidateAll");a&&n._validator.validateAll(n,{success:function(t){var a=n.fireEvent("validateAllSuccess",{validates:t});a&&e&&e.success&&e.success(t)},error:function(t){var a=n.fireEvent("validateAllError",{validates:t});a&&e&&e.error&&e.error(t)}},t)},getValidateStatus:function(e){return this._validateInfo.hasOwnProperty(e)?this._validateInfo[e]:-1},setValidateSuccess:function(e){var t=this;t._validateInfo[e]=1,t._validateSuccess({field:e})},setValidateError:function(e,t,n){var a=this;a._validateInfo[e]=0,a._validateError({field:e,msg:t},n)},setGeneralError:function(e){this.getElement("error").innerHTML=e},clearGeneralError:function(){this.getElement("error").innerHTML=""},_isSupportPlaceholder:function(){return"placeholder"in document.createElement("input")},_getPlaceholder:function(e){for(var n=this,a={},i="",o={},s=0;s<e.length;s++)i=n.lang[e[s].placeholder],0!==+e[s].clearbtn&&(o[s]=t('<span id="'+n.$getId(e[s].label+"_clearbtn")+'" class="pass-clearbtn pass-clearbtn-'+e[s].label+'" style="display:none;"></span>'http://passport.baidu.com/passApi/js/),t(n.getElement(e[s].label)).after(o[s])),n._isSupportPlaceholder()&&!t.browser.ie?t(n.getElement(e[s].label)).attr({placeholder:i}):(a[s]=t('<span id="'+n.$getId(e[s].label+"_placeholder")+'" class="pass-placeholder pass-placeholder-'+e[s].label+'">'+i+"</span>"),t(n.getElement(e[s].label)).after(a[s])),n._rendEventPlaceholder(n.getElement(e[s].label),a[s],o[s])},_getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},_logPass:function(e,t){function n(e){var t,n,a,i,o,s,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=e.length,n=0,t="";a>n;){if(i=255&e.charCodeAt(n++),n===a){t+=r.charAt(i>>2),t+=r.charAt((3&i)<<4),t+="==";break}if(o=e.charCodeAt(n++),n===a){t+=r.charAt(i>>2),t+=r.charAt((3&i)<<4|(240&o)>>4),t+=r.charAt((15&o)<<2),t+="=";break}s=e.charCodeAt(n++),t+=r.charAt(i>>2),t+=r.charAt((3&i)<<4|(240&o)>>4),t+=r.charAt((15&o)<<2|(192&s)>>6),t+=r.charAt(63&s)}return t}var a=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&v="+(new Date).getTime(),i="";for(var o in t)i=i+o+":"+t[o]+",";i=n("{"+i.substring(0,i.length-1)+"}");for(var s in e)e.hasOwnProperty(s)&&(a+="&"+s+"="+e[s]);if(a+="&source=pc",a+="&auto_statistic="+i+"&auto_en="+t.eventType){var r=new Image;r.onload=r.onerror=function(){r.onload=r.onerror=null,r=null},r.src=a}},logClickLink:function(e,t){e=e||{},e=this.formatLogData(e);var n=t.target||t.srcElement,a=n&&n.getAttribute&&n.getAttribute("target"),i="_self"===a||null===a,o=this.makeImgSrc(e);if(i&&(t.preventDefault?t.preventDefault():t.returnValue=!1),window.navigator.sendBeacon&&i)window.navigator.sendBeacon(o),window.location.href=n.getAttribute("href");else if(i)this.lazyLog(n,o,null);else{var s=new Image;s.onload=s.onerror=function(){s.onload=s.onerror=null,s=null},s.src=o}},logCallBack:function(e,t){e=e||{},e=this.formatLogData(e);var n=this.makeImgSrc(e);this.lazyLog({},n,t)},formatLogData:function(e){var n=this.config||{};return t.extend({},{page:e.logPage||"",source:"pc-api",tpl:n.product||"",subpro:n.subpro||"",extrajson:n.extrajson||"",data_source:"fe"},e)},makeImgSrc:function(e){var t=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&v="+(new Date).getTime(),n="";for(var a in e)e.hasOwnProperty(a)&&(n+="en"!==a?"&"+a+"="+e[a]:"&auto_en="+e[a]);var i="{eventType:"+(e.en||"")+"}";return i=this.base64encode(i),t+="&auto_statistic="+i,t+="&auto_en="+(e.en||""),t+=n},lazyLog:function(e,t,n){function a(){n?n():window.location.href=i}var i=e.getAttribute&&e.getAttribute("href"),o=new Image,s=setTimeout(function(){o.onload=o.onerror=o=null,a("imgTimeout")},200);o.onload=o.onerror=function(){clearTimeout(s),o.onload=o.onerror=o=null,a("imgSuccess")},o.src=t},base64encode:function(e){var t,n,a,i,o,s,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=e.length,n=0,t="";a>n;){if(i=255&e.charCodeAt(n++),n===a){t+=r.charAt(i>>2),t+=r.charAt((3&i)<<4),t+="==";break}if(o=e.charCodeAt(n++),n===a){t+=r.charAt(i>>2),t+=r.charAt((3&i)<<4|(240&o)>>4),t+=r.charAt((15&o)<<2),t+="=";break}s=e.charCodeAt(n++),t+=r.charAt(i>>2),t+=r.charAt((3&i)<<4|(240&o)>>4),t+=r.charAt((15&o)<<2|(192&s)>>6),t+=r.charAt(63&s)}return t},_rendEventPlaceholder:function(e,n,a){if(e||a){var i,o,s=this,r=function(e){1===+e?(n&&n[0]&&s.$hide(n[0]),a&&a[0]&&s.$show(a[0])):(n&&n[0]&&s.$show(n[0]),a&&a[0]&&s.$hide(a[0]))};setTimeout(function(){e&&e.value&&r(1)},200),t(n).on("mousedown",function(){o=!0,clearTimeout(i),i=setTimeout(function(){s.suggestionDom&&"none"!==s.suggestionDom.style.display||e.focus()},0)}),t(a).on("click",function(){e.value="",r(0),e.focus(),s.suggestionDom&&(s.suggestionDom.data_delete=!0,setTimeout(function(){s.suggestionDom.data_delete=!1},200))}),t(e).on("keyup",function(){r(e.value?1:0)}),t(e).on("focus",function(){window.inputCheckTimer=setInterval(function(){e.value.length?(r(1),clearInterval(window.inputCheckTimer)):r(0)},30)})}},SBCtoDBC:function(e){var t="";if(e){for(var n=e.length,a=0;n>a;a++){var i=e.charCodeAt(a);i=i>=65281&&65374>=i?i-65248:i,i=12288==i?32:i,t+=String.fromCharCode(i)}return t}},hide:function(){this.getElement().style.display="none"},show:function(){this.getElement().style.display="block"},_analysis:function(e,t){return window.passport.analysis&&window.passport.analysis[this.module]&&window.passport.analysis[this.module][e]?(window.passport.analysis[this.module][e](this,t),{preventDefault:!1,preventEvent:!1}):void 0},_hook:function(e,t){return window.passport.hook&&window.passport.hook[this.module]&&window.passport.hook[this.module][e]?window.passport.hook[this.module][e](this,t):{preventDefault:!1,preventEvent:!1}},fireEvent:function(e,t){var n=this._hook(e,t),a=!0;return n.preventEvent||(a=this.fire(e,t)),!n.preventDefault&&a},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):""}}),n.passport.loadingApi=t.lang.createClass(function(n){var a=this;a._domain={https:"https://passport.baidu.com",http:"http://passport.baidu.com/",staticFile:"https:"===document.location.protocol.toLowerCase()?"https://ss0.bdstatic.com/5LMZfyabBhJ3otebn9fN2DJv":"http://passport.bdimg.com/",auto:"https:"===document.location.protocol.toLowerCase()?"https://passport.baidu.com":"http://passport.baidu.com/"},a.config={product:"",charset:"",token:"",hasPlaceholder:!0,staticPage:"",u:"",lang:"zh-CN",delay:"1000",authsid:"",loadingFinshText:"恭喜，已完成帐号实名",loadingText:"正在认证中，请稍等"},t.extend(a.config,n),this.module="loadingApi",a.constant={CHECKVERIFYCODE:!0,CONTAINER_CLASS:"tang-pass-loadingApi",LABEL_FOCUS_CLASS:"pass-text-label-focus",FOCUS_CLASS:"pass-text-input-focus",HOVER_CLASS:"pass-text-input-hover",ERROR_CLASS:"pass-text-input-error",DISABLED_CLASS:"pass-item-time-timing",BLANK_IMG_URL:e.apiDomain.staticDomain+"/passApi/img/small_blank.gif"},a.lang=e.err.getCurrent().labelText.loadingApi,a.config.defaultCss&&a.loadCssFileW("loadingApi_528e5bc.css"/*tpa=http://passport.baidu.com/passApi/css/loadingApi_528e5bc.css*/,function(){})},{type:"magic.passport.loadingApi",superClass:n.passport}).extend({_getIrregularField:function(e){var t=this,n={loading:'<div id="'+t.$getId("loadingApiWrapper")+'" class="pass-loadingApiWrapper"><div class="pass-loadingApiAnimate pass-loadingApiSecond" id="'+t.$getId("loadingApiAnimate")+'"></div><div class="pass-loadingApi-succ pass-loadingApiSecond" id="'+t.$getId("loadingApiSuc")+'"><div class="pass-loadingApi-succImg"></div></div><p class="pass-loadingApi-loadingText" id="'+t.$getId("loadingApiText")+'">'+t.config.loadingText+"</p></div>"};return n[e]},_getTemplate:function(){var e=this,t='<form id="'+e.$getId("form")+'" class="pass-form pass-form-loadingApi" method="POST" autocomplete="off">',n={u:e.config.u,staticPage:e.config.staticPage};return t+=e._getHiddenField(n),t+=e._getIrregularField("loading"),t+="</form>"},editAnim:function(){var e=this;setTimeout(function(){e.getElement("loadingApiAnimate").style.display="none",t(e.getElement("loadingApiSuc")).show(200).addClass("pass-loadingApi-SuccShow"),t(e.getElement("loadingApiText")).html(e.config.loadingFinshText)},e.config.delay)},_setValidator:function(){},_validateError:function(){},_validateSuccess:function(){},loadCssFileW:function(e,t){var n=this;if(window._loadedFilesW=window._loadedFilesW||{},!window._loadedFilesW[e]){window._loadedFilesW[e]=!0;var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=n._domain.staticFile+e,document.getElementsByTagName("head")[0].appendChild(a),a.readyState?a.onreadystatechange=function(){("loaded"===a.readyState||"complete"===a.readyState)&&(a.onreadystatechange=null,t&&t())}:a.onload=function(){t&&t()}}},insertScriptW:function(e,t){if(window._loadedFilesW=window._loadedFilesW||{},!window._loadedFilesW[e]){window._loadedFilesW[e]=!0;var n=document,a=n.createElement("SCRIPT");a.type="text/javascript",a.charset="UTF-8",a.readyState?a.onreadystatechange=function(){("loaded"===a.readyState||"complete"===a.readyState)&&(a.onreadystatechange=null,t&&t())}:a.onload=function(){t&&t()},a.src=e,n.getElementsByTagName("head")[0].appendChild(a)}},init:function(){},render:function(e){var n=this;n.getElement()||n.$mappingDom("",e||document.body);var a=t(n.getElement());a.addClass(n.constant.CONTAINER_CLASS);var i=n._getTemplate();a.get(0).appendChild(t(i).get(0)),n._setValidator(),n._setEvent(),n.editAnim()},_eventHandler:function(){var e,n={focus:function(){e.fireEvent("fieldFocus",{ele:this})},blur:function(){e.fireEvent("fieldBlur",{ele:this})},keyup:function(){}},a={focus:{},blur:{},change:{},click:{},keyup:{},submit:function(t){t.preventDefault(),e.validateAll({success:function(){e.fireEvent("beforeSubmit")}},!0)}};return{entrance:function(i){e=this;var o=(t(i.target),i.target.name);if(!o&&i.target.id){var s=i.target.id.match(/\d+__(.*)$/);s&&(o=s[1])}o&&(n.hasOwnProperty(i.type)&&n[i.type].apply(t(i.target),[o,i]),a.hasOwnProperty(i.type)&&("function"==typeof a[i.type]&&a[i.type].apply(t(i.target),[i]),a[i.type].hasOwnProperty(o)&&a[i.type][o].apply(t(i.target),[o,i])))}}}(),$dispose:function(){var e=this;e.disposed||(t.dom(e.getElement()).removeClass(e.constant.CONTAINER_CLASS),e.getElement().removeChild(e.getElement("form")),n.Base.prototype.$dispose.call(e))}}),n});