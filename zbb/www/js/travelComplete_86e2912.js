!function(){var e=document.getElementsByTagName("script"),t=e.length,n=e[t-1].src,a=n.indexOf("/js/"),r=n.substr(0,a)+"/js/";window.importScriptList={},window.importScript=function(e){e&&(-1===e.indexOf("http://")&&-1===e.indexOf("https://")&&("/"===e.substr(0,1)&&(e=e.substr(1)),e=r+e),e in importScriptList||(importScriptList[e]=!0,document.write('<script src="'+e+'" type="text/javascript"></script>')))}}(),passport._define("travelComplete.js"/*tpa=http://passport.baidu.com/passApi/js/travelComplete.js*/,function(){var e=e||window.passport||{},t=e.tangramInst||t||window.baidu;!function(e){e.apiDomain={staticDomain:window.location?"http:"==window.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com":"http:"==document.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com"}}(e);var n=null;if("function"!=typeof n)var n=function(){};n._baiduInstName=n._baiduInstName||"bdInst_"+(new Date).getTime();var a=a||t.baiduInstance||window.baiduInstance;window[n._baiduInstName]=window[n._baiduInstName]||a,n.resourcePath="",n.skinName="default",n.version="1.0.0.0",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),t.form=t.form||{},t.url=t.url||{},t.url.escapeSymbol=t.url.escapeSymbol||function(e){return String(e).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(e){return"%"+(256+e.charCodeAt()).toString(16).substring(1).toUpperCase()})},t.form.json=t.form.json||function(e,n){function a(e,t){var n=f[e];n?(n.push||(f[e]=[n]),f[e].push(t)):f[e]=t}for(var r,o,i,s,l,c,d,u,p=e.elements,n=n||function(e){return e},f={},g=0,m=p.length;m>g;g++)if(r=p[g],i=r.name,!r.disabled&&i)switch(o=r.type,s=t.url.escapeSymbol(r.value),o){case"radio":case"checkbox":r.checked&&a(i,n(s,i));break;case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":a(i,n(s,i));break;case"select-multiple":for(l=r.options,d=l.length,c=0;d>c;c++)u=l[c],u.selected&&a(i,n(u.value,i))}return f},n.Base=function(){t.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},t.lang.inherits(n.Base,t.lang.Class,"http://passport.baidu.com/passApi/js/magic.Base").extend({getElement:function(e){return document.getElementById(this.$getId(e))},getElements:function(){var e={},t=this._ids;for(var n in t)e[n]=this.getElement(n);return e},$getId:function(e){return e=t.lang.isString(e)?e:"",this._ids[e]||(this._ids[e]=this._eid+e)},$mappingDom:function(e,n){return t.lang.isString(n)?this._ids[e]=n:n&&n.nodeType&&(n.id?this._ids[e]=n.id:n.id=this.$getId(e)),this},$hide:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="none",e.style.visibility="hidden"),this},$show:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="block",e.style.visibility="visible",e.style.opacity="1"),this},$dispose:function(){this.fire("ondispose")&&t.lang.Class.prototype.dispose.call(this)}}),n.control=n.control||{},function(){function e(e,t){var n,a=e.getAttribute(t),o=!1;if(a&&(n=a.match(r[0]))){o={};for(var i,s=0;s<n.length;s++)i=n[s].match(r[1]),!isNaN(i[2])&&(i[2]=+i[2]),r[2].test(i[2])&&(i[2]=i[2].replace(r[3],"$2")),r[4].test(i[2])&&(i[2]=r[5].test(i[2])),o[i[1]]=i[2]}return o}function a(a,r){var o=e(a,"tang-event");if(o)for(var i in o){var s=o[i].substr(1);s.indexOf("(")<0&&(s+="()"),t.dom(a).on(i,new Function(n._baiduInstName+"('"+r+"') && "+n._baiduInstName+"('"+r+"')"+s))}}n.setup=n.setup||function(t,n,r){var o=e(t,"tang-param")||{};for(var i in r)o[i]=r[i];var s=new n(o);s.$mappingDom("",t),a(t,s.guid);for(var l=t.getElementsByTagName("*"),i=l.length-1;i>=0;i--)a(l[i],s.guid);return s};var r=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i]}();var e=e||window.passport||{};e.err=e.err||{},function(e){var t=null;t="function"===(typeof e.getCurrent).toLowerCase()?e.getCurrent():{errMsg:{},labelText:{}},t.errMsg.travelComplete={},t.labelText.travelComplete={tip:"请绑定手机号",norecieveVcode:"收不到验证码？",mobile:"手机号",verifyCode:"验证码",mobilePlaceholder:"请输入手机号",verifyCodePlaceholder:"请输入验证码",sendtravelCompleteVerifyCode:"发送验证码",SMSKeyResendTip:"重新发送",confirmVerCodeEmpty:"验证码为空",submit:"确定",travelComplete_notlogin_tip1:"您的账号尚未登",travelComplete_notlogin_tip2:"完成帐号实名验证"},e.getCurrent=function(){return t}}(e.err);var e=e||window.passport||{};return e.data=e.data||{},function(t){function n(e){this._requests=[],this._value=null,this._exception=null,this._isComplete=!1;var t=this;e(function(e){t._fulfillPromise(e)},function(e){t._breakPromise(e)})}function a(e,t,n){return t?n?function(n){return n=n||{},d.submit(u+t,r(n,e,g[e],m[e],!0),{charset:"utf-8",processData:function(t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];a&&(t[n]=decodeURIComponent(a))}return o(e,t)}})}:function(n){return d.jsonp(u+t,r(n,e,g[e],m[e],!1),{charset:"utf-8",processData:function(t){return o(e,t)}})}:l}function r(e,t,n,a,r){var o=r?{staticpage:w.staticPage,charset:w.charset||document.characterSet||document.charset||""}:{},i=h[t];if(i)for(var s in i){if(i.hasOwnProperty(s)){var l=i[s];o[s]="function"==typeof l?l(e):l}"verifypass"==s&&(o[s]=decodeURIComponent(o[s]))}if(o.token=w.token,o.tpl=w.product||"",o.subpro=w.subpro,o.apiver="v3",o.tt=(new Date).getTime(),e){n=n||{},a=a||{};for(var s in e)if(e.hasOwnProperty(s)){var d=a[s],u=d?d(e[s],e):e[s];"string"==typeof u&&(r&&(u=decodeURIComponent(u)),v[s]||(u=c.trim(u))),o[n[s]||s.toLowerCase()]=u}}return o}function o(e,n){if(t&&t.traceID&&t.traceID.getTraceID&&t.traceID.getTraceID(n),n){var a=y[e];a&&a(n);var r=n.errInfo,o=n,s=o;return r?o.errInfo=i(e,r,o):(r={no:n.err_no,msg:n.err_msg||""},delete o.err_no,delete o.err_msg,s={data:o,errInfo:i(e,r,o)}),s}return n}function i(e,t){var n=C[b[e]||e];if(n&&t&&0!=t.no){var a=n[t.no]||n[-1];if(a){var r=a.msg;t.msg=r,t.field=a.field}}return t}function s(e){if(t&&t.traceID&&t.traceID.getTraceID&&t.traceID.getTraceID(e),e){var n=e.errInfo,a=e;if(!n)for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];o&&(e[r]=decodeURIComponent(o))}n||(n={no:e.err_no,msg:e.err_msg||""},delete a.err_no,delete a.err_msg,e={data:a,errInfo:n})}return e}var l=function(){};n.prototype={get_isComplete:function(){return this._isComplete},get_value:function(){if(!this._isComplete)return void 0;if(this._exception)throw this._exception;return this._value},call:function(e){for(var t=[],n=0,a=arguments.length-1;a>n;n++)t[n]=arguments[n+1];return this.when(function(n){return n[e].apply(n,t)})},getValue:function(e){return this.when(function(t){return t[e]})},setValue:function(e,t){this.whenOnly(function(n){n[e]=t})},when:function(e,t,a){return n.when(this,e,t,a)},whenOnly:function(e,t,a){n.whenOnly(this,e,t,a)},success:function(e,t){return this.when(e,l,t)},fail:function(e,t){return this.when(l,e,t)},_enqueueOne:function(e){this._isComplete?this._notify(e):this._requests.push(e)},_notify:function(e){this._exception?e.breakPromise&&e.breakPromise(this._exception):e.fulfillPromise&&e.fulfillPromise(this._value)},_notifyAll:function(){for(var e=0,t=this._requests.length;t>e;e++)this._notify(this._requests[e])},_fulfillPromise:function(e){this._value=e,this._exception=null,this._isComplete=!0,this._notifyAll()},_breakPromise:function(e){this._value=null,this._exception=e||new Error("An error occured"),this._isComplete=!0,this._notifyAll()}},n.when=function(e,t,a,r){return new n(function(o,i){n.make(e)._enqueueOne({fulfillPromise:function(e){o(t?t.call(r,e):e)},breakPromise:function(e){if(a)try{o(a.call(r,e))}catch(t){i(t)}else i(e)}})})},n.whenOnly=function(e,t,a,r){n.make(e)._enqueueOne({fulfillPromise:function(e){t&&t.call(r,e)},breakPromise:function(e){a&&a.call(r,e)}})},n.make=function(e){return e instanceof n?e:n.immediate(e)},n.immediate=function(e){return new n(function(t){t(e)})};var c={};!function(e){var t=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");e.trim=function(e){return String(e).replace(t,"")},e.getUniqueId=function(e){return e+Math.floor(2147483648*Math.random()).toString(36)},e.g=function(e){return e?"string"==typeof e||e instanceof String?document.getElementById(e):!e.nodeName||1!=e.nodeType&&9!=e.nodeType?null:e:null},e.getParent=function(t){return t=e.g(t),t.parentElement||t.parentNode||null},e.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},e.array=e.array||{},e.array.indexOf=function(e,t,n){var a=e.length;for(n=0|n,0>n&&(n=Math.max(0,a+n));a>n;n++)if(n in e&&e[n]===t)return n;return-1},e.browser=e.browser||{},e.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,e.insertHTML=function(t,n,a){t=e.g(t);var r,o;return t.insertAdjacentHTML&&!e.browser.opera?t.insertAdjacentHTML(n,a):(r=t.ownerDocument.createRange(),n=n.toUpperCase(),"AFTERBEGIN"==n||"BEFOREEND"==n?(r.selectNodeContents(t),r.collapse("AFTERBEGIN"==n)):(o="BEFOREBEGIN"==n,r[o?"setStartBefore":"setEndAfter"](t),r.collapse(o)),r.insertNode(r.createContextualFragment(a))),t}}(c),t.base=c;var d={};!function(e){var a="__bdpp_pstc__"+(new Date).getTime(),r=a+"_form",o=a+"_ifr",i=function(e){if("object"==typeof e){var t=[];for(var n in e){var a=e[n];if(void 0!==a&&null!==a){t.length&&t.push("&");var r=encodeURIComponent("boolean"==typeof a?a?"1":"0":a.toString());t.push(encodeURIComponent(n),"=",r)}}return t.join("")}return"string"==typeof e?e:null},s=function(e,t){if(t=i(t),"string"==typeof t){var n=/\?/g.test(e);e+=(n?"&":"?")+i(t)}return e},l=function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},d=function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},u=function(e,t,n){function a(e){return function(){try{e?u.onfailure&&u.onfailure():(t.apply(window,arguments),clearTimeout(o)),window[r]=null,delete window[r]}catch(n){}finally{d(i)}}}var r,o,i=document.createElement("SCRIPT"),s="bd__cbs__",u=n||{},p=u.charset,f=u.queryField||"callback",g=u.timeOut||0,m=new RegExp("(\\?|&)"+f+"=([^&]*)");r=c.getUniqueId(s),window[r]=a(0),g&&(o=setTimeout(a(1),g)),e=e.replace(m,"$1"+f+"="+r),e.search(m)<0&&(e+=(e.indexOf("?")<0?"?":"&")+f+"="+r),l(i,e,p)},p=function(e,t){var n=[];n.push("<form id='",r,"' target='",o,"' "),n.push("action='",c.encodeHTML(e),"' method='post'>");for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];if(void 0!==i&&null!==i){var s=c.encodeHTML("boolean"==typeof i?i?"1":"0":i);n.push("<input type='hidden' name='",c.encodeHTML(a),"' value='",s,"' />")}}return n.push("</form>"),n.join("")},f=function(e,t,n,i){function s(e){return function(){try{e?i.onfailure&&i.onfailure():(n.apply(window,arguments),d&&clearTimeout(d)),window[u]=null,delete window[u]}catch(t){}}}i=i||{};var l=i.timeOut||0,d=!1,u=c.getUniqueId("bd__pcbs__");t[i.queryField||"callback"]="parent."+u;var f=p(e,t);if(c.g(r))c.getParent(r).innerHTML=f;else{var g=[];g.push("<div id='",a,"' style='display:none;'>"),g.push("<div>",f,"</div>"),g.push("<iframe name='",o,"' src='"+("https:"==(window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase())?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank")+"' style='display:none;'></iframe>"),g.push("</div>"),c.insertHTML(document.body,"beforeEnd",g.join(""))}window[u]=s(),l&&(d=setTimeout(s(1),l)),c.g(r).submit()};e.jsonp=function(e,a,r){return r=r||{},t&&t.traceID&&t.traceID.createTraceID&&(a.traceid=t.traceID.createTraceID()),new n(function(t,n){e=s(e,a),u(e,function(e){r.processData&&(e=r.processData(e)),t&&t(e)},{charset:r.charset,queryField:r.queryField,timeOut:r.timeOut,onfailure:function(){n&&n()}})})},e.submit=function(e,a,r){return t&&t.traceID&&t.traceID.createTraceID&&(a.traceid=t.traceID.createTraceID()),e&&a?new n(function(t){f(e,a,function(e){r.processData&&(e=r.processData(e)),t&&t(e)},r)}):void 0};var g=[];e.load=function(e){return new n(function(t){var n=g.push(new Image)-1,a=!1,r=setTimeout(function(){a=!0,t&&t()},1e3);g[n].onload=function(){clearTimeout(r),a||t&&t(),a=!0,g[n]=g[n].onload=null},g[n].src=e})}}(d);var u="https://passport.baidu.com",p={getApiInfo:"/v2/api/?getapi",getLoginHistory:"/v2/api/?loginhistory",loginCheck:"/v2/api/?logincheck",getVerifyCodeStr:"/v2/?reggetcodestr",getRegSmsVerifyCodeStr:"/v2/?regsmscodestr",checkUserName:"/v2/?regnamesugg",checkPassword:"/v2/?regpwdcheck",checkMail:"/v2/?regmailcheck",isUserNoName:"/v2/api/?ucenteradduname",checkPhone:"/v2/?regphonecheck",getphonestatus:"/v2/?getphonestatus",sendPhoneCode:"/v2/?regphonesend",multiBind:"/v2/?multiaccountassociate",multiUnbind:"/v2/?multiaccountdisassociate",multiCheckUserName:"/v2/?multiaccountusername",multiGetaccounts:"/v2/?multiaccountget",multiSwitchuser:"/v2/?loginswitch",checkVerifycode:"/v2/?checkvcode",getRsaKey:"/v2/getpublickey",authwidGetverify:"/v2/sapi/authwidgetverify",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert",checkIDcardState:"/v3/finance/main/checkupcert"},f={login:"/v2/api/?login",reg:"/v2/api/?reg",fillUserName:"/v2/api/?ucenteradduname",regPhone:"/v2/api/?regphone",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert"},g={getApiInfo:{apiType:"class"},login:{memberPass:"mem_pass",safeFlag:"safeflg",isPhone:"isPhone",timeSpan:"ppui_logintime",logLoginType:"logLoginType"},fillUserName:{selectedSuggestName:"pass_fillinusername_suggestuserradio",timeSpan:"ppui_fillusernametime"},reg:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"},regPhone:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"}},m={loginCheck:{isPhone:function(e){return e?"true":"false"}},login:{memberPass:function(e){return e?"on":""}}},h={checkPassword:{fromreg:1},reg:{registerType:1,verifypass:function(e){return e.password}}},v={password:!0},y={login:function(){}},b={checkUserName:"reg",checkMail:"reg",checkPhone:"regPhone",sendPhoneCode:"regPhone",multiCheckUserName:"multiBind",multiSwitchuser:"changeUser",checkVerifycode:"checkVerifycode"},C=e.err.getCurrent().errMsg||e.err.getCurrent(),w={};t.setContext=function(e){w.product=e.product||w.product,w.charset=e.charset||w.charset,w.staticPage=e.staticPage||w.staticPage,w.token=e.token||w.token,w.subpro=e.subpro||w.subpro},t.traceID={headID:t.traceID&&t.traceID.headID||"",flowID:t.traceID&&t.traceID.flowID||"",cases:t.traceID&&t.traceID.cases||"",initTraceID:function(e){var t=this;e&&e.length>0?(t.headID=e.slice(0,6),t.flowID=e.slice(6,8)):t.destory()},createTraceID:function(){var e=this;return e.headID+e.flowID+e.cases},startFlow:function(e){var t=this,n=t.getFlowID(e);0===t.flowID.length||t.flowID===n?(t.createHeadID(),t.flowID=n):t.finishFlow(n)},finishFlow:function(){var e=this;e.destory()},getRandom:function(){return parseInt(90*Math.random()+10,10)},createHeadID:function(){var e=this,t=(new Date).getTime()+e.getRandom().toString(),n=Number(t).toString(16),a=n.length,r=n.slice(a-6,a).toUpperCase();e.headID=r},getTraceID:function(e){var t=this,n=e&&e.traceid||"";t.initTraceID(n)},getFlowID:function(e){var t={login:"01",reg:"02"};return t[e]},setData:function(e){var t=this;return e.data?e.data.traceid=t.createTraceID():e.url=e.url+(e.url.indexOf("?")>-1?"&":"?")+"traceid="+t.createTraceID(),e},destory:function(){var e=this;e.headID="",e.flowID=""}};for(var _ in p)p.hasOwnProperty(_)&&(t[_]=a(_,p[_]));for(var _ in f)f.hasOwnProperty(_)&&(t[_]=a(_,f[_],!0));t.jsonp=function(e,t){return 0!=e.indexOf("http")&&(e=u+e),t=t||{},t.flag_code&&1==t.flag_code||(t.apiver="v3"),t.tt=(new Date).getTime(),d.jsonp(e,t,{charset:"utf-8",processData:function(e){return s(e)}})},t.post=function(e,t){return t=t||{},"wap"!==t.apitype&&(e=u+e),t.staticpage=t.staticpage||w.staticPage,t.charset=t.charset||w.charset||document.characterSet||document.charset||"",t.token=t.token||w.token,t.tpl=t.tpl||w.product,d.submit(e,t,{charset:"utf-8",processData:function(e){return s(e)}})},t.request=d}(e.data),n.passport=t.lang.createClass(function(){this._validateInfo={}},{type:"magic.passport",superClass:n.Base}).extend({_getRegularField:function(e){var t=e.pwd?"password":"text",n=this,a='autocomplete="off"',r=e.maxLength?'maxlength="'+e.maxLength+'"':"",o=e.tip?e.tip:"",i=e.value?e.value:"",s=e.field+""=="verifycode"?"none":"",l="";l="text"===t?'<input type="text" style="display:none;">':'<input type="password" style="display: none;">';var c='<p id="'+n.$getId(e.field+"Wrapper")+'" class="pass-form-item pass-form-item-'+e.field+'" style="display:'+s+'">'+(e.label?'<label for="'+n.$getId(e.field)+'" id="'+n.$getId(e.field+"Label")+'" class="pass-label pass-label-'+e.field+'">'+e.label+"</label>":"")+l+'<input id="'+n.$getId(e.field)+'" type="'+t+'" name="'+e.field+'" class="pass-text-input pass-text-input-'+e.field+'" '+r+(e.placeholder?'placeholder="'+e.placeholder+'" ':"")+a+(e.disabled?'" disabled':"")+' value="'+i+'"/>'+(e.noError?"":'<span id="'+n.$getId(e.field+"Error")+'" class="pass-item-error pass-item-error-'+e.field+'"></span>')+(e.hasSucc?'<span id="'+n.$getId(e.field+"Succ")+'" class="pass-item-succ pass-item-succ-'+e.field+'" style="display:none;"></span>':"")+'<span id="'+n.$getId(e.field+"Tip")+'" class="pass-item-tip pass-item-tip-'+e.field+'" style="display:none"><span id="'+n.$getId(e.field+"TipText")+'" class="pass-item-tiptext pass-item-tiptext-'+e.field+'">'+o+"</span></span></p>";return c},_getHiddenField:function(e,t){var n,a=this,r='<p id="'+a.$getId(t||"hiddenFields")+'" style="display:none">';for(var o in e)e.hasOwnProperty(o)&&(n="string"==typeof e[o]?e[o].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;"):e[o],r+='<input type="hidden" id="'+a.$getId((t?t+"_":"")+o)+'" name="'+o+'" value="'+n+'" />');return r+="</p>"},_setEvent:function(){var e=this,n=this.getElement(),a=function(t){e._eventHandler.entrance.apply(e,[t])};t(e.getElement()).on("resize",function(){var e=(navigator.userAgent,!navigator.userAgent.match(/OS [1-8]_\d[_\d]* like Mac OS X/i)),t=!!navigator.userAgent.toString().match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=navigator.userAgent.toString().indexOf("iPad");if(e&&t&&null!=n){var a=document.getElementsByClassName("popBox");null!=a&&a.length>0&&(a[0].style.height=window.screen.height>document.body.clientHeight?window.screen.height*(window.screen.height/document.body.clientHeight)+120+"px":window.screen.height*(window.screen.height/document.body.clientHeight))}}),t(e.getElement("form")).on("submit",a),t(e.getElement("license")).on("click",a),t(e.getElement("verifyCodeChange")).on("click",a),t(e.getElement("verifyCodeSend")).on("click",a),t(e.getElement("smsVcodeSend")).on("click",a),t(n).delegate(".pass-suggest-item label","click",a),t(".pass-text-input",e.getElement()).on({focus:a,blur:a,change:a,keyup:a,mouseover:a,mouseout:a})},_validator:{confStorage:{},builtInMsg:{required:"请您输入%s",phone:"手机号码格式不正确",email:"邮箱格式不正确",idcard:"身份证格式不正确"},builtInRules:{required:/\S+/,phone:/^1[3456789]\d{9}$/,email:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,idcard:/(^\d{15}$)|(^\d{17}(\d|X|x)$)/},init:function(e,t){this.confStorage[e.$getId()]=t},validate:function(e,t,n,a){var r=e.getElement(t),o={field:t},i=/^\s*(.+?)\s*$/;if(!r||0===+r.offsetHeight)return!1;for(var s=r.value.replace(i,"$1"),l=this.confStorage[e.$getId()][t],c=l.rules,d=0,u=c.length;u>d;d++){var p,f=c[d],g=this.builtInRules[f];if(p="[object function]"===Object.prototype.toString.call(g).toLowerCase()?g.call(e,r,a):new RegExp(g).test(s),!p)return o.error=!0,e._validateInfo[t]=0,o.msg=this.builtInMsg[f].replace(/\%s/,l.desc),e._validateError(o),void n.error(o)}l.asyncRule?l.asyncRule.call(e,{success:function(a){o.error=!1,o.data=a.data,e._validateInfo[t]=1,e._validateSuccess(o),n.success(o)},error:function(a){o.error=!0,e._validateInfo[t]=0,o.msg=a.msg,e._validateError(o),n.error(o)}},a):(o.error=!1,e._validateInfo[t]=1,e._validateSuccess(o),n.success(o))},validateAll:function(e,t,n){function a(){s=!0,i?t&&t.error(l):t&&t.success(l)}var r=this.confStorage[e.$getId()],o=0,i=!1,s=!1,l=[],c=this._getActiveValidate(e,!0);for(var d in r){if(s)break;this.validate(e,d,{success:function(e){o++,l.push(e),o===c&&a()},error:function(e){return i=!0,o++,l.push(e),n?void a():void(o===c&&a())}},"all")}},_getActiveValidate:function(e,t){var n=this.confStorage[e.$getId()],a=[];for(var r in n){var o=e.getElement(r);o&&0!==o.offsetHeight&&a.push(o)}return t?a.length:a},addRule:function(e,n){var a={};a[e]=n,t.extend(this.builtInRules,a)},addMsg:function(e,n){var a={};a[e]=n,t.extend(this.builtInMsg,a)}},validate:function(e,n){var a=this,r=a.fireEvent("beforeValidate",{validate:{field:e,ele:t(a.getElement(e))}});r&&a._validator.validate(a,e,{success:function(e){var t=a.fireEvent("validateSuccess",{validate:e});t&&n&&n.success&&n.success(e)},error:function(e){var t=a.fireEvent("validateError",{validate:e});t&&n&&n.error&&n.error(e)}})},validateAll:function(e,t){var n=this;t="boolean"==typeof e?e:t?t:!1;var a=n.fireEvent("beforeValidateAll");a&&n._validator.validateAll(n,{success:function(t){var a=n.fireEvent("validateAllSuccess",{validates:t});a&&e&&e.success&&e.success(t)},error:function(t){var a=n.fireEvent("validateAllError",{validates:t});a&&e&&e.error&&e.error(t)}},t)},getValidateStatus:function(e){return this._validateInfo.hasOwnProperty(e)?this._validateInfo[e]:-1},setValidateSuccess:function(e){var t=this;t._validateInfo[e]=1,t._validateSuccess({field:e})},setValidateError:function(e,t,n){var a=this;a._validateInfo[e]=0,a._validateError({field:e,msg:t},n)},setGeneralError:function(e){this.getElement("error").innerHTML=e},clearGeneralError:function(){this.getElement("error").innerHTML=""},_isSupportPlaceholder:function(){return"placeholder"in document.createElement("input")},_getPlaceholder:function(e){for(var n=this,a={},r="",o={},i=0;i<e.length;i++)r=n.lang[e[i].placeholder],0!==+e[i].clearbtn&&(o[i]=t('<span id="'+n.$getId(e[i].label+"_clearbtn")+'" class="pass-clearbtn pass-clearbtn-'+e[i].label+'" style="display:none;"></span>'http://passport.baidu.com/passApi/js/),t(n.getElement(e[i].label)).after(o[i])),n._isSupportPlaceholder()&&!t.browser.ie?t(n.getElement(e[i].label)).attr({placeholder:r}):(a[i]=t('<span id="'+n.$getId(e[i].label+"_placeholder")+'" class="pass-placeholder pass-placeholder-'+e[i].label+'">'+r+"</span>"),t(n.getElement(e[i].label)).after(a[i])),n._rendEventPlaceholder(n.getElement(e[i].label),a[i],o[i])},_getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},_logPass:function(e,t){function n(e){var t,n,a,r,o,i,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=e.length,n=0,t="";a>n;){if(r=255&e.charCodeAt(n++),n===a){t+=s.charAt(r>>2),t+=s.charAt((3&r)<<4),t+="==";break}if(o=e.charCodeAt(n++),n===a){t+=s.charAt(r>>2),t+=s.charAt((3&r)<<4|(240&o)>>4),t+=s.charAt((15&o)<<2),t+="=";break}i=e.charCodeAt(n++),t+=s.charAt(r>>2),t+=s.charAt((3&r)<<4|(240&o)>>4),t+=s.charAt((15&o)<<2|(192&i)>>6),t+=s.charAt(63&i)}return t}var a=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&v="+(new Date).getTime(),r="";for(var o in t)r=r+o+":"+t[o]+",";r=n("{"+r.substring(0,r.length-1)+"}");for(var i in e)e.hasOwnProperty(i)&&(a+="&"+i+"="+e[i]);if(a+="&source=pc",a+="&auto_statistic="+r+"&auto_en="+t.eventType){var s=new Image;s.onload=s.onerror=function(){s.onload=s.onerror=null,s=null},s.src=a}},logClickLink:function(e,t){e=e||{},e=this.formatLogData(e);var n=t.target||t.srcElement,a=n&&n.getAttribute&&n.getAttribute("target"),r="_self"===a||null===a,o=this.makeImgSrc(e);if(r&&(t.preventDefault?t.preventDefault():t.returnValue=!1),window.navigator.sendBeacon&&r)window.navigator.sendBeacon(o),window.location.href=n.getAttribute("href");else if(r)this.lazyLog(n,o,null);else{var i=new Image;i.onload=i.onerror=function(){i.onload=i.onerror=null,i=null},i.src=o}},logCallBack:function(e,t){e=e||{},e=this.formatLogData(e);var n=this.makeImgSrc(e);this.lazyLog({},n,t)},formatLogData:function(e){var n=this.config||{};return t.extend({},{page:e.logPage||"",source:"pc-api",tpl:n.product||"",subpro:n.subpro||"",extrajson:n.extrajson||"",data_source:"fe"},e)},makeImgSrc:function(e){var t=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&v="+(new Date).getTime(),n="";for(var a in e)e.hasOwnProperty(a)&&(n+="en"!==a?"&"+a+"="+e[a]:"&auto_en="+e[a]);var r="{eventType:"+(e.en||"")+"}";return r=this.base64encode(r),t+="&auto_statistic="+r,t+="&auto_en="+(e.en||""),t+=n},lazyLog:function(e,t,n){function a(){n?n():window.location.href=r}var r=e.getAttribute&&e.getAttribute("href"),o=new Image,i=setTimeout(function(){o.onload=o.onerror=o=null,a("imgTimeout")},200);o.onload=o.onerror=function(){clearTimeout(i),o.onload=o.onerror=o=null,a("imgSuccess")},o.src=t},base64encode:function(e){var t,n,a,r,o,i,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=e.length,n=0,t="";a>n;){if(r=255&e.charCodeAt(n++),n===a){t+=s.charAt(r>>2),t+=s.charAt((3&r)<<4),t+="==";break}if(o=e.charCodeAt(n++),n===a){t+=s.charAt(r>>2),t+=s.charAt((3&r)<<4|(240&o)>>4),t+=s.charAt((15&o)<<2),t+="=";break}i=e.charCodeAt(n++),t+=s.charAt(r>>2),t+=s.charAt((3&r)<<4|(240&o)>>4),t+=s.charAt((15&o)<<2|(192&i)>>6),t+=s.charAt(63&i)}return t},_rendEventPlaceholder:function(e,n,a){if(e||a){var r,o,i=this,s=function(e){1===+e?(n&&n[0]&&i.$hide(n[0]),a&&a[0]&&i.$show(a[0])):(n&&n[0]&&i.$show(n[0]),a&&a[0]&&i.$hide(a[0]))};setTimeout(function(){e&&e.value&&s(1)},200),t(n).on("mousedown",function(){o=!0,clearTimeout(r),r=setTimeout(function(){i.suggestionDom&&"none"!==i.suggestionDom.style.display||e.focus()},0)}),t(a).on("click",function(){e.value="",s(0),e.focus(),i.suggestionDom&&(i.suggestionDom.data_delete=!0,setTimeout(function(){i.suggestionDom.data_delete=!1},200))}),t(e).on("keyup",function(){s(e.value?1:0)}),t(e).on("focus",function(){window.inputCheckTimer=setInterval(function(){e.value.length?(s(1),clearInterval(window.inputCheckTimer)):s(0)},30)})}},SBCtoDBC:function(e){var t="";if(e){for(var n=e.length,a=0;n>a;a++){var r=e.charCodeAt(a);r=r>=65281&&65374>=r?r-65248:r,r=12288==r?32:r,t+=String.fromCharCode(r)}return t}},hide:function(){this.getElement().style.display="none"},show:function(){this.getElement().style.display="block"},_analysis:function(e,t){return window.passport.analysis&&window.passport.analysis[this.module]&&window.passport.analysis[this.module][e]?(window.passport.analysis[this.module][e](this,t),{preventDefault:!1,preventEvent:!1}):void 0},_hook:function(e,t){return window.passport.hook&&window.passport.hook[this.module]&&window.passport.hook[this.module][e]?window.passport.hook[this.module][e](this,t):{preventDefault:!1,preventEvent:!1}},fireEvent:function(e,t){var n=this._hook(e,t),a=!0;return n.preventEvent||(a=this.fire(e,t)),!n.preventDefault&&a},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):""}}),n.passport.travelComplete=t.lang.createClass(function(n){var a=this;a._domain={https:"https://passport.baidu.com",http:"http://passport.baidu.com/",staticFile:"https:"===document.location.protocol.toLowerCase()?"https://ss0.bdstatic.com/5LMZfyabBhJ3otebn9fN2DJv":"http://passport.bdimg.com/",auto:"https:"===document.location.protocol.toLowerCase()?"https://passport.baidu.com":"http://passport.baidu.com/"},a.config={product:"",charset:"",overseas:"",hasPlaceholder:!0,staticPage:"",u:"",lang:"zh-CN",authsid:"",ltoken:"",lstr:"",cu:"",clientfrom:""},t.extend(a.config,n),a.exchange="",this.module="travelComplete",a.constant={CHECKVERIFYCODE:!0,CONTAINER_CLASS:"tang-pass-travelComplete",LABEL_FOCUS_CLASS:"pass-text-label-focus",FOCUS_CLASS:"pass-text-input-focus",HOVER_CLASS:"pass-text-input-hover",ERROR_CLASS:"pass-text-input-error",DISABLED_CLASS:"pass-item-time-timing",CHECK_CLASS:"pass-user-list-check",VERIFYCODE_URL_PREFIX:a._domain.https+"/cgi-bin/genimage?",BLANK_IMG_URL:e.apiDomain.staticDomain+"/passApi/img/small_blank.gif",NOCAPTCHA_URL:a._domain.auto+"/static/passpc-base/js/ld.min.js?cdnversion="+(new Date).getTime()},a.lang=e.err.getCurrent().labelText.travelComplete,a.insertScriptW(a.constant.NOCAPTCHA_URL,function(){}),a.config.defaultCss&&a.loadCssFileW("travelComplete_3d4be86.css"/*tpa=http://passport.baidu.com/passApi/css/travelComplete_3d4be86.css*/,function(){})},{type:"magic.passport.travelComplete",superClass:n.passport}).extend({getIrregularField:function(e){var t=this,n={tip:'<p class="pass-travelComplete-tip">'+(t.config.tip?t.config.tip:t.lang.tip)+"</p>",generalError:'<p id="'+t.$getId("travelCompleteErrorWrapper")+'" class="pass-generalErrorWrapper"><span id="'+t.$getId("travelCompleteError")+'" class="pass-generalError pass-generalError-error"></span></p>',mobile:'<p id="'+t.$getId("travelCompleteMobileWrapper")+'" class="pass-form-item pass-form-item-mobile"><label for="'+t.$getId("travelCompleteMobile")+'" id="'+t.$getId("travelCompleteMobileLabel")+'" class="pass-label pass-label-mobile"></label><input id="'+t.$getId("travelCompleteMobile")+'" type="text" name="travelCompleteMobile" class="pass-text-input pass-text-input-mobile"/></p>',mobileOversea:'<p id="'+t.$getId("travelCompleteMobileWrapper")+'" class="pass-form-item pass-form-item-mobile pass-form-item-overseas"><label id="select-countrycode" class="label-input-code">+86</label><label for="'+t.$getId("travelCompleteMobile")+'" id="'+t.$getId("travelCompleteMobileLabel")+'" class="pass-label pass-label-mobile"></label><input id="'+t.$getId("travelCompleteMobile")+'" type="text" name="travelCompleteMobile" class="pass-text-input pass-text-input-mobile pass-text-input-oversea"/></p>',countrycode:'<div><ul id="codelist-code-ul" class="codelist-code-ul"></ul></div>',verifyCode:'<p id="'+t.$getId("travelCompleteVerifyCodeWrapper")+'" class="pass-form-item pass-form-item-verifyCode"><label for="'+t.$getId("travelCompleteVerifyCode")+'" id="'+t.$getId("travelCompleteVerifyCodeLabel")+'" class="pass-label pass-label-travelCompleteVerifyCode"></label><input id="'+t.$getId("travelCompleteVerifyCode")+'" type="text" name="travelCompleteVerifyCode" class="pass-text-input pass-text-input-travelCompleteVerifyCode" /><input id="'+t.$getId("verifyCodeSend")+'" type="button" class="pass-item-timer" value="'+t.lang.sendtravelCompleteVerifyCode+'"/><span id="'+t.$getId("smsVerifyCodeTip")+'" class="pass-item-tip pass-item-tip-smsVerifyCode" style="display:none"><span id="'+t.$getId("travelCompleteVerifyCodeTipText")+'"></span></span></p>',submit:'<p id="'+t.$getId("travelCompleteSubmitWrapper")+'" class="pass-form-item pass-form-item-submit"><input id="'+t.$getId("travelCompleteSubmit")+'" type="submit" value="'+t.lang.submit+'" class="pass-button pass-button-submit"/></p>',footer:'<div class="pass-travelComplete-footer clearfix"><span class="footer-notrecieve" id="'+t.$getId("noreciveVcode")+'">'+t.lang.norecieveVcode+'</span><div class="travelComplete-footer-tip" id="'+t.$getId("noreciveTip")+'"><p>1、请确认该手机号是否为当前使用的手机号</p><p>2、请检查短信是否被安全软件拦截</p><p>3、由于运营商网络原因，短信可能延迟到达</p></div></div>'};return n[e]},getTemplate:function(){var e=this,t='<form id="'+e.$getId("form")+'" class="pass-form pass-form-travelComplete" method="POST" autocomplete="off">',n={u:e.config.u,staticPage:e.config.staticPage};return t+='<div id="'+e.$getId("travelComplete_content")+'">',t+=e.getIrregularField("tip"),t+=e.getIrregularField("generalError"),t+=e._getHiddenField(n),t+=e.getIrregularField(1===e.config.overseas?"mobileOversea":"mobile"),t+=e.getIrregularField("verifyCode"),1===e.config.overseas&&(t+=e.getIrregularField("countrycode")),t+=e.getIrregularField("submit"),t+=e.getIrregularField("footer"),t+="</div>",t+="</form>"
},exchangeDialog:function(e){var n=this;if(n.getElement("exchangeWrapper"))t(".pass-exchange-text").html('该手机已关联了微信"'+e.data.exthirdname+'"，继续关联将从原微信解除，并关联至微信"'+e.data.thirdname+'"，是否继续？'),t(n.getElement("exchangeWrapper")).show();else{var a=(document.getElementById(n.$getId("exchangeWrapper")),document.getElementById(n.$getId("travelCompleteMobileWrapper"))),r=document.createElement("div");r.id=n.$getId("exchangeWrapper"),r.setAttribute("class","pass-exchange-dialog"),r.style.cssText="position: absolute;clear: both;color: #826f33;z-index: 999;font-size: 12px;width: 211px;height: 105px;padding: 16px 16px 11px 13px;background: #fff;border: 1px solid #ccc;right: 0;top: 50px;",r.innerHTML='<p class="pass-exchange-text">该手机已关联了微信"'+e.data.exthirdname+'"，继续关联将从原微信解除，并关联至微信"'+e.data.thirdname+'"，是否继续？</p><button class="pass-exchange-btn" id="'+n.$getId("exchangeBtn")+'" hidefocus=true>继续</button><button class="pass-exchange-btn pass-btn-cancle" id="'+n.$getId("exchangeCancleBtn")+'" hidefocus=true>取消</button>',a.appendChild(r),t(n.getElement("exchangeBtn")).on("click",function(e){n.exchange="1",n.getElement("exchangeWrapper")&&t(n.getElement("exchangeWrapper")).hide(),e.preventDefault(),n.sendVcode()}),t(n.getElement("exchangeCancleBtn")).on("click",function(e){n.exchange="",n.getElement("exchangeWrapper")&&t(n.getElement("exchangeWrapper")).hide(),e.preventDefault()})}},_setValidator:function(){var e,t=this;document.getElementById("select-countrycode")&&(e=document.getElementById("select-countrycode").innerHTML.replace(/<[^<^>]*>/g,"")),t.validatorInited=!0,t.validateRules={travelCompleteMobile:{rules:"+86"===e||null==e||""===e?["required","phoneformatReg"]:["required","numformat"],desc:t.lang.mobile},travelCompleteVerifyCode:{rules:["required"],desc:t.lang.verifyCode}},t._validator.addRule("phoneformatReg",function(){var e=t.getElement("travelCompleteMobile").value;return/^1[3456789]\d{9}$/.test(e)?!0:!1}),t._validator.addMsg("phoneformatReg","手机号码格式不正确"),t._validator.addRule("numformat",function(){var e=t.getElement("travelCompleteMobile").value;return/^\d+$/.test(e)?!0:!1}),t._validator.addMsg("numformat","手机号码格式不正确"),t._validator.init(t,t.validateRules)},_validateError:function(e,n){var a=this,r=t(a.getElement(e.field));r&&r.addClass(a.constant.ERROR_CLASS),this.getElement("travelCompleteError").innerHTML=e.msg,n&&n.callback&&n.callback()},_validateSuccess:function(e,n){var a=this,r=t(a.getElement(e.field));this.getElement("travelCompleteError").innerHTML="",r.removeClass(a.constant.ERROR_CLASS),n&&n.callback&&n.callback()},loadCssFileW:function(e,t){var n=this;if(window._loadedFilesW=window._loadedFilesW||{},!window._loadedFilesW[e]){window._loadedFilesW[e]=!0;var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=n._domain.staticFile+e,document.getElementsByTagName("head")[0].appendChild(a),a.readyState?a.onreadystatechange=function(){("loaded"===a.readyState||"complete"===a.readyState)&&(a.onreadystatechange=null,t&&t())}:a.onload=function(){t&&t()}}},insertScriptW:function(e,t){if(window._loadedFilesW=window._loadedFilesW||{},!window._loadedFilesW[e]){window._loadedFilesW[e]=!0;var n=document,a=n.createElement("SCRIPT");a.type="text/javascript",a.charset="UTF-8",a.readyState?a.onreadystatechange=function(){("loaded"===a.readyState||"complete"===a.readyState)&&(a.onreadystatechange=null,t&&t())}:a.onload=function(){t&&t()},a.src=e,n.getElementsByTagName("head")[0].appendChild(a)}},getToken:function(){var t=this,n={};n.tpl=t.config.product,n.fromlogin=t.config.fromlogin,n.lstr=t.config.lstr,n.u=t.config.u,n.ltoken=t.config.ltoken,e.data.jsonp("/v3/security/main/touristnormalizewidgetinit?v="+(new Date).getTime(),n).success(function(e){t.bdstoken=e.data.bdstoken})},render:function(e){var t=this;t.getElement()||t.$mappingDom("",e||document.body),t.getToken(),t.renderTemplate()},renderTemplate:function(){var n=this,a=t(n.getElement());a.addClass(n.constant.CONTAINER_CLASS);var r=n.getTemplate();a.get(0).appendChild(t(r).get(0));var o=document.getElementById("select-countrycode"),i=0,s=function(){var n='<li class="clearfix" data-value=""><span class="left forgot-code">+86</span><span class="left font-code">大陆地区</span></li>';e.data.jsonp("/v2/?securitygetcountrycode&v="+(new Date).getTime(),{}).success(function(e){var a=e.data.country;t.each(a,function(e,t){n+='<li class="clearfix" data-value="'+t.code+'"><span class="left forgot-code">+'+t.code.substring(2)+'</span><span class="left font-code">'+t.name+"</span></li>"});var r=document.getElementById("codelist-code-ul");r.innerHTML=n})};if(o&&(o.onclick=function(){t("#codelist-code-ul li").size()>0?"none"===t("#codelist-code-ul").css("display")?t("#codelist-code-ul").show():t("#codelist-code-ul").hide():(s(),t("#codelist-code-ul").show())},t("body").click(function(e){e.target.className.indexOf("label-input-code")<0&&t("#codelist-code-ul").hide()}),t("#codelist-code-ul").click(function(e){var a=e.target.parentNode,r=t("#select-countrycode"),o=t(a).find(".forgot-code").html();r.innerHTML=t(a).attr("data-value"),t(".label-input-code").html(o),i=t(a).attr("data-value")?1:0,n._setValidator()})),n.config.hasPlaceholder){var l=[{label:"travelCompleteMobile",placeholder:"mobilePlaceholder"},{label:"travelCompleteVerifyCode",placeholder:"verifyCodePlaceholder",clearbtn:0}];n._getPlaceholder(l)}n._setValidator(),n._setEvent(),t(n.getElement("noreciveVcode")).on("mouseover",function(){n.getElement("noreciveTip").style.display="block"}),t(n.getElement("noreciveVcode")).on("mouseout",function(){n.getElement("noreciveTip").style.display="none"})},disableSmsButton:function(){function e(){return 0===--s?(r.value=i,t(r).removeClass(a.constant.DISABLED_CLASS),void(r.disabled=!1)):(r.value=a.lang.SMSKeyResendTip+"("+s+")",void(n=setTimeout(function(){e()},1e3)))}var n,a=this,r=a.getElement("verifyCodeSend"),o=a.getElement("travelCompleteError"),i=r.value,s=60;t(r).addClass(a.constant.DISABLED_CLASS),r.disabled=!0,o&&(o.innerHTML=""),e()},sendVcode:function(){var t,n=this;document.getElementById("select-countrycode")&&(t=document.getElementById("select-countrycode").innerHTML.replace(/<[^<^>]*>/g,"")),t="86"!==t&&"+86"!==t&&t?"00"+t.substring(1):"";var a=n.getElement("travelCompleteMobile").value,r={};r.bdstoken=n.bdstoken,r.countrycode=t,r.mobile=a,r.tpl=n.config.product,r.mkey=n.config.mkey,r.fromlogin=n.config.fromlogin,r.lstr=n.config.lstr,r.u=n.config.u,r.ltoken=n.config.ltoken,r.exchange=n.exchange,r.assoc="assoc",r.dv=document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"",e.data.jsonp("/v3/security/main/touristnormalizewidgetsend?v="+(new Date).getTime(),r).success(function(e){0==e.data.errno?n.disableSmsButton():10===parseInt(e.data.errno,10)?n.exchangeDialog(e):n.getElement("travelCompleteError").innerHTML=e.data.errmsg||""})},_eventHandler:function(){var n,a={focus:function(e){var a=n.fireEvent("fieldFocus",{ele:this});a&&(this.addClass(n.constant.FOCUS_CLASS),this.removeClass(n.constant.ERROR_CLASS),t(n.getElement(e+"Label")).addClass(n.constant.LABEL_FOCUS_CLASS))},blur:function(e){var a=n.fireEvent("fieldBlur",{ele:this});a&&(this.removeClass(n.constant.FOCUS_CLASS),t(n.getElement(e+"Label")).removeClass(n.constant.LABEL_FOCUS_CLASS))},keyup:function(){}},r={focus:{},blur:{travelCompleteMobile:function(e){var t=this.get(0).value;t.length&&n.validate(e)},travelCompleteVerifyCode:function(e){var t=this.get(0).value;t.length&&n.validate(e)}},change:{},click:{verifyCodeSend:function(e,t){n.validate("travelCompleteMobile",{success:function(){n.sendVcode()}}),t.preventDefault()}},keyup:{},submit:function(a){a.preventDefault();var r;document.getElementById("select-countrycode")&&(r=document.getElementById("select-countrycode").innerHTML.replace(/<[^<^>]*>/g,"")),r="86"!==r&&"+86"!==r&&r?"00"+r.substring(1):"",n.validateAll({success:function(){n.getElement("travelCompleteSubmit").focus();var a=n.fireEvent("beforeSubmit");if(a){n.getElement("travelCompleteSubmit").disabled=!0;var o=t.form.json(n.getElement("form"));e.data.jsonp("/v3/security/main/touristnormalizewidgetbind",{bdstoken:n.bdstoken,countrycode:r,mobile:o.travelCompleteMobile,vcode:o.travelCompleteVerifyCode,tpl:n.config.product,mkey:n.config.mkey,exchange:n.exchange,lstr:n.config.lstr,u:n.config.u,ltoken:n.config.ltoken,assoc:"assoc"}).success(function(e){"0"http://passport.baidu.com/passApi/js/===e.errInfo.no?n.fireEvent("submitSuccess",{rsp:e,mobile:o.travelCompleteMobile}):(n.getElement("travelCompleteSubmit").disabled=!1,n._validateError({msg:e.errInfo.msg}))})}}},!0)}};return{entrance:function(e){n=this;var o=(t(e.target),e.target.name);if(!o&&e.target.id){var i=e.target.id.match(/\d+__(.*)$/);i&&(o=i[1])}o&&(a.hasOwnProperty(e.type)&&a[e.type].apply(t(e.target),[o,e]),r.hasOwnProperty(e.type)&&("function"==typeof r[e.type]&&r[e.type].apply(t(e.target),[e]),r[e.type].hasOwnProperty(o)&&r[e.type][o].apply(t(e.target),[o,e])))}}}(),$dispose:function(){var e=this;e.disposed||(t.dom(e.getElement()).removeClass(e.constant.CONTAINER_CLASS),e.getElement().removeChild(e.getElement("form")),n.Base.prototype.$dispose.call(e))}}),n});