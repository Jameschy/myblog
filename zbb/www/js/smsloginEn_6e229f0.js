!function(){var t=document.getElementsByTagName("script"),e=t.length,n=t[e-1].src,i=n.indexOf("/js/"),s=n.substr(0,i)+"/js/";window.importScriptList={},window.importScript=function(t){t&&(-1===t.indexOf("http://")&&-1===t.indexOf("https://")&&("/"===t.substr(0,1)&&(t=t.substr(1)),t=s+t),t in importScriptList||(importScriptList[t]=!0,document.write('<script src="'+t+'" type="text/javascript"></script>')))}}(),passport._define("smsloginEn-2.js"/*tpa=http://passport.baidu.com/passApi/js/smsloginEn.js*/,function(){var t=t||window.passport||{},e=t.tangramInst||e||window.baidu;!function(t){t.apiDomain={staticDomain:window.location?"http:"==window.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com":"http:"==document.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com"}}(t);var n=null;if("function"!=typeof n)var n=function(){};n._baiduInstName=n._baiduInstName||"bdInst_"+(new Date).getTime();var i=i||e.baiduInstance||window.baiduInstance;window[n._baiduInstName]=window[n._baiduInstName]||i,n.resourcePath="",n.skinName="default",n.version="1.0.0.0",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),e.form=e.form||{},e.url=e.url||{},e.url.escapeSymbol=e.url.escapeSymbol||function(t){return String(t).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(t){return"%"+(256+t.charCodeAt()).toString(16).substring(1).toUpperCase()})},e.form.json=e.form.json||function(t,n){function i(t,e){var n=f[t];n?(n.push||(f[t]=[n]),f[t].push(e)):f[t]=e}for(var s,r,o,a,c,u,l,h,d=t.elements,n=n||function(t){return t},f={},p=0,g=d.length;g>p;p++)if(s=d[p],o=s.name,!s.disabled&&o)switch(r=s.type,a=e.url.escapeSymbol(s.value),r){case"radio":case"checkbox":s.checked&&i(o,n(a,o));break;case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":i(o,n(a,o));break;case"select-multiple":for(c=s.options,l=c.length,u=0;l>u;u++)h=c[u],h.selected&&i(o,n(h.value,o))}return f},n.Base=function(){e.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},e.lang.inherits(n.Base,e.lang.Class,"http://passport.baidu.com/passApi/js/magic.Base").extend({getElement:function(t){return document.getElementById(this.$getId(t))},getElements:function(){var t={},e=this._ids;for(var n in e)t[n]=this.getElement(n);return t},$getId:function(t){return t=e.lang.isString(t)?t:"",this._ids[t]||(this._ids[t]=this._eid+t)},$mappingDom:function(t,n){return e.lang.isString(n)?this._ids[t]=n:n&&n.nodeType&&(n.id?this._ids[t]=n.id:n.id=this.$getId(t)),this},$hide:function(t){return("string"==(typeof t).toLowerCase()||""===t)&&(t=this.getElement(t)),t&&t.style&&(t.style.display="none",t.style.visibility="hidden"),this},$show:function(t){return("string"==(typeof t).toLowerCase()||""===t)&&(t=this.getElement(t)),t&&t.style&&(t.style.display="block",t.style.visibility="visible",t.style.opacity="1"),this},$dispose:function(){this.fire("ondispose")&&e.lang.Class.prototype.dispose.call(this)}}),n.control=n.control||{},function(){function t(t,e){var n,i=t.getAttribute(e),r=!1;if(i&&(n=i.match(s[0]))){r={};for(var o,a=0;a<n.length;a++)o=n[a].match(s[1]),!isNaN(o[2])&&(o[2]=+o[2]),s[2].test(o[2])&&(o[2]=o[2].replace(s[3],"$2")),s[4].test(o[2])&&(o[2]=s[5].test(o[2])),r[o[1]]=o[2]}return r}function i(i,s){var r=t(i,"tang-event");if(r)for(var o in r){var a=r[o].substr(1);a.indexOf("(")<0&&(a+="()"),e.dom(i).on(o,new Function(n._baiduInstName+"('"+s+"') && "+n._baiduInstName+"('"+s+"')"+a))}}n.setup=n.setup||function(e,n,s){var r=t(e,"tang-param")||{};for(var o in s)r[o]=s[o];var a=new n(r);a.$mappingDom("",e),i(e,a.guid);for(var c=e.getElementsByTagName("*"),o=c.length-1;o>=0;o--)i(c[o],a.guid);return a};var s=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i]}(),t=t||{},t.lib=t.lib||{},t.lib.RSAExport={},function(t){function e(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function n(){return new e(null)}function i(t,e,n,i,s,r){for(;--r>=0;){var o=e*this[t++]+n[i]+s;s=Math.floor(o/67108864),n[i++]=67108863&o}return s}function s(t,e,n,i,s,r){for(var o=32767&e,a=e>>15;--r>=0;){var c=32767&this[t],u=this[t++]>>15,l=a*c+u*o;c=o*c+((32767&l)<<15)+n[i]+(1073741823&s),s=(c>>>30)+(l>>>15)+a*u+(s>>>30),n[i++]=1073741823&c}return s}function r(t,e,n,i,s,r){for(var o=16383&e,a=e>>14;--r>=0;){var c=16383&this[t],u=this[t++]>>14,l=a*c+u*o;c=o*c+((16383&l)<<14)+n[i]+s,s=(c>>28)+(l>>14)+a*u,n[i++]=268435455&c}return s}function o(t){return An.charAt(t)}function a(t,e){var n=Pn[t.charCodeAt(e)];return null==n?-1:n}function c(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function l(t){var e=n();return e.fromInt(t),e}function h(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(t,n);i=2}this.t=0,this.s=0;for(var s=t.length,r=!1,o=0;--s>=0;){var c=8==i?255&t[s]:a(t,s);0>c?"-"==t.charAt(s)&&(r=!0):(r=!1,0==o?this[this.t++]=c:o+i>this.DB?(this[this.t-1]|=(c&(1<<this.DB-o)-1)<<o,this[this.t++]=c>>this.DB-o):this[this.t-1]|=c<<o,o+=i,o>=this.DB&&(o-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),r&&e.ZERO.subTo(this,this)}function d(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function f(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,s=!1,r="",a=this.t,c=this.DB-a*this.DB%e;if(a-->0)for(c<this.DB&&(n=this[a]>>c)>0&&(s=!0,r=o(n));a>=0;)e>c?(n=(this[a]&(1<<c)-1)<<e-c,n|=this[--a]>>(c+=this.DB-e)):(n=this[a]>>(c-=e)&i,0>=c&&(c+=this.DB,--a)),n>0&&(s=!0),s&&(r+=o(n));return s?r:"0"}function p(){var t=n();return e.ZERO.subTo(this,t),t}function g(){return this.s<0?this.negate():this}function m(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function y(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function b(){return this.t<=0?0:this.DB*(this.t-1)+y(this[this.t-1]^this.s&this.DM)}function E(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function S(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function w(t,e){var n,i=t%this.DB,s=this.DB-i,r=(1<<s)-1,o=Math.floor(t/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)e[n+o+1]=this[n]>>s|a,a=(this[n]&r)<<i;for(n=o-1;n>=0;--n)e[n]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()}function T(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var i=t%this.DB,s=this.DB-i,r=(1<<i)-1;e[0]=this[n]>>i;for(var o=n+1;o<this.t;++o)e[o-n-1]|=(this[o]&r)<<s,e[o-n]=this[o]>>i;i>0&&(e[this.t-n-1]|=(this.s&r)<<s),e.t=this.t-n,e.clamp()}function C(t,e){for(var n=0,i=0,s=Math.min(t.t,this.t);s>n;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=0>i?-1:0,-1>i?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function I(t,n){var i=this.abs(),s=t.abs(),r=i.t;for(n.t=r+s.t;--r>=0;)n[r]=0;for(r=0;r<s.t;++r)n[r+i.t]=i.am(0,s[r],n,r,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function R(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function D(t,i,s){var r=t.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=i&&i.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=n());var a=n(),c=this.s,u=t.s,l=this.DB-y(r[r.t-1]);l>0?(r.lShiftTo(l,a),o.lShiftTo(l,s)):(r.copyTo(a),o.copyTo(s));var h=a.t,d=a[h-1];if(0!=d){var f=d*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),p=this.FV/f,g=(1<<this.F1)/f,m=1<<this.F2,v=s.t,b=v-h,E=null==i?n():i;for(a.dlShiftTo(b,E),s.compareTo(E)>=0&&(s[s.t++]=1,s.subTo(E,s)),e.ONE.dlShiftTo(h,E),E.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--b>=0;){var S=s[--v]==d?this.DM:Math.floor(s[v]*p+(s[v-1]+m)*g);if((s[v]+=a.am(0,S,s,b,0,h))<S)for(a.dlShiftTo(b,E),s.subTo(E,s);s[v]<--S;)s.subTo(E,s)}null!=i&&(s.drShiftTo(h,i),c!=u&&e.ZERO.subTo(i,i)),s.t=h,s.clamp(),l>0&&s.rShiftTo(l,s),0>c&&e.ZERO.subTo(s,s)}}}function x(t){var i=n();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&t.subTo(i,i),i}function _(t){this.m=t}function A(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function P(t){return t}function L(t){t.divRemTo(this.m,null,t)}function V(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function O(t,e){t.squareTo(e),this.reduce(e)}function B(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function k(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function U(t){var i=n();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(e.ZERO)>0&&this.m.subTo(i,i),i}function M(t){var e=n();return t.copyTo(e),this.reduce(e),e}function N(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function K(t,e){t.squareTo(e),this.reduce(e)}function F(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function $(){return 0==(this.t>0?1&this[0]:this.s)}function H(t,i){if(t>4294967295||1>t)return e.ONE;var s=n(),r=n(),o=i.convert(this),a=y(t)-1;for(o.copyTo(s);--a>=0;)if(i.sqrTo(s,r),(t&1<<a)>0)i.mulTo(r,o,s);else{var c=s;s=r,r=c}return i.revert(s)}function J(t,e){var n;return n=256>t||e.isEven()?new _(e):new k(e),this.exp(t,n)}function q(){var t=n();return this.copyTo(t),t}function j(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function W(){return 0==this.t?this.s:this[0]<<24>>24}function G(){return 0==this.t?this.s:this[0]<<16>>16}function z(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Z(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Y(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),s=l(i),r=n(),o=n(),a="";for(this.divRemTo(s,r,o);r.signum()>0;)a=(i+o.intValue()).toString(t).substr(1)+a,r.divRemTo(s,r,o);return o.intValue().toString(t)+a}function X(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),s=Math.pow(n,i),r=!1,o=0,c=0,u=0;u<t.length;++u){var l=a(t,u);0>l?"-"==t.charAt(u)&&0==this.signum()&&(r=!0):(c=n*c+l,++o>=i&&(this.dMultiply(s),this.dAddOffset(c,0),o=0,c=0))}o>0&&(this.dMultiply(Math.pow(n,o)),this.dAddOffset(c,0)),r&&e.ZERO.subTo(this,this)}function Q(t,n,i){if("number"==typeof n)if(2>t)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),ae,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var s=new Array,r=7&t;s.length=(t>>3)+1,n.nextBytes(s),r>0?s[0]&=(1<<r)-1:s[0]=0,this.fromString(s,256)}}function te(){var t=this.t,e=new Array;e[0]=this.s;var n,i=this.DB-t*this.DB%8,s=0;if(t-->0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[s++]=n|this.s<<this.DB-i);t>=0;)8>i?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,0>=i&&(i+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==s&&(128&this.s)!=(128&n)&&++s,(s>0||n!=this.s)&&(e[s++]=n);return e}function ee(t){return 0==this.compareTo(t)}function ne(t){return this.compareTo(t)<0?this:t}function ie(t){return this.compareTo(t)>0?this:t}function se(t,e,n){var i,s,r=Math.min(t.t,this.t);for(i=0;r>i;++i)n[i]=e(this[i],t[i]);if(t.t<this.t){for(s=t.s&this.DM,i=r;i<this.t;++i)n[i]=e(this[i],s);n.t=this.t}else{for(s=this.s&this.DM,i=r;i<t.t;++i)n[i]=e(s,t[i]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function re(t,e){return t&e}function oe(t){var e=n();return this.bitwiseTo(t,re,e),e}function ae(t,e){return t|e}function ce(t){var e=n();return this.bitwiseTo(t,ae,e),e}function ue(t,e){return t^e}function le(t){var e=n();return this.bitwiseTo(t,ue,e),e}function he(t,e){return t&~e}function de(t){var e=n();return this.bitwiseTo(t,he,e),e}function fe(){for(var t=n(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function pe(t){var e=n();return 0>t?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function ge(t){var e=n();return 0>t?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function me(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function ve(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+me(this[t]);return this.s<0?this.t*this.DB:-1}function ye(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function be(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=ye(this[n]^e);return t}function Ee(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function Se(t,n){var i=e.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i}function we(t){return this.changeBit(t,ae)}function Te(t){return this.changeBit(t,he)}function Ce(t){return this.changeBit(t,ue)}function Ie(t,e){for(var n=0,i=0,s=Math.min(t.t,this.t);s>n;)i+=this[n]+t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i+=t[n],e[n++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=0>i?-1:0,i>0?e[n++]=i:-1>i&&(e[n++]=this.DV+i),e.t=n,e.clamp()}function Re(t){var e=n();return this.addTo(t,e),e}function De(t){var e=n();return this.subTo(t,e),e}function xe(t){var e=n();return this.multiplyTo(t,e),e}function _e(){var t=n();return this.squareTo(t),t}function Ae(t){var e=n();return this.divRemTo(t,e,null),e}function Pe(t){var e=n();return this.divRemTo(t,null,e),e}function Le(t){var e=n(),i=n();return this.divRemTo(t,e,i),new Array(e,i)}function Ve(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Oe(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Be(){}function ke(t){return t}function Ue(t,e,n){t.multiplyTo(e,n)}function Me(t,e){t.squareTo(e)}function Ne(t){return this.exp(t,new Be)}function Ke(t,e,n){var i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;var s;for(s=n.t-this.t;s>i;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(s=Math.min(t.t,e);s>i;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()}function Fe(t,e,n){--e;var i=n.t=this.t+t.t-e;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)n[this.t+i-e]=this.am(e-i,t[i],n,0,0,this.t+i-e);n.clamp(),n.drShiftTo(1,n)}function $e(t){this.r2=n(),this.q3=n(),e.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function He(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=n();return t.copyTo(e),this.reduce(e),e}function Je(t){return t}function qe(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function je(t,e){t.squareTo(e),this.reduce(e)}function We(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function Ge(t,e){var i,s,r=t.bitLength(),o=l(1);if(0>=r)return o;i=18>r?1:48>r?3:144>r?4:768>r?5:6,s=8>r?new _(e):e.isEven()?new $e(e):new k(e);var a=new Array,c=3,u=i-1,h=(1<<i)-1;if(a[1]=s.convert(this),i>1){var d=n();for(s.sqrTo(a[1],d);h>=c;)a[c]=n(),s.mulTo(d,a[c-2],a[c]),c+=2}var f,p,g=t.t-1,m=!0,v=n();for(r=y(t[g])-1;g>=0;){for(r>=u?f=t[g]>>r-u&h:(f=(t[g]&(1<<r+1)-1)<<u-r,g>0&&(f|=t[g-1]>>this.DB+r-u)),c=i;0==(1&f);)f>>=1,--c;if((r-=c)<0&&(r+=this.DB,--g),m)a[f].copyTo(o),m=!1;else{for(;c>1;)s.sqrTo(o,v),s.sqrTo(v,o),c-=2;c>0?s.sqrTo(o,v):(p=o,o=v,v=p),s.mulTo(v,a[f],o)}for(;g>=0&&0==(t[g]&1<<r);)s.sqrTo(o,v),p=o,o=v,v=p,--r<0&&(r=this.DB-1,--g)}return s.revert(o)}function ze(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var i=e;e=n,n=i}var s=e.getLowestSetBit(),r=n.getLowestSetBit();if(0>r)return e;for(r>s&&(r=s),r>0&&(e.rShiftTo(r,e),n.rShiftTo(r,n));e.signum()>0;)(s=e.getLowestSetBit())>0&&e.rShiftTo(s,e),(s=n.getLowestSetBit())>0&&n.rShiftTo(s,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n}function Ze(t){if(0>=t)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var i=this.t-1;i>=0;--i)n=(e*n+this[i])%t;return n}function Ye(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var i=t.clone(),s=this.clone(),r=l(1),o=l(0),a=l(0),c=l(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(r.isEven()&&o.isEven()||(r.addTo(this,r),o.subTo(t,o)),r.rShiftTo(1,r)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;s.isEven();)s.rShiftTo(1,s),n?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);i.compareTo(s)>=0?(i.subTo(s,i),n&&r.subTo(a,r),o.subTo(c,o)):(s.subTo(i,s),n&&a.subTo(r,a),c.subTo(o,c))}return 0!=s.compareTo(e.ONE)?e.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c}function Xe(t){var e,n=this.abs();if(1==n.t&&n[0]<=Ln[Ln.length-1]){for(e=0;e<Ln.length;++e)if(n[0]==Ln[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<Ln.length;){for(var i=Ln[e],s=e+1;s<Ln.length&&Vn>i;)i*=Ln[s++];for(i=n.modInt(i);s>e;)if(i%Ln[e++]==0)return!1}return n.millerRabin(t)}function Qe(t){var i=this.subtract(e.ONE),s=i.getLowestSetBit();if(0>=s)return!1;var r=i.shiftRight(s);t=t+1>>1,t>Ln.length&&(t=Ln.length);for(var o=n(),a=0;t>a;++a){o.fromInt(Ln[Math.floor(Math.random()*Ln.length)]);var c=o.modPow(r,this);if(0!=c.compareTo(e.ONE)&&0!=c.compareTo(i)){for(var u=1;u++<s&&0!=c.compareTo(i);)if(c=c.modPowInt(2,this),0==c.compareTo(e.ONE))return!1;if(0!=c.compareTo(i))return!1}}return!0}function tn(){this.i=0,this.j=0,this.S=new Array}function en(t){var e,n,i;for(e=0;256>e;++e)this.S[e]=e;for(n=0,e=0;256>e;++e)n=n+this.S[e]+t[e%t.length]&255,i=this.S[e],this.S[e]=this.S[n],this.S[n]=i;this.i=0,this.j=0}function nn(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function sn(){return new tn}function rn(t){Bn[kn++]^=255&t,Bn[kn++]^=t>>8&255,Bn[kn++]^=t>>16&255,Bn[kn++]^=t>>24&255,kn>=Un&&(kn-=Un)}function on(){rn((new Date).getTime())}function an(){if(null==On){for(on(),On=sn(),On.init(Bn),kn=0;kn<Bn.length;++kn)Bn[kn]=0;kn=0}return On.next()}function cn(t){var e;for(e=0;e<t.length;++e)t[e]=an()}function un(){}function ln(t,n){return new e(t,n)}function hn(t,n){if(n<t.length+11)return console.error("Message too long for RSA"),null;for(var i=new Array,s=t.length-1;s>=0&&n>0;){var r=t.charCodeAt(s--);128>r?i[--n]=r:r>127&&2048>r?(i[--n]=63&r|128,i[--n]=r>>6|192):(i[--n]=63&r|128,i[--n]=r>>6&63|128,i[--n]=r>>12|224)}i[--n]=0;for(var o=new un,a=new Array;n>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);i[--n]=a[0]}return i[--n]=2,i[--n]=0,new e(i)}function dn(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function fn(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=ln(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")}function pn(t){return t.modPowInt(this.e,this.n)}function gn(t){var e=hn(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}function mn(t,e){for(var n=t.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=e-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var s="";++i<n.length;){var r=255&n[i];128>r?s+=String.fromCharCode(r):r>191&&224>r?(s+=String.fromCharCode((31&r)<<6|63&n[i+1]),++i):(s+=String.fromCharCode((15&r)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return s}function vn(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=ln(t,16),this.e=parseInt(e,16),this.d=ln(n,16)):console.error("Invalid RSA private key")}function yn(t,e,n,i,s,r,o,a){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=ln(t,16),this.e=parseInt(e,16),this.d=ln(n,16),this.p=ln(i,16),this.q=ln(s,16),this.dmp1=ln(r,16),this.dmq1=ln(o,16),this.coeff=ln(a,16)):console.error("Invalid RSA private key")}function bn(t,n){var i=new un,s=t>>1;this.e=parseInt(n,16);for(var r=new e(n,16);;){for(;this.p=new e(t-s,1,i),0!=this.p.subtract(e.ONE).gcd(r).compareTo(e.ONE)||!this.p.isProbablePrime(10););for(;this.q=new e(s,1,i),0!=this.q.subtract(e.ONE).gcd(r).compareTo(e.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var a=this.p.subtract(e.ONE),c=this.q.subtract(e.ONE),u=a.multiply(c);if(0==u.gcd(r).compareTo(e.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(u),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}}function En(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function Sn(t){var e=ln(t,16),n=this.doPrivate(e);return null==n?null:mn(n,this.n.bitLength()+7>>3)}function wn(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=Kn.charAt(n>>6)+Kn.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=Kn.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=Kn.charAt(n>>2)+Kn.charAt((3&n)<<4));(3&i.length)>0;)i+=Fn;return i}function Tn(t){var e,n,i="",s=0;for(e=0;e<t.length&&t.charAt(e)!=Fn;++e)v=Kn.indexOf(t.charAt(e)),0>v||(0==s?(i+=o(v>>2),n=3&v,s=1):1==s?(i+=o(n<<2|v>>4),n=15&v,s=2):2==s?(i+=o(n),i+=o(v>>2),n=3&v,s=3):(i+=o(n<<2|v>>4),i+=o(15&v),s=0));return 1==s&&(i+=o(n<<2)),i}var Cn,In=0xdeadbeefcafe,Rn=15715070==(16777215&In);Rn&&"Microsoft Internet Explorer"==navigator.appName?(e.prototype.am=s,Cn=30):Rn&&"Netscape"!=navigator.appName?(e.prototype.am=i,Cn=26):(e.prototype.am=r,Cn=28),e.prototype.DB=Cn,e.prototype.DM=(1<<Cn)-1,e.prototype.DV=1<<Cn;var Dn=52;e.prototype.FV=Math.pow(2,Dn),e.prototype.F1=Dn-Cn,e.prototype.F2=2*Cn-Dn;var xn,_n,An="0123456789abcdefghijklmnopqrstuvwxyz",Pn=new Array;for(xn="0".charCodeAt(0),_n=0;9>=_n;++_n)Pn[xn++]=_n;for(xn="a".charCodeAt(0),_n=10;36>_n;++_n)Pn[xn++]=_n;for(xn="A".charCodeAt(0),_n=10;36>_n;++_n)Pn[xn++]=_n;_.prototype.convert=A,_.prototype.revert=P,_.prototype.reduce=L,_.prototype.mulTo=V,_.prototype.sqrTo=O,k.prototype.convert=U,k.prototype.revert=M,k.prototype.reduce=N,k.prototype.mulTo=F,k.prototype.sqrTo=K,e.prototype.copyTo=c,e.prototype.fromInt=u,e.prototype.fromString=h,e.prototype.clamp=d,e.prototype.dlShiftTo=E,e.prototype.drShiftTo=S,e.prototype.lShiftTo=w,e.prototype.rShiftTo=T,e.prototype.subTo=C,e.prototype.multiplyTo=I,e.prototype.squareTo=R,e.prototype.divRemTo=D,e.prototype.invDigit=B,e.prototype.isEven=$,e.prototype.exp=H,e.prototype.toString=f,e.prototype.negate=p,e.prototype.abs=g,e.prototype.compareTo=m,e.prototype.bitLength=b,e.prototype.mod=x,e.prototype.modPowInt=J,e.ZERO=l(0),e.ONE=l(1),Be.prototype.convert=ke,Be.prototype.revert=ke,Be.prototype.mulTo=Ue,Be.prototype.sqrTo=Me,$e.prototype.convert=He,$e.prototype.revert=Je,$e.prototype.reduce=qe,$e.prototype.mulTo=We,$e.prototype.sqrTo=je;var Ln=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Vn=(1<<26)/Ln[Ln.length-1];e.prototype.chunkSize=z,e.prototype.toRadix=Y,e.prototype.fromRadix=X,e.prototype.fromNumber=Q,e.prototype.bitwiseTo=se,e.prototype.changeBit=Se,e.prototype.addTo=Ie,e.prototype.dMultiply=Ve,e.prototype.dAddOffset=Oe,e.prototype.multiplyLowerTo=Ke,e.prototype.multiplyUpperTo=Fe,e.prototype.modInt=Ze,e.prototype.millerRabin=Qe,e.prototype.clone=q,e.prototype.intValue=j,e.prototype.byteValue=W,e.prototype.shortValue=G,e.prototype.signum=Z,e.prototype.toByteArray=te,e.prototype.equals=ee,e.prototype.min=ne,e.prototype.max=ie,e.prototype.and=oe,e.prototype.or=ce,e.prototype.xor=le,e.prototype.andNot=de,e.prototype.not=fe,e.prototype.shiftLeft=pe,e.prototype.shiftRight=ge,e.prototype.getLowestSetBit=ve,e.prototype.bitCount=be,e.prototype.testBit=Ee,e.prototype.setBit=we,e.prototype.clearBit=Te,e.prototype.flipBit=Ce,e.prototype.add=Re,e.prototype.subtract=De,e.prototype.multiply=xe,e.prototype.divide=Ae,e.prototype.remainder=Pe,e.prototype.divideAndRemainder=Le,e.prototype.modPow=Ge,e.prototype.modInverse=Ye,e.prototype.pow=Ne,e.prototype.gcd=ze,e.prototype.isProbablePrime=Xe,e.prototype.square=_e,tn.prototype.init=en,tn.prototype.next=nn;var On,Bn,kn,Un=256;if(null==Bn){Bn=new Array,kn=0;var Mn;if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var Nn=window.crypto.random(32);for(Mn=0;Mn<Nn.length;++Mn)Bn[kn++]=255&Nn.charCodeAt(Mn)}for(;Un>kn;)Mn=Math.floor(65536*Math.random()),Bn[kn++]=Mn>>>8,Bn[kn++]=255&Mn;kn=0,on()}un.prototype.nextBytes=cn,dn.prototype.doPublic=pn,dn.prototype.setPublic=fn,dn.prototype.encrypt=gn,dn.prototype.doPrivate=En,dn.prototype.setPrivate=vn,dn.prototype.setPrivateEx=yn,dn.prototype.generate=bn,dn.prototype.decrypt=Sn,function(){var t=function(t,i,s){var r=new un,o=t>>1;this.e=parseInt(i,16);var a=new e(i,16),c=this,u=function(){var i=function(){if(c.p.compareTo(c.q)<=0){var t=c.p;c.p=c.q,c.q=t}var n=c.p.subtract(e.ONE),i=c.q.subtract(e.ONE),r=n.multiply(i);0==r.gcd(a).compareTo(e.ONE)?(c.n=c.p.multiply(c.q),c.d=a.modInverse(r),c.dmp1=c.d.mod(n),c.dmq1=c.d.mod(i),c.coeff=c.q.modInverse(c.p),setTimeout(function(){s()},0)):setTimeout(u,0)},l=function(){c.q=n(),c.q.fromNumberAsync(o,1,r,function(){c.q.subtract(e.ONE).gcda(a,function(t){0==t.compareTo(e.ONE)&&c.q.isProbablePrime(10)?setTimeout(i,0):setTimeout(l,0)})})},h=function(){c.p=n(),c.p.fromNumberAsync(t-o,1,r,function(){c.p.subtract(e.ONE).gcda(a,function(t){0==t.compareTo(e.ONE)&&c.p.isProbablePrime(10)?setTimeout(l,0):setTimeout(h,0)})})};setTimeout(h,0)};setTimeout(u,0)};dn.prototype.generateAsync=t;var i=function(t,e){var n=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(n.compareTo(i)<0){var s=n;n=i,i=s}var r=n.getLowestSetBit(),o=i.getLowestSetBit();if(0>o)return void e(n);o>r&&(o=r),o>0&&(n.rShiftTo(o,n),i.rShiftTo(o,i));var a=function(){(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),n.compareTo(i)>=0?(n.subTo(i,n),n.rShiftTo(1,n)):(i.subTo(n,i),i.rShiftTo(1,i)),n.signum()>0?setTimeout(a,0):(o>0&&i.lShiftTo(o,i),setTimeout(function(){e(i)},0))};setTimeout(a,10)};e.prototype.gcda=i;var s=function(t,n,i,s){if("number"==typeof n)if(2>t)this.fromInt(1);else{this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),ae,this),this.isEven()&&this.dAddOffset(1,0);var r=this,o=function(){r.dAddOffset(2,0),r.bitLength()>t&&r.subTo(e.ONE.shiftLeft(t-1),r),r.isProbablePrime(n)?setTimeout(function(){s()},0):setTimeout(o,0)};setTimeout(o,0)}else{var a=new Array,c=7&t;a.length=(t>>3)+1,n.nextBytes(a),c>0?a[0]&=(1<<c)-1:a[0]=0,this.fromString(a,256)}};e.prototype.fromNumberAsync=s}();var Kn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fn="=",$n=$n||{};$n.env=$n.env||{};var Hn=$n,Jn=Object.prototype,qn="[object Function]",jn=["toString","valueOf"];$n.env.parseUA=function(t){var e,n=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1==e++?"":"."}))},i=navigator,s={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:i&&i.cajaVersion,secure:!1,os:null},r=t||navigator&&navigator.userAgent,o=window&&window.location,a=o&&o.href;return s.secure=a&&0===a.toLowerCase().indexOf("https"),r&&(/windows|win32/i.test(r)?s.os="windows":/macintosh/i.test(r)?s.os="macintosh":/rhino/i.test(r)&&(s.os="rhino"),/KHTML/.test(r)&&(s.webkit=1),e=r.match(/AppleWebKit\/([^\s]*)/),e&&e[1]&&(s.webkit=n(e[1]),/ Mobile\//.test(r)?(s.mobile="Apple",e=r.match(/OS ([^\s]*)/),e&&e[1]&&(e=n(e[1].replace("_","."))),s.ios=e,s.ipad=s.ipod=s.iphone=0,e=r.match(/iPad|iPod|iPhone/),e&&e[0]&&(s[e[0].toLowerCase()]=s.ios)):(e=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),e&&(s.mobile=e[0]),/webOS/.test(r)&&(s.mobile="WebOS",e=r.match(/webOS\/([^\s]*);/),e&&e[1]&&(s.webos=n(e[1]))),/ Android/.test(r)&&(s.mobile="Android",e=r.match(/Android ([^\s]*);/),e&&e[1]&&(s.android=n(e[1])))),e=r.match(/Chrome\/([^\s]*)/),e&&e[1]?s.chrome=n(e[1]):(e=r.match(/AdobeAIR\/([^\s]*)/),e&&(s.air=e[0]))),s.webkit||(e=r.match(/Opera[\s\/]([^\s]*)/),e&&e[1]?(s.opera=n(e[1]),e=r.match(/Version\/([^\s]*)/),e&&e[1]&&(s.opera=n(e[1])),e=r.match(/Opera Mini[^;]*/),e&&(s.mobile=e[0])):(e=r.match(/MSIE\s([^;]*)/),e&&e[1]?s.ie=n(e[1]):(e=r.match(/Gecko\/([^\s]*)/),e&&(s.gecko=1,e=r.match(/rv:([^\s\)]*)/),e&&e[1]&&(s.gecko=n(e[1]))))))),s},$n.env.ua=$n.env.parseUA(),$n.isFunction=function(t){return"function"==typeof t||Jn.toString.apply(t)===qn},$n._IEEnumFix=$n.env.ua.ie?function(t,e){var n,i,s;for(n=0;n<jn.length;n+=1)i=jn[n],s=e[i],Hn.isFunction(s)&&s!=Jn[i]&&(t[i]=s)}:function(){},$n.extend=function(t,e,n){if(!e||!t)throw new Error("extend failed, please check that all dependencies are included.");var i,s=function(){};if(s.prototype=e.prototype,t.prototype=new s,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Jn.constructor&&(e.prototype.constructor=e),n){for(i in n)Hn.hasOwnProperty(n,i)&&(t.prototype[i]=n[i]);Hn._IEEnumFix(t.prototype,n)}},"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.asn1&&KJUR.asn1||(KJUR.asn1={}),KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var n=t.toString(16);if("-"!=n.substr(0,1))n.length%2==1?n="0"+n:n.match(/^[0-7]/)||(n="00"+n);else{var i=n.substr(1),s=i.length;s%2==1?s+=1:n.match(/^[0-7]/)||(s+=2);for(var r="",o=0;s>o;o++)r+="f";var a=new e(r,16),c=a.xor(t).add(e.ONE);n=c.toString(16).replace(/^-/,"")}return n},this.getPEMStringFromHex=function(t,e){var n=CryptoJS.enc.Hex.parse(t),i=CryptoJS.enc.Base64.stringify(n),s=i.replace(/(.{64})/g,"$1\r\n");return s=s.replace(/\r\n$/,""),"-----BEGIN "+e+"-----\r\n"+s+"\r\n-----END "+e+"-----\r\n"}},KJUR.asn1.ASN1Object=function(){var t="";this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.hV;var e=this.hV.length/2,n=e.toString(16);if(n.length%2==1&&(n="0"+n),128>e)return n;var i=n.length/2;
if(i>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var s=128+i;return s.toString(16)+n},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},KJUR.asn1.DERAbstractString=function(t){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"http://passport.baidu.com/passApi/js/!=typeof t.str?this.setString(t.str):"undefined"!=typeof t.hex&&this.setStringHex(t.hex))},$n.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractTime=function(){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.formatDate=function(t,e){var n=this.zeroPadding,i=this.localDateToUTC(t),s=String(i.getFullYear());"utc"==e&&(s=s.substr(2,2));var r=n(String(i.getMonth()+1),2),o=n(String(i.getDate()),2),a=n(String(i.getHours()),2),c=n(String(i.getMinutes()),2),u=n(String(i.getSeconds()),2);return s+r+o+a+c+u+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setByDateValue=function(t,e,n,i,s,r){var o=new Date(Date.UTC(t,e-1,n,i,s,r,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},$n.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object),KJUR.asn1.DERAbstractStructured=function(t){KJUR.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,"undefined"!=typeof t&&"undefined"!=typeof t.array&&(this.asn1Array=t.array)},$n.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object),KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},$n.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object),KJUR.asn1.DERInteger=function(t){KJUR.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var n=new e(String(t),10);this.setByBigInteger(n)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.bigint?this.setByBigInteger(t.bigint):"undefined"!=typeof t["int"]?this.setByInteger(t["int"]):"undefined"!=typeof t.hex&&this.setValueHex(t.hex))},$n.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object),KJUR.asn1.DERBitString=function(t){KJUR.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(0>t||t>7)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var n=0;e>=n;n++)t+="0";for(var i="",n=0;n<t.length-1;n+=8){var s=t.substr(n,8),r=parseInt(s,2).toString(16);1==r.length&&(r="0"+r),i+=r}this.hTLV=null,this.isModified=!0,this.hV="0"+e+i},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)e+=1==t[n]?"1":"0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;t>n;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"http://passport.baidu.com/passApi/js/!=typeof t.hex?this.setHexValueIncludingUnusedBits(t.hex):"undefined"http://passport.baidu.com/passApi/js/!=typeof t.bin?this.setByBinaryString(t.bin):"undefined"!=typeof t.array&&this.setByBooleanArray(t.array))},$n.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object),KJUR.asn1.DEROctetString=function(t){KJUR.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},$n.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},$n.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object),KJUR.asn1.DERObjectIdentifier=function(t){var n=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},i=function(t){var i="",s=new e(t,10),r=s.toString(2),o=7-r.length%7;7==o&&(o=0);for(var a="",c=0;o>c;c++)a+="0";r=a+r;for(var c=0;c<r.length-1;c+=7){var u=r.substr(c,7);c!=r.length-7&&(u="1"+u),i+=n(parseInt(u,2))}return i};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var e="",s=t.split("."),r=40*parseInt(s[0])+parseInt(s[1]);e+=n(r),s.splice(0,2);for(var o=0;o<s.length;o++)e+=i(s[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){if("undefined"==typeof KJUR.asn1.x509.OID.name2oidList[t])throw"DERObjectIdentifier oidName undefined: "+t;var e=KJUR.asn1.x509.OID.name2oidList[t];this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"http://passport.baidu.com/passApi/js/!=typeof t.oid?this.setValueOidString(t.oid):"undefined"http://passport.baidu.com/passApi/js/!=typeof t.hex?this.setValueHex(t.hex):"undefined"!=typeof t.name&&this.setValueName(t.name))},$n.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object),KJUR.asn1.DERUTF8String=function(t){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},$n.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERNumericString=function(t){KJUR.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},$n.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERPrintableString=function(t){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},$n.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERTeletexString=function(t){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},$n.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString),KJUR.asn1.DERIA5String=function(t){KJUR.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},$n.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString),KJUR.asn1.DERUTCTime=function(t){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},"undefined"!=typeof t&&("undefined"http://passport.baidu.com/passApi/js/!=typeof t.str?this.setString(t.str):"undefined"http://passport.baidu.com/passApi/js/!=typeof t.hex?this.setStringHex(t.hex):"undefined"!=typeof t.date&&this.setByDate(t.date))},$n.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERGeneralizedTime=function(t){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen"),this.hV=stohex(this.s)},"undefined"!=typeof t&&("undefined"http://passport.baidu.com/passApi/js/!=typeof t.str?this.setString(t.str):"undefined"http://passport.baidu.com/passApi/js/!=typeof t.hex?this.setStringHex(t.hex):"undefined"!=typeof t.date&&this.setByDate(t.date))},$n.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime),KJUR.asn1.DERSequence=function(t){KJUR.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t+=n.getEncodedHex()}return this.hV=t,this.hV}},$n.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERSet=function(t){KJUR.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return t.sort(),this.hV=t.join(""),this.hV}},$n.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured),KJUR.asn1.DERTaggedObject=function(t){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof t&&("undefined"!=typeof t.tag&&(this.hT=t.tag),"undefined"!=typeof t.explicit&&(this.isExplicit=t.explicit),"undefined"!=typeof t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},$n.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),function(t){"use strict";var e,n={};n.decode=function(n){var i;if(e===t){var s="0123456789ABCDEF",r=" \f\n\r	 \u2028\u2029";for(e=[],i=0;16>i;++i)e[s.charAt(i)]=i;for(s=s.toLowerCase(),i=10;16>i;++i)e[s.charAt(i)]=i;for(i=0;i<r.length;++i)e[r.charAt(i)]=-1}var o=[],a=0,c=0;for(i=0;i<n.length;++i){var u=n.charAt(i);if("="==u)break;if(u=e[u],-1!=u){if(u===t)throw"Illegal character at offset "+i;a|=u,++c>=2?(o[o.length]=a,a=0,c=0):a<<=4}}if(c)throw"Hex encoding incomplete: 4 bits missing";return o},window.Hex=n}(),function(t){"use strict";var e,n={};n.decode=function(n){var i;if(e===t){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="= \f\n\r	 \u2028\u2029";for(e=[],i=0;64>i;++i)e[s.charAt(i)]=i;for(i=0;i<r.length;++i)e[r.charAt(i)]=-1}var o=[],a=0,c=0;for(i=0;i<n.length;++i){var u=n.charAt(i);if("="==u)break;if(u=e[u],-1!=u){if(u===t)throw"Illegal character at offset "+i;a|=u,++c>=4?(o[o.length]=a>>16,o[o.length]=a>>8&255,o[o.length]=255&a,a=0,c=0):a<<=6}}switch(c){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:o[o.length]=a>>10;break;case 3:o[o.length]=a>>16,o[o.length]=a>>8&255}return o},n.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,n.unarmor=function(t){var e=n.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw"RegExp out of sync";t=e[2]}return n.decode(t)},window.Base64=n}(),function(t){"use strict";function e(t,n){t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=n)}function n(t,e,n,i,s){this.stream=t,this.header=e,this.length=n,this.tag=i,this.sub=s}var i=100,s="…",r={tag:function(t,e){var n=document.createElement(t);return n.className=e,n},text:function(t){return document.createTextNode(t)}};e.prototype.get=function(e){if(e===t&&(e=this.pos++),e>=this.enc.length)throw"Requesting byte offset "+e+" on a stream of length "+this.enc.length;return this.enc[e]},e.prototype.hexDigits="0123456789ABCDEF",e.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},e.prototype.hexDump=function(t,e,n){for(var i="",s=t;e>s;++s)if(i+=this.hexByte(this.get(s)),n!==!0)switch(15&s){case 7:i+="  ";break;case 15:i+="\n";break;default:i+=" "}return i},e.prototype.parseStringISO=function(t,e){for(var n="",i=t;e>i;++i)n+=String.fromCharCode(this.get(i));return n},e.prototype.parseStringUTF=function(t,e){for(var n="",i=t;e>i;){var s=this.get(i++);n+=String.fromCharCode(128>s?s:s>191&&224>s?(31&s)<<6|63&this.get(i++):(15&s)<<12|(63&this.get(i++))<<6|63&this.get(i++))}return n},e.prototype.parseStringBMP=function(t,e){for(var n="",i=t;e>i;i+=2){var s=this.get(i),r=this.get(i+1);n+=String.fromCharCode((s<<8)+r)}return n},e.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,e.prototype.parseTime=function(t,e){var n=this.parseStringISO(t,e),i=this.reTime.exec(n);return i?(n=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(n+=":"+i[5],i[6]&&(n+=":"+i[6],i[7]&&(n+="."+i[7]))),i[8]&&(n+=" UTC","Z"!=i[8]&&(n+=i[8],i[9]&&(n+=":"+i[9]))),n):"Unrecognized time: "+n},e.prototype.parseInteger=function(t,e){var n=e-t;if(n>4){n<<=3;var i=this.get(t);if(0===i)n-=8;else for(;128>i;)i<<=1,--n;return"("+n+" bit)"}for(var s=0,r=t;e>r;++r)s=s<<8|this.get(r);return s},e.prototype.parseBitString=function(t,e){var n=this.get(t),i=(e-t-1<<3)-n,s="("+i+" bit)";if(20>=i){var r=n;s+=" ";for(var o=e-1;o>t;--o){for(var a=this.get(o),c=r;8>c;++c)s+=a>>c&1?"1":"0";r=0}}return s},e.prototype.parseOctetString=function(t,e){var n=e-t,r="("+n+" byte) ";n>i&&(e=t+i);for(var o=t;e>o;++o)r+=this.hexByte(this.get(o));return n>i&&(r+=s),r},e.prototype.parseOID=function(t,e){for(var n="",i=0,s=0,r=t;e>r;++r){var o=this.get(r);if(i=i<<7|127&o,s+=7,!(128&o)){if(""===n){var a=80>i?40>i?0:1:2;n=a+"."+(i-40*a)}else n+="."+(s>=31?"bigint":i);i=s=0}}return n},n.prototype.typeName=function(){if(this.tag===t)return"unknown";var e=this.tag>>6,n=(this.tag>>5&1,31&this.tag);switch(e){case 0:switch(n){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+n.toString(16)}case 1:return"Application_"+n.toString(16);case 2:return"["+n+"]";case 3:return"Private_"+n.toString(16)}},n.prototype.reSeemsASCII=/^[ -~]+$/,n.prototype.content=function(){if(this.tag===t)return null;var e=this.tag>>6,n=31&this.tag,r=this.posContent(),o=Math.abs(this.length);if(0!==e){if(null!==this.sub)return"("+this.sub.length+" elem)";var a=this.stream.parseStringISO(r,r+Math.min(o,i));return this.reSeemsASCII.test(a)?a.substring(0,2*i)+(a.length>2*i?s:""):this.stream.parseOctetString(r,r+o)}switch(n){case 1:return 0===this.stream.get(r)?"false":"true";case 2:return this.stream.parseInteger(r,r+o);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(r,r+o);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(r,r+o);case 6:return this.stream.parseOID(r,r+o);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(r,r+o);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(r,r+o);case 30:return this.stream.parseStringBMP(r,r+o);case 23:case 24:return this.stream.parseTime(r,r+o)}return null},n.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"http://passport.baidu.com/passApi/js/+(null===this.sub?"null":this.sub.length)+"]"},n.prototype.print=function(e){if(e===t&&(e=""),document.writeln(e+this),null!==this.sub){e+="  ";for(var n=0,i=this.sub.length;i>n;++n)this.sub[n].print(e)}},n.prototype.toPrettyString=function(e){e===t&&(e="");var n=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(n+="+"),n+=this.length,32&this.tag?n+=" (constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+=" (encapsulates)"),n+="\n",null!==this.sub){e+="  ";for(var i=0,s=this.sub.length;s>i;++i)n+=this.sub[i].toPrettyString(e)}return n},n.prototype.toDOM=function(){var t=r.tag("div","node");t.asn1=this;var e=r.tag("div","head"),n=this.typeName().replace(/_/g," ");e.innerHTML=n;var i=this.content();if(null!==i){i=String(i).replace(/</g,"&lt;");var s=r.tag("span","preview");s.appendChild(r.text(i)),e.appendChild(s)}t.appendChild(e),this.node=t,this.head=e;var o=r.tag("div","value");if(n="Offset: "+this.stream.pos+"<br/>",n+="Length: "+this.header+"+",n+=this.length>=0?this.length:-this.length+" (undefined)"http://passport.baidu.com/passApi/js/,32&this.tag?n+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null===this.sub||(n+="<br/>(encapsulates)"),null!==i&&(n+="<br/>Value:<br/><b>"+i+"</b>","object"==typeof oids&&6==this.tag)){var a=oids[i];a&&(a.d&&(n+="<br/>"+a.d),a.c&&(n+="<br/>"+a.c),a.w&&(n+="<br/>(warning!)"))}o.innerHTML=n,t.appendChild(o);var c=r.tag("div","sub");if(null!==this.sub)for(var u=0,l=this.sub.length;l>u;++u)c.appendChild(this.sub[u].toDOM());return t.appendChild(c),e.onclick=function(){t.className="node collapsed"==t.className?"node":"node collapsed"},t},n.prototype.posStart=function(){return this.stream.pos},n.prototype.posContent=function(){return this.stream.pos+this.header},n.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},n.prototype.fakeHover=function(t){this.node.className+=" hover",t&&(this.head.className+=" hover")},n.prototype.fakeOut=function(t){var e=/ ?hover/;this.node.className=this.node.className.replace(e,""),t&&(this.head.className=this.head.className.replace(e,""))},n.prototype.toHexDOM_sub=function(t,e,n,i,s){if(!(i>=s)){var o=r.tag("span",e);o.appendChild(r.text(n.hexDump(i,s))),t.appendChild(o)}},n.prototype.toHexDOM=function(e){var n=r.tag("span","hex");if(e===t&&(e=n),this.head.hexNode=n,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},n.asn1=this,n.onmouseover=function(){var t=!e.selected;t&&(e.selected=this.asn1,this.className="hexCurrent"),this.asn1.fakeHover(t)},n.onmouseout=function(){var t=e.selected==this.asn1;this.asn1.fakeOut(t),t&&(e.selected=null,this.className="hex")},this.toHexDOM_sub(n,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(n,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null===this.sub)n.appendChild(r.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var i=this.sub[0],s=this.sub[this.sub.length-1];this.toHexDOM_sub(n,"intro",this.stream,this.posContent(),i.posStart());for(var o=0,a=this.sub.length;a>o;++o)n.appendChild(this.sub[o].toHexDOM(e));this.toHexDOM_sub(n,"outro",this.stream,s.posEnd(),this.posEnd())}return n},n.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},n.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0===n)return-1;e=0;for(var i=0;n>i;++i)e=e<<8|t.get();return e},n.hasContent=function(t,i,s){if(32&t)return!0;if(3>t||t>4)return!1;var r=new e(s);3==t&&r.get();var o=r.get();if(o>>6&1)return!1;try{var a=n.decodeLength(r);return r.pos-s.pos+a==i}catch(c){return!1}},n.decode=function(t){t instanceof e||(t=new e(t,0));var i=new e(t),s=t.get(),r=n.decodeLength(t),o=t.pos-i.pos,a=null;if(n.hasContent(s,r,t)){var c=t.pos;if(3==s&&t.get(),a=[],r>=0){for(var u=c+r;t.pos<u;)a[a.length]=n.decode(t);if(t.pos!=u)throw"Content size is not correct for container starting at offset "+c}else try{for(;;){var l=n.decode(t);if(0===l.tag)break;a[a.length]=l}r=c-t.pos}catch(h){throw"Exception while decoding undefined length content: "+h}}else t.pos+=r;return new n(i,o,r,s,a)},n.test=function(){for(var t=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],i=0,s=t.length;s>i;++i){var r=new e(t[i].value,0),o=n.decodeLength(r);o!=t[i].expected&&document.write("In test["+i+"] expected "+t[i].expected+" got "+o+"\n")}},window.ASN1=n}(),ASN1.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},dn.prototype.parseKey=function(t){try{var e=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,n=e.test(t)?Hex.decode(t):Base64.unarmor(t),i=ASN1.decode(n);if(9===i.sub.length){var s=i.sub[1].getHexStringValue();this.n=ln(s,16);var r=i.sub[2].getHexStringValue();this.e=parseInt(r,16);var o=i.sub[3].getHexStringValue();this.d=ln(o,16);var a=i.sub[4].getHexStringValue();this.p=ln(a,16);var c=i.sub[5].getHexStringValue();this.q=ln(c,16);var u=i.sub[6].getHexStringValue();this.dmp1=ln(u,16);var l=i.sub[7].getHexStringValue();this.dmq1=ln(l,16);var h=i.sub[8].getHexStringValue();this.coeff=ln(h,16)}else{if(2!==i.sub.length)return!1;var d=i.sub[1],f=d.sub[0],s=f.sub[0].getHexStringValue();this.n=ln(s,16);var r=f.sub[1].getHexStringValue();this.e=parseInt(r,16)}return!0}catch(p){return!1}},dn.prototype.getPrivateBaseKey=function(){var t={array:[new KJUR.asn1.DERInteger({"int":0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]},e=new KJUR.asn1.DERSequence(t);return e.getEncodedHex()},dn.prototype.getPrivateBaseKeyB64=function(){return wn(this.getPrivateBaseKey())},dn.prototype.getPublicBaseKey=function(){var t={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},e=new KJUR.asn1.DERSequence(t);t={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({"int":this.e})]};var n=new KJUR.asn1.DERSequence(t);t={hex:"00"+n.getEncodedHex()};var i=new KJUR.asn1.DERBitString(t);t={array:[e,i]};var s=new KJUR.asn1.DERSequence(t);return s.getEncodedHex()},dn.prototype.getPublicBaseKeyB64=function(){return wn(this.getPublicBaseKey())},dn.prototype.wordwrap=function(t,e){if(e=e||64,!t)return t;var n="(.{1,"+e+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},dn.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},dn.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},dn.prototype.hasPublicKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")},dn.prototype.hasPrivateKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},dn.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)};var Wn=function(t){dn.call(this),t&&("string"==typeof t?this.parseKey(t):(this.hasPrivateKeyProperty(t)||this.hasPublicKeyProperty(t))&&this.parsePropertiesFrom(t))};Wn.prototype=new dn,Wn.prototype.constructor=Wn;var Gn=function(t){t=t||{},this.default_key_size=parseInt(t.default_key_size)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null};Gn.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new Wn(t)},Gn.prototype.setPrivateKey=function(t){this.setKey(t)},Gn.prototype.setPublicKey=function(t){this.setKey(t)},Gn.prototype.decrypt=function(t){try{return this.getKey().decrypt(Tn(t))}catch(e){return!1}},Gn.prototype.encrypt=function(t){try{return wn(this.getKey().encrypt(t))}catch(e){return!1}},Gn.prototype.getKey=function(t){if(!this.key){if(this.key=new Wn,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},Gn.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},Gn.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},Gn.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},Gn.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.JSEncrypt=Gn}(t.lib.RSAExport),t.lib.RSA=t.lib.RSAExport.JSEncrypt;var t=t||window.passport||{};t.err=t.err||{},function(t){var e=null;e="function"===(typeof t.getCurrent).toLowerCase()?t.getCurrent():{errMsg:{},labelText:{}},e.errMsg.login={"-1":{msg:"System error. Please try again later.",field:""},3:{msg:"The verification code does not exist or has expired. Please re-enter it.",field:""},5:{msg:"",field:""},6:{msg:"Your verification code is incorrect.",field:""},16:{msg:"Your account has been restricted due to security issues. Please feedback.",field:""},257:{msg:"Please enter the verification code.",field:""},100027:{msg:"Baidu is upgrading the system. No available services now. Thanks for your cooperation.",field:""},120016:{msg:"",field:""},17:{msg:"Your account has been locked.",field:""},18:{msg:"",field:""},19:{msg:"",field:""},20:{msg:"",field:""},21:{msg:"No login permission.",field:""},22:{msg:"",field:""},23:{msg:"",field:""},24:{msg:"System Updating",field:""},400032:{msg:"",field:""},400034:{msg:"",field:""},401007:{msg:"Your phone number is associated with other accounts. Please choose one.",field:""},500010:{msg:"Too frequent login. Please try again 24 hours later.",field:""},200010:{msg:"The verification code does not exist or has expired.",field:""},100005:{msg:"System error. Please try again later.",field:""},100023:{msg:"Open the Cookies to log in. How to open?",field:""},400401:{msg:"",field:""},400037:{msg:"",field:""},50024:{msg:"Too frequent registration. Please try again later.",field:""},400413:{msg:"Your account has been temporarily frozen due to security issues.",field:""},400414:{msg:"Your account has been locked.",field:""},400415:{msg:"Your account has been locked.",field:""},50030:{msg:"Sorry, the number of applications for this phone number has reached the limit for today. Please change a phone number.",field:""},50031:{msg:"Sorry, the number of applications for this phone number has reached the limit for this month. Please change a phone number.",field:""},50032:{msg:"Sorry, the number of applications for this phone number has reached the limit for three months. Please change a phone number.",field:""}},e.errMsg.checkVerifycode={500002:{msg:"The verification code you entered is incorrect.",field:""},500018:{msg:"The verification code is invalid. Please try again.",field:""}},e.labelText.login={smslogin:"SMS Login",smstitle:"Verify for login. It will create a Baidu account automatically if you haven’t registered.",agree:"Read and accept ",baiduUserProtocal:"Baidu User Protocol",verifyCode:"verification code",resend:"Resend",verifyCodeStaErr:"The verification code you entered is incorrect.",verifyCodeLenErr:"The verification code you entered is incorrect.",captcha:"verification code",captchaErr:"The dynamic password you entered is incorrect. Please try again.",login:"log in",register:"Register now",phoneNum:"phone number",passwordResetSms:"SMS login",smsPhone:"phone number",smsPhoneMsg:"Please enter your phone number.",smsVerifyCode:"dynamic password",smsVerifyCodeSend:"Send a dynamic password",logining:"logging in",loginsuccess:"Login Successful",submitTimeup:"Login timeout. Please try again later.",appHref:"http://xbox.m.baidu.com/mo/",sysError:"System error. Have a rest. Please try again later.",sysUpdate:"The service is being upgraded. Please try again later.",cookieDisable:"Open the Cookies to log in. How to open?",captchaErr:"incorrect dynamic password",confirmVerCodeEmpty:"The verification code is empty. ",foreignMobileError:"Incorrect phone number format ",foreignMobileMsg:"Foreign phone number login. Please Select Your Country",foreignMobileLink:"Foreign phone number"},t.getCurrent=function(){return e}}(t.err);var t=t||window.passport||{};return t.data=t.data||{},function(e){function n(t){this._requests=[],this._value=null,this._exception=null,this._isComplete=!1;var e=this;t(function(t){e._fulfillPromise(t)},function(t){e._breakPromise(t)})}function i(t,e,n){return e?n?function(n){return n=n||{},l.submit(h+e,s(n,t,p[t],g[t],!0),{charset:"utf-8",processData:function(e){if(e)for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i&&(e[n]=decodeURIComponent(i))}return r(t,e)}})}:function(n){return l.jsonp(h+e,s(n,t,p[t],g[t],!1),{charset:"utf-8",processData:function(e){return r(t,e)}})}:c}function s(t,e,n,i,s){var r=s?{staticpage:S.staticPage,charset:S.charset||document.characterSet||document.charset||""}:{},o=m[e];if(o)for(var a in o){if(o.hasOwnProperty(a)){var c=o[a];r[a]="function"==typeof c?c(t):c}"verifypass"==a&&(r[a]=decodeURIComponent(r[a]))}if(r.token=S.token,r.tpl=S.product||"",r.subpro=S.subpro,r.apiver="v3",r.tt=(new Date).getTime(),t){n=n||{},i=i||{};for(var a in t)if(t.hasOwnProperty(a)){var l=i[a],h=l?l(t[a],t):t[a];"string"==typeof h&&(s&&(h=decodeURIComponent(h)),v[a]||(h=u.trim(h))),r[n[a]||a.toLowerCase()]=h}}return r}function r(t,n){if(e&&e.traceID&&e.traceID.getTraceID&&e.traceID.getTraceID(n),n){var i=y[t];i&&i(n);var s=n.errInfo,r=n,a=r;return s?r.errInfo=o(t,s,r):(s={no:n.err_no,msg:n.err_msg||""},delete r.err_no,delete r.err_msg,a={data:r,errInfo:o(t,s,r)}),a}return n}function o(t,e){var n=E[b[t]||t];if(n&&e&&0!=e.no){var i=n[e.no]||n[-1];if(i){var s=i.msg;e.msg=s,e.field=i.field}}return e}function a(t){if(e&&e.traceID&&e.traceID.getTraceID&&e.traceID.getTraceID(t),t){var n=t.errInfo,i=t;if(!n)for(var s in t)if(t.hasOwnProperty(s)){var r=t[s];r&&(t[s]=decodeURIComponent(r))}n||(n={no:t.err_no,msg:t.err_msg||""},delete i.err_no,delete i.err_msg,t={data:i,errInfo:n})}return t}var c=function(){};n.prototype={get_isComplete:function(){return this._isComplete},get_value:function(){if(!this._isComplete)return void 0;if(this._exception)throw this._exception;return this._value},call:function(t){for(var e=[],n=0,i=arguments.length-1;i>n;n++)e[n]=arguments[n+1];return this.when(function(n){return n[t].apply(n,e)})},getValue:function(t){return this.when(function(e){return e[t]})},setValue:function(t,e){this.whenOnly(function(n){n[t]=e})},when:function(t,e,i){return n.when(this,t,e,i)},whenOnly:function(t,e,i){n.whenOnly(this,t,e,i)},success:function(t,e){return this.when(t,c,e)},fail:function(t,e){return this.when(c,t,e)},_enqueueOne:function(t){this._isComplete?this._notify(t):this._requests.push(t)},_notify:function(t){this._exception?t.breakPromise&&t.breakPromise(this._exception):t.fulfillPromise&&t.fulfillPromise(this._value)},_notifyAll:function(){for(var t=0,e=this._requests.length;e>t;t++)this._notify(this._requests[t])},_fulfillPromise:function(t){this._value=t,this._exception=null,this._isComplete=!0,this._notifyAll()},_breakPromise:function(t){this._value=null,this._exception=t||new Error("An error occured"),this._isComplete=!0,this._notifyAll()}},n.when=function(t,e,i,s){return new n(function(r,o){n.make(t)._enqueueOne({fulfillPromise:function(t){r(e?e.call(s,t):t)},breakPromise:function(t){if(i)try{r(i.call(s,t))}catch(e){o(e)}else o(t)}})})},n.whenOnly=function(t,e,i,s){n.make(t)._enqueueOne({fulfillPromise:function(t){e&&e.call(s,t)},breakPromise:function(t){i&&i.call(s,t)}})},n.make=function(t){return t instanceof n?t:n.immediate(t)},n.immediate=function(t){return new n(function(e){e(t)})};var u={};!function(t){var e=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");t.trim=function(t){return String(t).replace(e,"")},t.getUniqueId=function(t){return t+Math.floor(2147483648*Math.random()).toString(36)},t.g=function(t){return t?"string"==typeof t||t instanceof String?document.getElementById(t):!t.nodeName||1!=t.nodeType&&9!=t.nodeType?null:t:null},t.getParent=function(e){return e=t.g(e),e.parentElement||e.parentNode||null
},t.encodeHTML=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},t.array=t.array||{},t.array.indexOf=function(t,e,n){var i=t.length;for(n=0|n,0>n&&(n=Math.max(0,i+n));i>n;n++)if(n in t&&t[n]===e)return n;return-1},t.browser=t.browser||{},t.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,t.insertHTML=function(e,n,i){e=t.g(e);var s,r;return e.insertAdjacentHTML&&!t.browser.opera?e.insertAdjacentHTML(n,i):(s=e.ownerDocument.createRange(),n=n.toUpperCase(),"AFTERBEGIN"==n||"BEFOREEND"==n?(s.selectNodeContents(e),s.collapse("AFTERBEGIN"==n)):(r="BEFOREBEGIN"==n,s[r?"setStartBefore":"setEndAfter"](e),s.collapse(r)),s.insertNode(s.createContextualFragment(i))),e}}(u),e.base=u;var l={};!function(t){var i="__bdpp_pstc__"+(new Date).getTime(),s=i+"_form",r=i+"_ifr",o=function(t){if("object"==typeof t){var e=[];for(var n in t){var i=t[n];if(void 0!==i&&null!==i){e.length&&e.push("&");var s=encodeURIComponent("boolean"==typeof i?i?"1":"0":i.toString());e.push(encodeURIComponent(n),"=",s)}}return e.join("")}return"string"==typeof t?t:null},a=function(t,e){if(e=o(e),"string"==typeof e){var n=/\?/g.test(t);t+=(n?"&":"?")+o(e)}return t},c=function(t,e,n){t.setAttribute("type","text/javascript"),n&&t.setAttribute("charset",n),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)},l=function(t){if(t.clearAttributes)t.clearAttributes();else for(var e in t)t.hasOwnProperty(e)&&delete t[e];t&&t.parentNode&&t.parentNode.removeChild(t),t=null},h=function(t,e,n){function i(t){return function(){try{t?h.onfailure&&h.onfailure():(e.apply(window,arguments),clearTimeout(r)),window[s]=null,delete window[s]}catch(n){}finally{l(o)}}}var s,r,o=document.createElement("SCRIPT"),a="bd__cbs__",h=n||{},d=h.charset,f=h.queryField||"callback",p=h.timeOut||0,g=new RegExp("(\\?|&)"+f+"=([^&]*)");s=u.getUniqueId(a),window[s]=i(0),p&&(r=setTimeout(i(1),p)),t=t.replace(g,"$1"+f+"="+s),t.search(g)<0&&(t+=(t.indexOf("?")<0?"?":"&")+f+"="+s),c(o,t,d)},d=function(t,e){var n=[];n.push("<form id='",s,"' target='",r,"' "),n.push("action='",u.encodeHTML(t),"' method='post'>");for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(void 0!==o&&null!==o){var a=u.encodeHTML("boolean"==typeof o?o?"1":"0":o);n.push("<input type='hidden' name='",u.encodeHTML(i),"' value='",a,"' />")}}return n.push("</form>"),n.join("")},f=function(t,e,n,o){function a(t){return function(){try{t?o.onfailure&&o.onfailure():(n.apply(window,arguments),l&&clearTimeout(l)),window[h]=null,delete window[h]}catch(e){}}}o=o||{};var c=o.timeOut||0,l=!1,h=u.getUniqueId("bd__pcbs__");e[o.queryField||"callback"]="parent."+h;var f=d(t,e);if(u.g(s))u.getParent(s).innerHTML=f;else{var p=[];p.push("<div id='",i,"' style='display:none;'>"),p.push("<div>",f,"</div>"),p.push("<iframe name='",r,"' src='"+("https:"==(window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase())?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank")+"' style='display:none;'></iframe>"),p.push("</div>"),u.insertHTML(document.body,"beforeEnd",p.join(""))}window[h]=a(),c&&(l=setTimeout(a(1),c)),u.g(s).submit()};t.jsonp=function(t,i,s){return s=s||{},e&&e.traceID&&e.traceID.createTraceID&&(i.traceid=e.traceID.createTraceID()),new n(function(e,n){t=a(t,i),h(t,function(t){s.processData&&(t=s.processData(t)),e&&e(t)},{charset:s.charset,queryField:s.queryField,timeOut:s.timeOut,onfailure:function(){n&&n()}})})},t.submit=function(t,i,s){return e&&e.traceID&&e.traceID.createTraceID&&(i.traceid=e.traceID.createTraceID()),t&&i?new n(function(e){f(t,i,function(t){s.processData&&(t=s.processData(t)),e&&e(t)},s)}):void 0};var p=[];t.load=function(t){return new n(function(e){var n=p.push(new Image)-1,i=!1,s=setTimeout(function(){i=!0,e&&e()},1e3);p[n].onload=function(){clearTimeout(s),i||e&&e(),i=!0,p[n]=p[n].onload=null},p[n].src=t})}}(l);var h="https://passport.baidu.com",d={getApiInfo:"/v2/api/?getapi",getLoginHistory:"/v2/api/?loginhistory",loginCheck:"/v2/api/?logincheck",getVerifyCodeStr:"/v2/?reggetcodestr",getRegSmsVerifyCodeStr:"/v2/?regsmscodestr",checkUserName:"/v2/?regnamesugg",checkPassword:"/v2/?regpwdcheck",checkMail:"/v2/?regmailcheck",isUserNoName:"/v2/api/?ucenteradduname",checkPhone:"/v2/?regphonecheck",getphonestatus:"/v2/?getphonestatus",sendPhoneCode:"/v2/?regphonesend",multiBind:"/v2/?multiaccountassociate",multiUnbind:"/v2/?multiaccountdisassociate",multiCheckUserName:"/v2/?multiaccountusername",multiGetaccounts:"/v2/?multiaccountget",multiSwitchuser:"/v2/?loginswitch",checkVerifycode:"/v2/?checkvcode",getRsaKey:"/v2/getpublickey",authwidGetverify:"/v2/sapi/authwidgetverify",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert",checkIDcardState:"/v3/finance/main/checkupcert"},f={login:"/v2/api/?login",reg:"/v2/api/?reg",fillUserName:"/v2/api/?ucenteradduname",regPhone:"/v2/api/?regphone",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert"},p={getApiInfo:{apiType:"class"},login:{memberPass:"mem_pass",safeFlag:"safeflg",isPhone:"isPhone",timeSpan:"ppui_logintime",logLoginType:"logLoginType"},fillUserName:{selectedSuggestName:"pass_fillinusername_suggestuserradio",timeSpan:"ppui_fillusernametime"},reg:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"},regPhone:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"}},g={loginCheck:{isPhone:function(t){return t?"true":"false"}},login:{memberPass:function(t){return t?"on":""}}},m={checkPassword:{fromreg:1},reg:{registerType:1,verifypass:function(t){return t.password}}},v={password:!0},y={login:function(){}},b={checkUserName:"reg",checkMail:"reg",checkPhone:"regPhone",sendPhoneCode:"regPhone",multiCheckUserName:"multiBind",multiSwitchuser:"changeUser",checkVerifycode:"checkVerifycode"},E=t.err.getCurrent().errMsg||t.err.getCurrent(),S={};e.setContext=function(t){S.product=t.product||S.product,S.charset=t.charset||S.charset,S.staticPage=t.staticPage||S.staticPage,S.token=t.token||S.token,S.subpro=t.subpro||S.subpro},e.traceID={headID:e.traceID&&e.traceID.headID||"",flowID:e.traceID&&e.traceID.flowID||"",cases:e.traceID&&e.traceID.cases||"",initTraceID:function(t){var e=this;t&&t.length>0?(e.headID=t.slice(0,6),e.flowID=t.slice(6,8)):e.destory()},createTraceID:function(){var t=this;return t.headID+t.flowID+t.cases},startFlow:function(t){var e=this,n=e.getFlowID(t);0===e.flowID.length||e.flowID===n?(e.createHeadID(),e.flowID=n):e.finishFlow(n)},finishFlow:function(){var t=this;t.destory()},getRandom:function(){return parseInt(90*Math.random()+10,10)},createHeadID:function(){var t=this,e=(new Date).getTime()+t.getRandom().toString(),n=Number(e).toString(16),i=n.length,s=n.slice(i-6,i).toUpperCase();t.headID=s},getTraceID:function(t){var e=this,n=t&&t.traceid||"";e.initTraceID(n)},getFlowID:function(t){var e={login:"01",reg:"02"};return e[t]},setData:function(t){var e=this;return t.data?t.data.traceid=e.createTraceID():t.url=t.url+(t.url.indexOf("?")>-1?"&":"?")+"traceid="+e.createTraceID(),t},destory:function(){var t=this;t.headID="",t.flowID=""}};for(var w in d)d.hasOwnProperty(w)&&(e[w]=i(w,d[w]));for(var w in f)f.hasOwnProperty(w)&&(e[w]=i(w,f[w],!0));e.jsonp=function(t,e){return 0!=t.indexOf("http")&&(t=h+t),e=e||{},e.flag_code&&1==e.flag_code||(e.apiver="v3"),e.tt=(new Date).getTime(),l.jsonp(t,e,{charset:"utf-8",processData:function(t){return a(t)}})},e.post=function(t,e){return e=e||{},"wap"!==e.apitype&&(t=h+t),e.staticpage=e.staticpage||S.staticPage,e.charset=e.charset||S.charset||document.characterSet||document.charset||"",e.token=e.token||S.token,e.tpl=e.tpl||S.product,l.submit(t,e,{charset:"utf-8",processData:function(t){return a(t)}})},e.request=l}(t.data),n.passport=e.lang.createClass(function(){this._validateInfo={}},{type:"magic.passport",superClass:n.Base}).extend({_getRegularField:function(t){var e=t.pwd?"password":"text",n=this,i='autocomplete="off"',s=t.maxLength?'maxlength="'+t.maxLength+'"':"",r=t.tip?t.tip:"",o=t.value?t.value:"",a=t.field+""=="verifycode"?"none":"",c="";c="text"===e?'<input type="text" style="display:none;">':'<input type="password" style="display: none;">';var u='<p id="'+n.$getId(t.field+"Wrapper")+'" class="pass-form-item pass-form-item-'+t.field+'" style="display:'+a+'">'+(t.label?'<label for="'+n.$getId(t.field)+'" id="'+n.$getId(t.field+"Label")+'" class="pass-label pass-label-'+t.field+'">'+t.label+"</label>":"")+c+'<input id="'+n.$getId(t.field)+'" type="'+e+'" name="'+t.field+'" class="pass-text-input pass-text-input-'+t.field+'" '+s+(t.placeholder?'placeholder="'+t.placeholder+'" ':"")+i+(t.disabled?'" disabled':"")+' value="'+o+'"/>'+(t.noError?"":'<span id="'+n.$getId(t.field+"Error")+'" class="pass-item-error pass-item-error-'+t.field+'"></span>')+(t.hasSucc?'<span id="'+n.$getId(t.field+"Succ")+'" class="pass-item-succ pass-item-succ-'+t.field+'" style="display:none;"></span>':"")+'<span id="'+n.$getId(t.field+"Tip")+'" class="pass-item-tip pass-item-tip-'+t.field+'" style="display:none"><span id="'+n.$getId(t.field+"TipText")+'" class="pass-item-tiptext pass-item-tiptext-'+t.field+'">'+r+"</span></span></p>";return u},_getHiddenField:function(t,e){var n,i=this,s='<p id="'+i.$getId(e||"hiddenFields")+'" style="display:none">';for(var r in t)t.hasOwnProperty(r)&&(n="string"==typeof t[r]?t[r].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;"):t[r],s+='<input type="hidden" id="'+i.$getId((e?e+"_":"")+r)+'" name="'+r+'" value="'+n+'" />');return s+="</p>"},_setEvent:function(){var t=this,n=this.getElement(),i=function(e){t._eventHandler.entrance.apply(t,[e])};e(t.getElement()).on("resize",function(){var t=(navigator.userAgent,!navigator.userAgent.match(/OS [1-8]_\d[_\d]* like Mac OS X/i)),e=!!navigator.userAgent.toString().match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=navigator.userAgent.toString().indexOf("iPad");if(t&&e&&null!=n){var i=document.getElementsByClassName("popBox");null!=i&&i.length>0&&(i[0].style.height=window.screen.height>document.body.clientHeight?window.screen.height*(window.screen.height/document.body.clientHeight)+120+"px":window.screen.height*(window.screen.height/document.body.clientHeight))}}),e(t.getElement("form")).on("submit",i),e(t.getElement("license")).on("click",i),e(t.getElement("verifyCodeChange")).on("click",i),e(t.getElement("verifyCodeSend")).on("click",i),e(t.getElement("smsVcodeSend")).on("click",i),e(n).delegate(".pass-suggest-item label","click",i),e(".pass-text-input",t.getElement()).on({focus:i,blur:i,change:i,keyup:i,mouseover:i,mouseout:i})},_validator:{confStorage:{},builtInMsg:{required:"请您输入%s",phone:"手机号码格式不正确",email:"邮箱格式不正确",idcard:"身份证格式不正确"},builtInRules:{required:/\S+/,phone:/^1[3456789]\d{9}$/,email:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,idcard:/(^\d{15}$)|(^\d{17}(\d|X|x)$)/},init:function(t,e){this.confStorage[t.$getId()]=e},validate:function(t,e,n,i){var s=t.getElement(e),r={field:e},o=/^\s*(.+?)\s*$/;if(!s||0===+s.offsetHeight)return!1;for(var a=s.value.replace(o,"$1"),c=this.confStorage[t.$getId()][e],u=c.rules,l=0,h=u.length;h>l;l++){var d,f=u[l],p=this.builtInRules[f];if(d="[object function]"===Object.prototype.toString.call(p).toLowerCase()?p.call(t,s,i):new RegExp(p).test(a),!d)return r.error=!0,t._validateInfo[e]=0,r.msg=this.builtInMsg[f].replace(/\%s/,c.desc),t._validateError(r),void n.error(r)}c.asyncRule?c.asyncRule.call(t,{success:function(i){r.error=!1,r.data=i.data,t._validateInfo[e]=1,t._validateSuccess(r),n.success(r)},error:function(i){r.error=!0,t._validateInfo[e]=0,r.msg=i.msg,t._validateError(r),n.error(r)}},i):(r.error=!1,t._validateInfo[e]=1,t._validateSuccess(r),n.success(r))},validateAll:function(t,e,n){function i(){a=!0,o?e&&e.error(c):e&&e.success(c)}var s=this.confStorage[t.$getId()],r=0,o=!1,a=!1,c=[],u=this._getActiveValidate(t,!0);for(var l in s){if(a)break;this.validate(t,l,{success:function(t){r++,c.push(t),r===u&&i()},error:function(t){return o=!0,r++,c.push(t),n?void i():void(r===u&&i())}},"all")}},_getActiveValidate:function(t,e){var n=this.confStorage[t.$getId()],i=[];for(var s in n){var r=t.getElement(s);r&&0!==r.offsetHeight&&i.push(r)}return e?i.length:i},addRule:function(t,n){var i={};i[t]=n,e.extend(this.builtInRules,i)},addMsg:function(t,n){var i={};i[t]=n,e.extend(this.builtInMsg,i)}},validate:function(t,n){var i=this,s=i.fireEvent("beforeValidate",{validate:{field:t,ele:e(i.getElement(t))}});s&&i._validator.validate(i,t,{success:function(t){var e=i.fireEvent("validateSuccess",{validate:t});e&&n&&n.success&&n.success(t)},error:function(t){var e=i.fireEvent("validateError",{validate:t});e&&n&&n.error&&n.error(t)}})},validateAll:function(t,e){var n=this;e="boolean"==typeof t?t:e?e:!1;var i=n.fireEvent("beforeValidateAll");i&&n._validator.validateAll(n,{success:function(e){var i=n.fireEvent("validateAllSuccess",{validates:e});i&&t&&t.success&&t.success(e)},error:function(e){var i=n.fireEvent("validateAllError",{validates:e});i&&t&&t.error&&t.error(e)}},e)},getValidateStatus:function(t){return this._validateInfo.hasOwnProperty(t)?this._validateInfo[t]:-1},setValidateSuccess:function(t){var e=this;e._validateInfo[t]=1,e._validateSuccess({field:t})},setValidateError:function(t,e,n){var i=this;i._validateInfo[t]=0,i._validateError({field:t,msg:e},n)},setGeneralError:function(t){this.getElement("error").innerHTML=t},clearGeneralError:function(){this.getElement("error").innerHTML=""},_isSupportPlaceholder:function(){return"placeholder"in document.createElement("input")},_getPlaceholder:function(t){for(var n=this,i={},s="",r={},o=0;o<t.length;o++)s=n.lang[t[o].placeholder],0!==+t[o].clearbtn&&(r[o]=e('<span id="'+n.$getId(t[o].label+"_clearbtn")+'" class="pass-clearbtn pass-clearbtn-'+t[o].label+'" style="display:none;"></span>'http://passport.baidu.com/passApi/js/),e(n.getElement(t[o].label)).after(r[o])),n._isSupportPlaceholder()&&!e.browser.ie?e(n.getElement(t[o].label)).attr({placeholder:s}):(i[o]=e('<span id="'+n.$getId(t[o].label+"_placeholder")+'" class="pass-placeholder pass-placeholder-'+t[o].label+'">'+s+"</span>"),e(n.getElement(t[o].label)).after(i[o])),n._rendEventPlaceholder(n.getElement(t[o].label),i[o],r[o])},_getCookie:function(t){var e,n=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(n))?unescape(e[2]):null},_logPass:function(t,e){function n(t){var e,n,i,s,r,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=t.length,n=0,e="";i>n;){if(s=255&t.charCodeAt(n++),n===i){e+=a.charAt(s>>2),e+=a.charAt((3&s)<<4),e+="==";break}if(r=t.charCodeAt(n++),n===i){e+=a.charAt(s>>2),e+=a.charAt((3&s)<<4|(240&r)>>4),e+=a.charAt((15&r)<<2),e+="=";break}o=t.charCodeAt(n++),e+=a.charAt(s>>2),e+=a.charAt((3&s)<<4|(240&r)>>4),e+=a.charAt((15&r)<<2|(192&o)>>6),e+=a.charAt(63&o)}return e}var i=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&v="+(new Date).getTime(),s="";for(var r in e)s=s+r+":"+e[r]+",";s=n("{"+s.substring(0,s.length-1)+"}");for(var o in t)t.hasOwnProperty(o)&&(i+="&"+o+"="+t[o]);if(i+="&source=pc",i+="&auto_statistic="+s+"&auto_en="+e.eventType){var a=new Image;a.onload=a.onerror=function(){a.onload=a.onerror=null,a=null},a.src=i}},logClickLink:function(t,e){t=t||{},t=this.formatLogData(t);var n=e.target||e.srcElement,i=n&&n.getAttribute&&n.getAttribute("target"),s="_self"===i||null===i,r=this.makeImgSrc(t);if(s&&(e.preventDefault?e.preventDefault():e.returnValue=!1),window.navigator.sendBeacon&&s)window.navigator.sendBeacon(r),window.location.href=n.getAttribute("href");else if(s)this.lazyLog(n,r,null);else{var o=new Image;o.onload=o.onerror=function(){o.onload=o.onerror=null,o=null},o.src=r}},logCallBack:function(t,e){t=t||{},t=this.formatLogData(t);var n=this.makeImgSrc(t);this.lazyLog({},n,e)},formatLogData:function(t){var n=this.config||{};return e.extend({},{page:t.logPage||"",source:"pc-api",tpl:n.product||"",subpro:n.subpro||"",extrajson:n.extrajson||"",data_source:"fe"},t)},makeImgSrc:function(t){var e=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&v="+(new Date).getTime(),n="";for(var i in t)t.hasOwnProperty(i)&&(n+="en"!==i?"&"+i+"="+t[i]:"&auto_en="+t[i]);var s="{eventType:"+(t.en||"")+"}";return s=this.base64encode(s),e+="&auto_statistic="+s,e+="&auto_en="+(t.en||""),e+=n},lazyLog:function(t,e,n){function i(){n?n():window.location.href=s}var s=t.getAttribute&&t.getAttribute("href"),r=new Image,o=setTimeout(function(){r.onload=r.onerror=r=null,i("imgTimeout")},200);r.onload=r.onerror=function(){clearTimeout(o),r.onload=r.onerror=r=null,i("imgSuccess")},r.src=e},base64encode:function(t){var e,n,i,s,r,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=t.length,n=0,e="";i>n;){if(s=255&t.charCodeAt(n++),n===i){e+=a.charAt(s>>2),e+=a.charAt((3&s)<<4),e+="==";break}if(r=t.charCodeAt(n++),n===i){e+=a.charAt(s>>2),e+=a.charAt((3&s)<<4|(240&r)>>4),e+=a.charAt((15&r)<<2),e+="=";break}o=t.charCodeAt(n++),e+=a.charAt(s>>2),e+=a.charAt((3&s)<<4|(240&r)>>4),e+=a.charAt((15&r)<<2|(192&o)>>6),e+=a.charAt(63&o)}return e},_rendEventPlaceholder:function(t,n,i){if(t||i){var s,r,o=this,a=function(t){1===+t?(n&&n[0]&&o.$hide(n[0]),i&&i[0]&&o.$show(i[0])):(n&&n[0]&&o.$show(n[0]),i&&i[0]&&o.$hide(i[0]))};setTimeout(function(){t&&t.value&&a(1)},200),e(n).on("mousedown",function(){r=!0,clearTimeout(s),s=setTimeout(function(){o.suggestionDom&&"none"!==o.suggestionDom.style.display||t.focus()},0)}),e(i).on("click",function(){t.value="",a(0),t.focus(),o.suggestionDom&&(o.suggestionDom.data_delete=!0,setTimeout(function(){o.suggestionDom.data_delete=!1},200))}),e(t).on("keyup",function(){a(t.value?1:0)}),e(t).on("focus",function(){window.inputCheckTimer=setInterval(function(){t.value.length?(a(1),clearInterval(window.inputCheckTimer)):a(0)},30)})}},SBCtoDBC:function(t){var e="";if(t){for(var n=t.length,i=0;n>i;i++){var s=t.charCodeAt(i);s=s>=65281&&65374>=s?s-65248:s,s=12288==s?32:s,e+=String.fromCharCode(s)}return e}},hide:function(){this.getElement().style.display="none"},show:function(){this.getElement().style.display="block"},_analysis:function(t,e){return window.passport.analysis&&window.passport.analysis[this.module]&&window.passport.analysis[this.module][t]?(window.passport.analysis[this.module][t](this,e),{preventDefault:!1,preventEvent:!1}):void 0},_hook:function(t,e){return window.passport.hook&&window.passport.hook[this.module]&&window.passport.hook[this.module][t]?window.passport.hook[this.module][t](this,e):{preventDefault:!1,preventEvent:!1}},fireEvent:function(t,e){var n=this._hook(t,e),i=!0;return n.preventEvent||(i=this.fire(t,e)),!n.preventDefault&&i},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):""}}),n.passport.smsloginEn=e.lang.createClass(function(n){var i=this;if(t&&"https"===t._protocol)var s="https:";else var s=window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase();i._domain={https:"https://passport.baidu.com",http:"http://passport.baidu.com/",staticFile:"https:"===s?"https://ss0.bdstatic.com/5LMZfyabBhJ3otebn9fN2DJv":"http://passport.bdimg.com/",auto:"https:"===s?"https://passport.baidu.com":"http://passport.baidu.com/"},i.config={isPhone:!1,safeFlag:0,product:"",idc:"",charset:"",staticPage:"",u:"",hasPlaceholder:!0,defaultCss:!1,subpro:"",overseas:1},e.extend(i.config,n),i.config.product=i.config.product||"isnull",this.module="login",this.guideRandom=function(){return"xxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}).toUpperCase()}(),i.constant={CHECKVERIFYCODE:!0,CONTAINER_CLASS:"tang-pass-smsloginEn",LABEL_FOCUS_CLASS:"pass-text-label-focus",FOCUS_CLASS:"pass-text-input-focus",HOVER_CLASS:"pass-text-input-hover",ERROR_CLASS:"pass-text-input-error",VERIFYCODE_URL_PREFIX:i._domain.https+"/cgi-bin/genimage?",BLANK_IMG_URL:t.apiDomain.staticDomain+"/passApi/img/small_blank.gif",MODIFY_PWD_URL_PREFIX:i._domain.https+"/forcsdnpasschange",PROTOCAL_URL:i._domain.http+"/static/passpc-account/html/protocal.html",NOCAPTCHA_URL:i._domain.auto+"/static/passpc-base/js/ld.min.js?cdnversion="+(new Date).getTime()},i.lang=t.err.getCurrent().labelText.login,t.data.setContext(e.extend({},i.config)),this.initialized=!1,this.bdPsWtoken="",this.initTime=(new Date).getTime(),confirmSmsVerifyWidget=null,i.config.overseas&&1===i.config.overseas&&(this.foreignMobile=!0),i.insertNoCaptchaScript(),i.config.defaultCss&&i.loadCssFileW("smsloginEn_4449178.css"/*tpa=http://passport.baidu.com/passApi/css/smsloginEn_4449178.css*/,function(){}),i.config.getapi&&i.initApi();var r={eventType:"pc-smslogin-show"};i._logPass(i.urlData,r)},{type:"magic.passport.login",superClass:n.passport}).extend({getIrregularField:function(t){var e=this,n={generalError:'<p id="'+e.$getId("errorWrapper")+'" class="pass-generalErrorWrapper"><span id="'+e.$getId("error")+'" class="pass-generalError pass-generalError-error"></span></p>',submit:'<p id="'+e.$getId("submitWrapper")+'" class="pass-form-item pass-form-item-submit"><input id="'+e.$getId("submit")+'" type="submit" value="'+e.lang.login+'" class="pass-button pass-button-submit"/></p>',foreignMobileWrapper:'<div class="pass-form-item pass-form-item-PhoneCountry pass-foreignMobile-wrapper" id="'+e.$getId("foreignMobileWrapper")+'" style="display:none"><label for="'+e.$getId("foreignMobile")+'" id="'+e.$getId("foreignMobileLabel")+'" class="pass-label" data-countryCode="">+86</label><input id="'+e.$getId("foreignMobile")+'" type="text" name="foreignusername" class="pass-text-input"/><ul id="'+e.$getId("foreignCountryList")+'" class="pass-country-list"></ul></div>'};return n[t]},loadCssFileW:function(t,e){var n=this;if(window._loadedFilesW=window._loadedFilesW||{},!window._loadedFilesW[t]){window._loadedFilesW[t]=!0;var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=n._domain.staticFile+t,document.getElementsByTagName("head")[0].appendChild(i),i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,e&&e())}:i.onload=function(){e&&e()}}},insertScriptW:function(t,e){if(window._loadedFilesW=window._loadedFilesW||{},!window._loadedFilesW[t]){window._loadedFilesW[t]=!0;var n=document,i=n.createElement("SCRIPT");i.type="text/javascript",i.charset="UTF-8",i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,e&&e())}:i.onload=function(){e&&e()},i.src=t,n.getElementsByTagName("head")[0].appendChild(i)}},getWDom:{parent:function(t){return t.parentNode||t.parentElement},next:function(t){do t=t.nextSibling;while(t&&1!==t.nodeType);return t},prev:function(t){do t=t.previousSibling;while(t&&1!==t.nodeType);return t}},getTemplateSms:function(){var t=this,e="",n='<div id="'+t.$getId("sms")+'" class="tang-pass-login tang-pass-sms" style="display:'+e+'">',i={u:t.config.u,staticPage:t.config.staticPage,tpl:t.config.product?t.config.product:"",idc:t.config.idc?t.config.idc:"",isdpass:"1",gid:t.guideRandom||"",smsCodeString:"",smsVcodesign:"",smsVcodestr:"",subpro:t.config.subpro};return n+='<p class="tang-pass-sms-title">'+t.lang.smslogin+"</p>",n+='<p class="tang-pass-sms-tip">'+(t.config.smsText||t.lang.smstitle)+"</p>",n+='<form id="'+t.$getId("smsForm")+'" method="POST">',n+=t._getHiddenField(i,"smsHiddenFields"),n+='<p id="'+t.$getId("smsErrorWrapper")+'" class="pass-generalErrorWrapper"><span id="'+t.$getId("smsError")+'" class="pass-generalError"></span></p>',n+='<div id="'+t.$getId("smsPhoneWrapper")+'" class="pass-form-item pass-form-item-smsPhone'+(t.foreignMobile?" pass-form-item-PhoneCountry":"")+'"><label for="'+t.$getId("smsPhone")+'" id="'+t.$getId(t.foreignMobile?"smsPhoneCountryLabel":"smsPhoneLabel")+'" class="pass-label pass-label-smsPhone" data-countryCode="">'+(t.foreignMobile?"+86":t.lang.smsPhone)+'</label><input id="'+t.$getId("smsPhone")+'" type="text" name="username" class="pass-text-input pass-text-input-smsPhone"/><span id="'+t.$getId("smsPhoneTip")+'" class="pass-item-tip pass-item-tip-smsPhone" style="display:none"><span id="'+t.$getId("smsPhoneTipText")+'"></span></span>'+(t.foreignMobile?'<ul id="'+t.$getId("smsCountryList")+'" class="pass-country-list"></ul>':"")+"</div>",n+='<p id="'+t.$getId("smsVerifyCodeWrapper")+'" class="pass-form-item pass-form-item-smsVerifyCode"><label for="'+t.$getId("smsVerifyCode")+'" id="'+t.$getId("smsVerifyCodeLabel")+'" class="pass-label pass-label-smsVerifyCode">'+t.lang.smsVerifyCode+'</label><input id="'+t.$getId("smsVerifyCode")+'" type="text" name="password" class="pass-text-input pass-text-input-smsVerifyCode" /><button id="'+t.$getId("smsTimer")+'" class="pass-item-timer">'+t.lang.smsVerifyCodeSend+'</button><span id="'+t.$getId("smsVerifyCodeTip")+'" class="pass-item-tip pass-item-tip-smsVerifyCode" style="display:none"><span id="'+t.$getId("smsVerifyCodeTipText")+'"></span></span></p>',n+='<p id="'+t.$getId("smsSubmitWrapper")+'" class="pass-form-item pass-form-item-submit"><input id="'+t.$getId("smsSubmit")+'" type="submit" value="Login" class="pass-button pass-button-submit" /><span class="tang-pass-sms-agreement">'+t.lang.agree+'<a target="_blank" href="'+t.constant.PROTOCAL_URL+'">'+t.lang.baiduUserProtocal+"</a></span></p>",n+="</form>",n+="</div>"},setEventSms:function(){var t=this,n=this.getElement(),i=t.getWDom.parent(n),s=t.getWDom.parent(i),r=e("#"+t.$getId("sms"),s).get(0);e(".pass-text-input",r),t.foreignMobile&&e(t.getElement("smsPhoneCountryLabel")).on("click",function(n){var i=t.getElement("smsCountryList");i&&"block"!==i.style.display?(t.$show(i),e(t.getElement("smsPhoneCountryLabel")).addClass("pass-label-code-up")):i&&(t.$hide(i),e(t.getElement("smsPhoneCountryLabel")).removeClass("pass-label-code-up")),t.selectCountryList(t.getElement("smsPhoneWrapper")),n.preventDefault()}),e(".pass-text-input",r).on("mouseover",function(){var n=t.fireEvent("fieldMouseover",{ele:e(this)});n&&e(this).addClass(t.constant.HOVER_CLASS)}),e(".pass-text-input",r).on("mouseout",function(){var n=t.fireEvent("fieldMouseout",{ele:e(this)});n&&e(this).removeClass(t.constant.HOVER_CLASS)}),e(".pass-text-input",r).on("keydown",function(e){if(13===e.keyCode){e&&e.preventDefault&&e.preventDefault();var n={eventType:"pc-smslogin-submit-click"};t._logPass(t.urlData,n),t.submitSmsForm(e)}});var o=e(t.getElement("smsPhone"));o.on("focus",function(){t.initialized||t.initApi();var n=t.fireEvent("fieldFocus",{ele:e(this)});if(n){e(this).addClass(t.constant.FOCUS_CLASS),e(t.getElement("smsPhoneLabel")).addClass(t.constant.LABEL_FOCUS_CLASS),e(this).removeClass(t.constant.ERROR_CLASS);var i=document.getElementById(t.$getId("smsRegPromptWrapper"));i&&t.$hide(i)}}),o.on("keydown",function(){if(!t.isSendSmsInput){t.isSendSmsInput=!0;var e={eventType:"pc-smslogin-input"};t._logPass(t.urlData,e)}});var a=e(t.getElement("smsVerifyCode"));a.on("focus",function(){t.initialized||t.initApi();var n=t.fireEvent("fieldFocus",{ele:e(this)});n&&(e(this).addClass(t.constant.FOCUS_CLASS),e(t.getElement("smsVerifyCodeLabel")).addClass(t.constant.LABEL_FOCUS_CLASS),e(this).removeClass(t.constant.ERROR_CLASS))}),a.on("keydown",function(){if(!t.isSendSmsCodeInput){t.isSendSmsCodeInput=!0;var e={eventType:"pc-smslogin-code-input"};t._logPass(t.urlData,e)}}),e(".pass-text-input",r).on("blur",function(){if(this.value){var n=t.fireEvent("fieldBlur",{ele:e(this)});if(!n)return;"username"http://passport.baidu.com/passApi/js/===this.name?t.validatorPhoneFn(this):t.validatorSmsFn(this)}e(this).removeClass(t.constant.FOCUS_CLASS),e(t.getElement("smsPhoneLabel")).removeClass(t.constant.LABEL_FOCUS_CLASS)}),e("#"+t.$getId("smsTimer"),r).on("click",function(e){var n={eventType:"pc-smslogin-send-click"};t._logPass(t.urlData,n),e.preventDefault(),t.checkRegPhone()}),e("#"+t.$getId("smsSubmit"),r).on("click",function(e){var n={eventType:"pc-smslogin-submit-click"};t._logPass(t.urlData,n),e&&e.preventDefault&&e.preventDefault(),t.submitSmsForm(e)})},setSmsGeneralError:function(t){this.getElement("smsError").innerHTML=t},sendVcode:function(n){var i,s=n||this,r=document.getElementById(s.$getId("smsPhone")),o=s.getElement("smsPhoneCountryLabel"),a=o?e(o).attr("data-countrycode")||"":"",c=60,u=e("#"+s.$getId("sms")).get(0);if(s.validatorPhoneFn(r)){e("#"+s.$getId("smsRegPromptBtn"),u).off("click"),e("#"+s.$getId("smsRegPromptBtn"),u).on("click",function(t){t.preventDefault()}),e("#"+s.$getId("smsTimer"),u).off("click"),e("#"+s.$getId("smsTimer"),u).on("click",function(t){t.preventDefault()}),e("#"+s.$getId("smsTimer"),u).removeClass("pass-item-timer"),e("#"+s.$getId("smsTimer"),u).addClass("pass-item-time-timing");var l={gid:s.guideRandom||"",username:s.sbcTOdbc(r.value),countrycode:a,bdstoken:s.bdPsWtoken,tpl:s.config.product?s.config.product:"",lang:"en"};l.dv=document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"";var h="",d="";h=s._domain.auto+"/v2/api/senddpass",t.data.jsonp(h,l).success(function(n){0!=n.data.errno?(18==n.data.errno||19==n.data.errno||"50020"==n.errInfo.no||"50021"http://passport.baidu.com/passApi/js/==n.errInfo.no?(d=s.constant.VERIFYCODE_URL_PREFIX+n.data.vcodestr,s.getElement("smsHiddenFields_smsVcodesign").value=n.data.vcodesign,s.getElement("smsHiddenFields_smsVcodestr").value=n.data.vcodestr,confirmSmsVerifyWidget?(s.getElement("confirmVerifyCodeImg").src=d,s.getElement("confirmVerifyCode").value="",s._ownerDialog&&s._ownerDialog.hide("unHide"),confirmSmsVerifyWidget.show()):t._load(s._domain.auto+"/passApi/js/uni_wrapper.js",!0,function(){confirmSmsVerifyWidget=t.pop.init({type:"confirmWidget",tangram:!0,titleText:"Safety Verification",width:490,apiOpt:{Continue:"Sure",contentHTML:'<p class="pass-confirm-verifyWidget-msg">Please fill in the verification code in the figure.</p><p class="pass-confirm-verifyWidget-imgWrapper"><input type="text" class="pass-text-input pass-confirm-verifyWidget-verifyCode" id="'+s.$getId("confirmVerifyCode")+'" name="confirmVerifyCode" value="" /><img src="'+d+'" title="" class="pass-confirm-verifyWidget-verifyCode-img" id="'+s.$getId("confirmVerifyCodeImg")+'" /><a href="#" class="pass-confirm-verifyWidget-imgChange" id="'+s.$getId("confirmVerifyCodeChange")+'">change</a></p><p class="pass-confirm-verifyWidget-error" id="'+s.$getId("confirmVerifyCodeError")+'"></p>'},onRender:function(){e(confirmSmsVerifyWidget.getElement("confirmWidget_footer")).addClass("pass-confirm-verifyWidget-bottom"),s.config.hasPlaceholder&&s._getPlaceholder([{label:"confirmVerifyCode",placeholder:"verifyCode"}]),e(s.getElement("confirmVerifyCodeChange")).on("click",function(){e(s.getElement("confirmVerifyCodeImg")).attr("src",d+"&v="+(new Date).getTime())}),e(s.getElement("confirmVerifyCode")).on("keyup",function(){e(s.getElement("confirmVerifyCode")).removeClass("pass-text-input-error"),e(s.getElement("confirmVerifyCodeError")).hide(),e(s.getElement("confirmVerifyCodeError")).get(0).innerHTML=""})},onConfirmClose:function(){e(s.getElement("confirmVerifyCodeError")).hide(),e(s.getElement("confirmVerifyCodeError")).get(0).innerHTML="",confirmSmsVerifyWidget.hide(),s._ownerDialog&&s._ownerDialog.show()},onConfirmContinue:function(){if(""===s.getElement("confirmVerifyCode").value)return e(s.getElement("confirmVerifyCode")).addClass("pass-text-input-error"),e(s.getElement("confirmVerifyCodeError")).show(),void(e(s.getElement("confirmVerifyCodeError")).get(0).innerHTML=s.lang.confirmVerCodeEmpty);var o={gid:s.guideRandom||"",username:s.sbcTOdbc(r.value),countrycode:a,bdstoken:s.bdPsWtoken,tpl:s.config.product?s.config.product:"",vcodestr:s.getElement("smsHiddenFields_smsVcodestr").value,vcodesign:s.getElement("smsHiddenFields_smsVcodesign").value,verifycode:s.sbcTOdbc(s.getElement("confirmVerifyCode").value),lang:"en"};
o.dv=document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"";var l="";l=s._domain.auto+"/v2/api/senddpass",t.data.jsonp(l,o).success(function(t){0==t.data.errno?(i=setInterval(function(){0==--c?(clearInterval(i),e("#"+s.$getId("smsTimer"),u).removeClass("pass-item-time-timing"),e("#"+s.$getId("smsTimer"),u).addClass("pass-item-timer"),document.getElementById(s.$getId("smsTimer")).innerHTML=s.lang.resend,c=60):document.getElementById(s.$getId("smsTimer")).innerHTML=s.lang.resend+"("+c+")"},1e3),e(s.getElement("confirmVerifyCodeError")).hide(),e(s.getElement("confirmVerifyCodeError")).get(0).innerHTML="",confirmSmsVerifyWidget.hide(),s._ownerDialog&&s._ownerDialog.show()):20==t.data.errno||21==t.data.errno?(e(s.getElement("confirmVerifyCode")).addClass("pass-text-input-error"),e(s.getElement("confirmVerifyCodeError")).show(),e(s.getElement("confirmVerifyCodeError")).get(0).innerHTML=t.data.msg,s.getElement("smsHiddenFields_smsVcodesign").value=t.data.vcodesign,s.getElement("smsHiddenFields_smsVcodestr").value=t.data.vcodestr,d=s.constant.VERIFYCODE_URL_PREFIX+t.data.vcodestr,s.getElement("confirmVerifyCodeImg").src=d,s.getElement("confirmVerifyCode").value=""):(e(s.getElement("confirmVerifyCodeError")).hide(),confirmSmsVerifyWidget.hide(),s._ownerDialog&&s._ownerDialog.show(),s.setSmsGeneralError(n.data.msg))})}}),s._ownerDialog&&s._ownerDialog.hide("unHide"),confirmSmsVerifyWidget.show()})):s.setSmsGeneralError(n.data.msg||n.errInfo.msg),e("#"+s.$getId("smsTimer"),u).addClass("pass-item-timer"),e("#"+s.$getId("smsTimer"),u).removeClass("pass-item-time-timing"),document.getElementById(s.$getId("smsTimer")).innerHTML=s.lang.resend):i=setInterval(function(){0==--c?(clearInterval(i),e("#"+s.$getId("smsTimer"),u).removeClass("pass-item-time-timing"),e("#"+s.$getId("smsTimer"),u).addClass("pass-item-timer"),document.getElementById(s.$getId("smsTimer")).innerHTML=s.lang.resend,c=60):document.getElementById(s.$getId("smsTimer")).innerHTML=s.lang.resend+"("+c+")"},1e3)}),e("#"+s.$getId("smsTimer"),u).on("click",function(t){t.preventDefault(),s.checkRegPhone()})}},validatorPhoneFn:function(t){var n=this;if(""==t.value)return n.setSmsGeneralError(n.lang.smsPhoneMsg),e(t).addClass(n.constant.ERROR_CLASS),!1;if(n.getElement("smsPhoneCountryLabel")&&""!==e(n.getElement("smsPhoneCountryLabel")).attr("data-countrycode")){if(!new RegExp(/^(\d)*$/).test(n.sbcTOdbc(t.value)))return n.setSmsGeneralError(n.lang.foreignMobileError),e(t).addClass(n.constant.ERROR_CLASS),!1}else if(!new RegExp(/^1[3456789]\d{9}$/).test(n.sbcTOdbc(t.value)))return n.setSmsGeneralError(n.lang.foreignMobileError),e(t).addClass(n.constant.ERROR_CLASS),!1;return n.setSmsGeneralError(""),e(t).removeClass(n.constant.ERROR_CLASS),!0},validatorSmsFn:function(t){var n=this;return""===t.value?(n.setSmsGeneralError(n.lang.confirmVerCodeEmpty),e(t).addClass(n.constant.ERROR_CLASS),!1):(n.setSmsGeneralError(""),!0)},postSmsData:function(n){var i=this;n.countrycode=i.getElement("smsPhoneCountryLabel")?e(i.getElement("smsPhoneCountryLabel")).attr("data-countrycode")||"":"",n.token=i.bdPsWtoken,n.lang="en",n.dv=document.getElementById("dv_Input")?document.getElementById("dv_Input").value:window.LG_DV_ARG&&window.LG_DV_ARG.dvjsInput||"",i.getElement("smsSubmit").disabled=!0,t.data.login(n).success(function(t){if(0==t.errInfo.no){var n=i.fireEvent("loginSuccess",{rsp:t});if(!n)return;window.location.href=t.data.u}else{i.getElement("smsSubmit").disabled=!1,i.getElement("smsSubmit").style.color="#fff";var n=i.fireEvent("loginError",{rsp:t});if(!n)return;i.setSmsGeneralError(4==t.errInfo.no?i.lang.captchaErr:t.errInfo.msg),(3==t.errInfo.no||4==t.errInfo.no)&&i.clearInput("smsVerifyCode")}var s={eventType:"pc-smslogin-post-success"},r=e.extend({},i.urlData);r.errno=t.errInfo.no,i._logPass(r,s)})},smsLoginSubmit:function(n){var i=this,n=n||{},s=e.form.json(i.getElement("smsForm"http://passport.baidu.com/passApi/js/));n.errInfo&&3==n.errInfo.no?t.data.post("/v2/unite-bind",{username:n.data.username||"",password:s.password,countrycode:i.getElement("smsPhoneCountryLabel")?e(i.getElement("smsPhoneCountryLabel")).attr("data-countrycode")||"":"",sms:1,apiver:"v3",token:n.data.token||""}).success(function(){i.postSmsData(s)}):i.postSmsData(s)},submitSmsForm:function(){function t(){n.postSmsData(o)}var n=this,i=document.getElementById(n.$getId("smsPhone")),s=document.getElementById(n.$getId("smsVerifyCode"));if(!n.validatorPhoneFn(i))return void i.focus();if(n.validatorSmsFn(s)){var r=n.fireEvent("beforeSubmit");if(r){n.getElement("smsSubmit").style.color="#9ebef4";var o=e.form.json(n.getElement("smsForm"));o.password=n.sbcTOdbc(o.password),o.username=n.sbcTOdbc(o.username),o.FP_UID=n._getCookie("FP_UID")||"",n.loginConnect({username:o.username,password:o.password,countrycode:n.getElement("smsPhoneCountryLabel")?e(n.getElement("smsPhoneCountryLabel")).attr("data-countrycode")||"":"",smsVcode:o.password,isdpass:1,sms:1},{fail:function(t){n.setSmsGeneralError(t)}},t)}}},getToken:function(e){var n=this;t.spareWData=t.spareWData||{},t.data.getApiInfo({apiType:"login",gid:n.guideRandom||""}).success(function(t){n.bdPsWtoken=t.data.token,e&&e(n)})},doFocus:function(t){var e=this;"string"===(typeof t).toLowerCase()&&e.getElement(t)?e.getElement(t).focus():t.focus()},clearInput:function(t){var e=this,n=e.getElement(t),i=e.getElement(t+"_placeholder"),s=e.getElement(t+"_clearbtn");n&&(i&&e.$show(i),s&&e.$hide(i),n.value="",e.doFocus(n))},insertAfterW:function(t,e){var n=this,i=n.getWDom.parent(e);i.lastChild===e?i.appendChild(t):i.insertBefore(t,n.getWDom.next(e))},insertNoCaptchaScript:function(){var t=this;t.insertScriptW(t.constant.NOCAPTCHA_URL,function(){})},checkCapsLock:function(){var t=this,n=e(t.getElement("password"));n.on("keypress",function(e){var n=e||window.event,i=n.keyCode||n.which,s=n.shiftKey||16==i||!1,r=document.getElementById(t.$getId("caps"));if(i>=65&&90>=i&&!s||i>=97&&122>=i&&s)if(r)t.$show(r);else{var o=document.createElement("span");o.id=t.$getId("caps"),o.innerHTML="Caps lock is turned on.";var a=document.getElementById(t.$getId("passwordWrapper"));"static"===a.style.position&&(a.style.position="relative"),a.style.zIndex=a.style.zIndex?a.style.zIndex+1:20,o.style.cssText="position:absolute;left:60px;clear:both;top:25px;width:103px;height:37px;font-size:12px;line-height:45px;z-index:20;text-align:center;background:url("+t._domain.staticFile+"/passApi/img/caps.gif) no-repeat 0 0;",a.appendChild(o)}else r&&t.$hide(r)}),n.on("blur",function(){var e=document.getElementById(t.$getId("caps"));e&&t.$hide(e)})},checkRegPhone:function(){var n=this,i=n.getElement("smsPhoneCountryLabel"),s=i?e(i).attr("data-countrycode")||"":"",r=document.getElementById(n.$getId("smsPhone"));n.validatorPhoneFn(r)&&t.data.getphonestatus({gid:n.guideRandom||"",phone:n.sbcTOdbc(r.value),countrycode:s,lang:"en"}).success(function(t){var i=n.fireEvent("checkRegPhone",{rsp:t});if(i)if(0==t.errInfo.no)n.config.sendVcodeBefore&&"function"==typeof n.config.sendVcodeBefore?n.config.sendVcodeBefore(n,n.sendVcode,function(){r.value="",r.focus()}):n.bdPsWtoken?n.sendVcode():n.getToken(n.sendVcode);else if(3==t.errInfo.no){var s=document.getElementById(n.$getId("smsRegPromptWrapper")),o=document.getElementById(n.$getId("smsPhoneWrapper"));if(s)n.$show(s),n.getElement("smsRegPromptBtn").focus();else{var a=document.createElement("div");a.id=n.$getId("smsRegPromptWrapper"),a.className="pass-form-sms-checkphone",a.innerHTML='<p style="margin:0px;padding:0px;line-height:18px;">Your phone number is not registered, click on the register will <span style="color:#ff5400">automatically register</span>  Baidu account and bind with this mobile.</p><button id="'+n.$getId("smsRegPromptBtn")+'" class="regbutton" hidefocus=true>Register now</button>',o.appendChild(a),n.getElement("smsRegPromptBtn").focus()}e(n.getElement("smsRegPromptBtn")).on("click",function(t){n.getElement("smsRegPromptWrapper")&&e(n.getElement("smsRegPromptWrapper")).hide(),t.preventDefault(),n.config.sendVcodeBefore&&"function"==typeof n.config.sendVcodeBefore?n.config.sendVcodeBefore(n,n.sendVcode,function(){r.value="",r.focus()}):n.bdPsWtoken?n.sendVcode():n.getToken(n.sendVcode)})}else n.setSmsGeneralError(t.errInfo.msg)})},initCountryCode:function(t){var n=this,i='<li class="pass-item-country"><span class="pass-country-code" data-countryCode="">+86</span>China</li>',s=n.countryCodeList||{},r=s.length;if(!(0>=r)){for(var o=0;r>o;o++)i+='<li class="pass-item-country"><span class="pass-country-code" data-countryCode='+s[o].code+">+"+s[o].code.substring(2)+"</span>"+s[o].name+"</li>";e(t).html(i)}},getCountryCode:function(e){var n=this,i={apiver:"v3",subpro:n.config.subpro,lang:"en"};t.data.jsonp("https://passport.baidu.com/v2/?securitygetcountrycode",i).success(function(t){t.data.country.length>0&&(n.countryCodeList=t.data.country,n.getElement("foreignCountryList")&&n.initCountryCode(n.getElement("foreignCountryList")),n.getElement("smsCountryList")&&n.initCountryCode(n.getElement("smsCountryList")),e&&e())})},selectCountryList:function(t){var n=this,t=e(t),i=t.find(".pass-country-list").eq(0),s=t.find(".pass-label");0!==s.length&&(i.on("click",function(r){var o=r.target;"li"===o.tagName.toLowerCase()?(s.eq(0).html(e(o).find("span.pass-country-code").eq(0).html()),s.eq(0).attr("data-countryCode",e(o).find("span.pass-country-code").eq(0).attr("data-countryCode"))):"span"===o.tagName.toLowerCase()&&(s.eq(0).html(e(o).html()),s.eq(0).attr("data-countryCode",e(o).attr("data-countryCode"))),n.$hide(i[0]),s.eq(0).removeClass("pass-label-code-up"),t==n.getElement("foreignMobileWrapper")&&n.getElement("foreignMobile")&&n.getElement("foreignMobile").value?n.validatorforeignmobileFn(n.getElement("foreignMobile")):t==n.getElement("smsPhoneWrapper")&&n.getElement("smsPhone")&&n.getElement("smsPhone").value&&n.validatorPhoneFn(n.getElement("smsPhone")),r.preventDefault()}),i.on("mouseover",function(n){var i=n.target;"li"===i.tagName.toLowerCase()?(t.find(".pass-item-country-hover").removeClass("pass-item-country-hover"),e(i).addClass("pass-item-country-hover")):"span"===i.tagName.toLowerCase()&&(t.find(".pass-item-country-hover").removeClass("pass-item-country-hover"),e(i).parent("li.pass-item-country").addClass("pass-item-country-hover"))}),i.on("mouseout",function(t){var n=t.target;"li"===n.tagName.toLowerCase()?e(n).removeClass("pass-item-country-hover"):"span"===n.tagName.toLowerCase()&&e(n).parent("li.pass-item-country").removeClass("pass-item-country-hover")}),e("html").on("click",function(t){var r=t.target;return s?void(e(r).attr("id")!==e(n.getElement("foreignMobileLabel")).attr("id")&&e(r).attr("id")!==e(n.getElement("smsPhoneCountryLabel")).attr("id")&&setTimeout(function(){n.$hide(i[0]),s.eq(0).removeClass("pass-label-code-up")},200)):!1}))},setForeignMobileEvent:function(){var t=this;t.getElement("foreignMobileLabel")&&e(t.getElement("foreignMobileLabel")).on("click",function(n){var i=t.getElement("foreignCountryList");i&&"block"!==i.style.display?(t.$show(i),e(t.getElement("foreignMobileLabel")).addClass("pass-label-code-up")):i&&(t.$hide(i),e(t.getElement("foreignMobileLabel")).removeClass("pass-label-code-up")),t.selectCountryList(t.getElement("foreignMobileWrapper")),n.preventDefault()}),t.getElement("foreignMobile")&&(e(t.getElement("foreignMobile")).on("blur",function(){if(this.value){var n=t.fireEvent("fieldBlur",{ele:e(this)});if(!n)return;t.validatorforeignmobileFn(this)}e(this).removeClass(t.constant.FOCUS_CLASS)}),e(t.getElement("foreignMobile")).on("focus",function(){t.initialized||t.initApi();var n=t.fireEvent("fieldFocus",{ele:e(this)});n&&(e(this).addClass(t.constant.FOCUS_CLASS),e(this).removeClass(t.constant.ERROR_CLASS))}))},validatorforeignmobileFn:function(t){var n=this;if(""===t.value)return n.setGeneralError(n.lang.smsPhoneMsg),e(t).addClass(n.constant.ERROR_CLASS),!1;if(n.getElement("foreignMobileLabel")&&""!==e(n.getElement("foreignMobileLabel")).attr("data-countrycode")){if(!new RegExp(/^(\d)*$/).test(n.sbcTOdbc(t.value)))return n.setGeneralError(n.lang.foreignMobileError),e(t).addClass(n.constant.ERROR_CLASS),!1}else if(!new RegExp(/^1[3456789]\d{9}$/).test(n.sbcTOdbc(t.value)))return n.setGeneralError(n.lang.foreignMobileError),e(t).addClass(n.constant.ERROR_CLASS),!1;return n.setGeneralError(""),e(t).removeClass(n.constant.ERROR_CLASS),!0},render:function(t){var n=this;n.getElement()||n.$mappingDom("",t||document.body);var i=e(n.getElement());i.addClass(n.constant.CONTAINER_CLASS);var s=n.getTemplateSms();if(i.get(0).appendChild(e(s).get(0)),n.setEventSms(),n.config.hasPlaceholder){var r=[];r.push({label:"smsPhone",placeholder:n.config&&n.config.diaPassLogin?"smsPhoneMsg":"smsPhone"}),r.push({label:"smsVerifyCode",placeholder:"smsVerifyCode"}),n.foreignMobile&&r.push({label:"foreignMobile",placeholder:n.config&&n.config.diaPassLogin?"smsPhoneMsg":"smsPhone"}),n._getPlaceholder(r)}n.foreignMobile&&(n.getCountryCode(),n.setForeignMobileEvent());var o=n.fireEvent("render");o&&(n._setEvent(),n.checkCapsLock())},initApi:function(e){var n=this;n.initialized=!0,n.initTime=(new Date).getTime(),t.data.getApiInfo({apiType:"login",gid:n.guideRandom||"",loginType:n.config&&n.config.diaPassLogin?"dialogLogin":"basicLogin"}).success(function(i){var s=n.fireEvent("getApiInfo",{rsp:i});if(s&&(1==i.data.disable&&n.setGeneralError(n.lang.sysUpdate),0==i.errInfo.no)){var r=i.data.token;n.bdPsWtoken=i.data.token;var o=(navigator.userAgent,!navigator.userAgent.match(/OS [1-8]_\d[_\d]* like Mac OS X/i)),a=!!navigator.userAgent.toString().match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),c=navigator.userAgent.toString().indexOf("iPad");if(o&&a&&null!=c){var u=document.getElementsByClassName("popBox");null!=u&&u.length>0&&(u[0].style.height=window.screen.height>document.body.clientHeight?window.screen.height*(window.screen.height/document.body.clientHeight)+120+"px":window.screen.height*(window.screen.height/document.body.clientHeight))}n.disUnameLogin=0,i.data.spLogin&&n.config.diaPassLogin&&(n.spLogin=i.data.spLogin),t.data.setContext({token:r}),navigator.cookieEnabled||n.setGeneralError(n.lang.cookieDisable),n.constant.SUBMITFLAG?n.getElement("submit").click():e&&e.success(i)}})},validateError:function(t,n){var i=this,s=e(i.getElement(t.field));s.addClass(i.constant.ERROR_CLASS),i.setGeneralError(t.msg),n&&n.callback&&n.callback()},validateSuccess:function(t,n){var i=this,s=e(i.getElement(t.field));i.clearGeneralError(),s.removeClass(i.constant.ERROR_CLASS),n&&n.callback&&n.callback()},loginConnect:function(t,e,n){({username:t.username,smsVcode:t.smsVcode||"",sms:t.sms||""}),n()},sbcTOdbc:function(t){var e="";if(t){for(var n=t.length,i=0;n>i;i++){var s=t.charCodeAt(i);s=s>=65281&&65374>=s?s-65248:s,s=12288==s?32:s,e+=String.fromCharCode(s)}return e}},_eventHandler:function(){var t,n={focus:function(n){var i=t.fireEvent("fieldFocus",{ele:this});i&&(this.addClass(t.constant.FOCUS_CLASS),this.removeClass(t.constant.ERROR_CLASS),e(t.getElement(n+"Label")).addClass(t.constant.LABEL_FOCUS_CLASS))},blur:function(n){var i=t.fireEvent("fieldBlur",{ele:this});i&&(this.removeClass(t.constant.FOCUS_CLASS),e(t.getElement(n+"Label")).removeClass(t.constant.LABEL_FOCUS_CLASS))},mouseover:function(){var e=t.fireEvent("fieldMouseover",{ele:this});e&&this.addClass(t.constant.HOVER_CLASS)},mouseout:function(){var e=t.fireEvent("fieldMouseout",{ele:this});e&&this.removeClass(t.constant.HOVER_CLASS)},keyup:function(){t.fireEvent("fieldKeyup",{ele:this})}},i={blur:{password:function(e){var n=this.get(0).value;n.length&&t.validate(e)}},submit:function(e){t.submit(),e.preventDefault()}};return{entrance:function(s){t=this;var r=(e(s.target),s.target.name);if(!r&&s.target.id){var o=s.target.id.match(/\d+__(.*)$/);o&&(r=o[1])}r&&(n.hasOwnProperty(s.type)&&n[s.type].apply(e(s.target),[r,s]),i.hasOwnProperty(s.type)&&("function"==typeof i[s.type]&&i[s.type].apply(e(s.target),[s]),i[s.type].hasOwnProperty(r)&&i[s.type][r].apply(e(s.target),[r,s])),t.initialized||"focus"!==s.type||t.initApi())}}}(),$dispose:function(){var t=this;t.disposed||(e.dom(t.getElement()).removeClass(t.constant.CONTAINER_CLASS),t.getElement().removeChild(t.getElement("form")),n.Base.prototype.$dispose.call(t))}}),n});