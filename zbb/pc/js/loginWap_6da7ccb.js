passport._define("loginWap.js"/*tpa=http://passport.baidu.com/passApi/js/loginWap.js*/,function(){function e(e){this.modulus=o(e),this.k=w(this.modulus)+1;var i=new s;i.digits[2*this.k]=1,this.mu=N(i,this.modulus),this.bkplus1=new s,this.bkplus1.digits[this.k+1]=1,this.modulo=t,this.multiplyMod=n,this.powMod=r}function t(e){var t=k(e,this.k-1),n=b(t,this.mu),i=k(n,this.k+1),r=D(e,this.k+1),a=b(i,this.modulus),s=D(a,this.k+1),o=v(r,s);o.isNeg&&(o=h(o,this.bkplus1));for(var l=S(o,this.modulus)>=0; l;)o=v(o,this.modulus),l=S(o,this.modulus)>=0;return o}function n(e,t){var n=b(e,t);return this.modulo(n)}function r(e,t){var n=new s;n.digits[0]=1;for(var i=e,r=t;0!=(1&r.digits[0])&&(n=this.multiplyMod(n,i)),r=C(r,1),0!=r.digits[0]||0!=w(r);)i=this.multiplyMod(i,i);return n}function a(e){R=e,M=new Array(R);for(var t=0;t<M.length;t++)M[t]=0;V=new s,B=new s,B.digits[0]=1}function s(e){this.digits="boolean"==typeof e&&1==e?null:M.slice(0),this.isNeg=!1}function o(e){var t=new s(!0);return t.digits=e.digits.slice(0),t.isNeg=e.isNeg,t}function l(e){var t=new s;t.isNeg=0>e,e=Math.abs(e);for(var n=0;e>0;)t.digits[n++]=e&z,e>>=U;return t}function c(e){for(var t="",n=e.length-1;n>-1;--n)t+=e.charAt(n);return t}function u(e,t){var n=new s;n.digits[0]=t;for(var i=A(e,n),r=X[i[1].digits[0]];1==S(i[0],V);)i=A(i[0],n),digit=i[1].digits[0],r+=X[i[1].digits[0]];return(e.isNeg?"-":"")+c(r)}function d(e){var t=15,n="";for(i=0;4>i;++i)n+=Z[e&t],e>>>=4;return c(n)}function g(e){for(var t="",n=(w(e),w(e));n>-1;--n)t+=d(e.digits[n]);return t}function p(e){var t,n=48,i=n+9,r=97,a=r+25,s=65,o=90;return t=e>=n&&i>=e?e-n:e>=s&&o>=e?10+e-s:e>=r&&a>=e?10+e-r:0}function f(e){for(var t=0,n=Math.min(e.length,4),i=0;n>i;++i)t<<=4,t|=p(e.charCodeAt(i));return t}function m(e){for(var t=new s,n=e.length,i=n,r=0;i>0;i-=4,++r)t.digits[r]=f(e.substr(Math.max(i-4,0),Math.min(i,4)));return t}function h(e,t){var n;if(e.isNeg!=t.isNeg)t.isNeg=!t.isNeg,n=v(e,t),t.isNeg=!t.isNeg;else{n=new s;for(var i,r=0,a=0;a<e.digits.length;++a)i=e.digits[a]+t.digits[a]+r,n.digits[a]=65535&i,r=Number(i>=q);n.isNeg=e.isNeg}return n}function v(e,t){var n;if(e.isNeg!=t.isNeg)t.isNeg=!t.isNeg,n=h(e,t),t.isNeg=!t.isNeg;else{n=new s;var i,r;r=0;for(var a=0;a<e.digits.length;++a)i=e.digits[a]-t.digits[a]+r,n.digits[a]=65535&i,n.digits[a]<0&&(n.digits[a]+=q),r=0-Number(0>i);if(-1==r){r=0;for(var a=0;a<e.digits.length;++a)i=0-n.digits[a]+r,n.digits[a]=65535&i,n.digits[a]<0&&(n.digits[a]+=q),r=0-Number(0>i);n.isNeg=!e.isNeg}else n.isNeg=e.isNeg}return n}function w(e){for(var t=e.digits.length-1;t>0&&0==e.digits[t];)--t;return t}function y(e){var t,n=w(e),i=e.digits[n],r=(n+1)*H;for(t=r;t>r-H&&0==(32768&i);--t)i<<=1;return t}function b(e,t){for(var n,i,r,a=new s,o=w(e),l=w(t),c=0;l>=c;++c){for(n=0,r=c,j=0;o>=j;++j,++r)i=a.digits[r]+e.digits[j]*t.digits[c]+n,a.digits[r]=i&z,n=i>>>U;a.digits[c+o+1]=n}return a.isNeg=e.isNeg!=t.isNeg,a}function _(e,t){var n,i,r;result=new s,n=w(e),i=0;for(var a=0;n>=a;++a)r=result.digits[a]+e.digits[a]*t+i,result.digits[a]=r&z,i=r>>>U;return result.digits[1+n]=i,result}function I(e,t,n,i,r){for(var a=Math.min(t+r,e.length),s=t,o=i;a>s;++s,++o)n[o]=e[s]}function E(e,t){var n=Math.floor(t/H),i=new s;I(e.digits,0,i.digits,n,i.digits.length-n);for(var r=t%H,a=H-r,o=i.digits.length-1,l=o-1;o>0;--o,--l)i.digits[o]=i.digits[o]<<r&z|(i.digits[l]&K[r])>>>a;return i.digits[0]=i.digits[o]<<r&z,i.isNeg=e.isNeg,i}function C(e,t){var n=Math.floor(t/H),i=new s;I(e.digits,n,i.digits,0,e.digits.length-n);for(var r=t%H,a=H-r,o=0,l=o+1;o<i.digits.length-1;++o,++l)i.digits[o]=i.digits[o]>>>r|(i.digits[l]&Q[r])<<a;return i.digits[i.digits.length-1]>>>=r,i.isNeg=e.isNeg,i}function T(e,t){var n=new s;return I(e.digits,0,n.digits,t,n.digits.length-t),n}function k(e,t){var n=new s;return I(e.digits,t,n.digits,0,n.digits.length-t),n}function D(e,t){var n=new s;return I(e.digits,0,n.digits,0,t),n}function S(e,t){if(e.isNeg!=t.isNeg)return 1-2*Number(e.isNeg);for(var n=e.digits.length-1;n>=0;--n)if(e.digits[n]!=t.digits[n])return e.isNeg?1-2*Number(e.digits[n]>t.digits[n]):1-2*Number(e.digits[n]<t.digits[n]);return 0}function A(e,t){var n,i,r=y(e),a=y(t),l=t.isNeg;if(a>r)return e.isNeg?(n=o(B),n.isNeg=!t.isNeg,e.isNeg=!1,t.isNeg=!1,i=v(t,e),e.isNeg=!0,t.isNeg=l):(n=new s,i=o(e)),new Array(n,i);n=new s,i=e;for(var c=Math.ceil(a/H)-1,u=0;t.digits[c]<W;)t=E(t,1),++u,++a,c=Math.ceil(a/H)-1;i=E(i,u),r+=u;for(var d=Math.ceil(r/H)-1,g=T(t,d-c);-1!=S(i,g);)++n.digits[d-c],i=v(i,g);for(var p=d;p>c;--p){var f=p>=i.digits.length?0:i.digits[p],m=p-1>=i.digits.length?0:i.digits[p-1],b=p-2>=i.digits.length?0:i.digits[p-2],I=c>=t.digits.length?0:t.digits[c],k=c-1>=t.digits.length?0:t.digits[c-1];n.digits[p-c-1]=f==I?z:Math.floor((f*q+m)/I);for(var D=n.digits[p-c-1]*(I*q+k),A=f*G+(m*q+b);D>A;)--n.digits[p-c-1],D=n.digits[p-c-1]*(I*q|k),A=f*q*q+(m*q+b);g=T(t,p-c-1),i=v(i,_(g,n.digits[p-c-1])),i.isNeg&&(i=h(i,g),--n.digits[p-c-1])}return i=C(i,u),n.isNeg=e.isNeg!=l,e.isNeg&&(n=l?h(n,B):v(n,B),t=C(t,u),i=v(t,i)),0==i.digits[0]&&0==w(i)&&(i.isNeg=!1),new Array(n,i)}function N(e,t){return A(e,t)[0]}function x(t,n,i){this.e=m(t),this.d=m(n),this.m=m(i),this.chunkSize=2*w(this.m),this.radix=16,this.barrett=new e(this.m)}function P(e,t){for(var n=new Array,i=t.length,r=0;i>r;)n[r]=t.charCodeAt(r),r++;for(;n.length%e.chunkSize!=0;)n[r++]=0;var a,o,l,c=n.length,d="";for(r=0;c>r;r+=e.chunkSize){for(l=new s,a=0,o=r;o<r+e.chunkSize;++a)l.digits[a]=n[o++],l.digits[a]+=n[o++]<<8;var p=e.barrett.powMod(l,e.e),f=16==e.radix?g(p):u(p,e.radix);d+=f+" "}return d.substring(0,d.length-1)}var $=$||window.passport||{},F=$.tangramInst||F||window.baidu;!function(e){e.apiDomain={staticDomain:window.location?"http:"==window.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com":"http:"==document.location.protocol.toLowerCase()?"http://passport.bdimg.com/":"https://passport.baidu.com"}}($);var L=null;if("function"!=typeof L)var L=function(){};L._baiduInstName=L._baiduInstName||"bdInst_"+(new Date).getTime();var O=O||F.baiduInstance||window.baiduInstance;window[L._baiduInstName]=window[L._baiduInstName]||O,L.resourcePath="",L.skinName="default",L.version="1.0.0.0",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),F.form=F.form||{},F.url=F.url||{},F.url.escapeSymbol=F.url.escapeSymbol||function(e){return String(e).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(e){return"%"+(256+e.charCodeAt()).toString(16).substring(1).toUpperCase()})},F.form.json=F.form.json||function(e,t){function n(e,t){var n=g[e];n?(n.push||(g[e]=[n]),g[e].push(t)):g[e]=t}for(var i,r,a,s,o,l,c,u,d=e.elements,t=t||function(e){return e},g={},p=0,f=d.length;f>p;p++)if(i=d[p],a=i.name,!i.disabled&&a)switch(r=i.type,s=F.url.escapeSymbol(i.value),r){case"radio":case"checkbox":i.checked&&n(a,t(s,a));break;case"textarea":case"text":case"password":case"hidden":case"file":case"select-one":n(a,t(s,a));break;case"select-multiple":for(o=i.options,c=o.length,l=0;c>l;l++)u=o[l],u.selected&&n(a,t(u.value,a))}return g},L.Base=function(){F.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},F.lang.inherits(L.Base,F.lang.Class,"http://passport.baidu.com/passApi/js/magic.Base").extend({getElement:function(e){return document.getElementById(this.$getId(e))},getElements:function(){var e={},t=this._ids;for(var n in t)e[n]=this.getElement(n);return e},$getId:function(e){return e=F.lang.isString(e)?e:"",this._ids[e]||(this._ids[e]=this._eid+e)},$mappingDom:function(e,t){return F.lang.isString(t)?this._ids[e]=t:t&&t.nodeType&&(t.id?this._ids[e]=t.id:t.id=this.$getId(e)),this},$hide:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="none",e.style.visibility="hidden"),this},$show:function(e){return("string"==(typeof e).toLowerCase()||""===e)&&(e=this.getElement(e)),e&&e.style&&(e.style.display="block",e.style.visibility="visible",e.style.opacity="1"),this},$dispose:function(){this.fire("ondispose")&&F.lang.Class.prototype.dispose.call(this)}}),L.control=L.control||{},function(){function e(e,t){var i,r=e.getAttribute(t),a=!1;if(r&&(i=r.match(n[0]))){a={};for(var s,o=0;o<i.length;o++)s=i[o].match(n[1]),!isNaN(s[2])&&(s[2]=+s[2]),n[2].test(s[2])&&(s[2]=s[2].replace(n[3],"$2")),n[4].test(s[2])&&(s[2]=n[5].test(s[2])),a[s[1]]=s[2]}return a}function t(t,n){var i=e(t,"tang-event");if(i)for(var r in i){var a=i[r].substr(1);a.indexOf("(")<0&&(a+="()"),F.dom(t).on(r,new Function(L._baiduInstName+"('"+n+"') && "+L._baiduInstName+"('"+n+"')"+a))}}L.setup=L.setup||function(n,i,r){var a=e(n,"tang-param")||{};for(var s in r)a[s]=r[s];var o=new i(a);o.$mappingDom("",n),t(n,o.guid);for(var l=n.getElementsByTagName("*"),s=l.length-1;s>=0;s--)t(l[s],o.guid);return o};var n=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i]}();var R,M,V,B,U=16,H=U,q=65536,W=q>>>1,G=q*q,z=q-1;a(20);var X=(l(1e15),new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z")),Z=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),K=new Array(0,32768,49152,57344,61440,63488,64512,65024,65280,65408,65472,65504,65520,65528,65532,65534,65535),Q=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535),$=$||window.passport||{};$.err=$.err||{},function(e){var t=null;t="function"===(typeof e.getCurrent).toLowerCase()?e.getCurrent():{errMsg:{},labelText:{}},t.errMsg.login={},e.getCurrent=function(){return t}}($.err);var $=$||window.passport||{};return $.data=$.data||{},function(e){function t(e){this._requests=[],this._value=null,this._exception=null,this._isComplete=!1;var t=this;e(function(e){t._fulfillPromise(e)},function(e){t._breakPromise(e)})}function n(e,t,n){return t?n?function(n){return n=n||{},c.submit(u+t,i(n,e,p[e],f[e],!0),{charset:"utf-8",processData:function(t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i&&(t[n]=decodeURIComponent(i))}return r(e,t)}})}:function(n){return c.jsonp(u+t,i(n,e,p[e],f[e],!1),{charset:"utf-8",processData:function(t){return r(e,t)}})}:o}function i(e,t,n,i,r){var a=r?{staticpage:b.staticPage,charset:b.charset||document.characterSet||document.charset||""}:{},s=m[t];if(s)for(var o in s){if(s.hasOwnProperty(o)){var c=s[o];a[o]="function"==typeof c?c(e):c}"verifypass"==o&&(a[o]=decodeURIComponent(a[o]))}if(a.token=b.token,a.tpl=b.product||"",a.subpro=b.subpro,a.apiver="v3",a.tt=(new Date).getTime(),e){n=n||{},i=i||{};for(var o in e)if(e.hasOwnProperty(o)){var u=i[o],d=u?u(e[o],e):e[o];"string"==typeof d&&(r&&(d=decodeURIComponent(d)),h[o]||(d=l.trim(d))),a[n[o]||o.toLowerCase()]=d}}return a}function r(t,n){if(e&&e.traceID&&e.traceID.getTraceID&&e.traceID.getTraceID(n),n){var i=v[t];i&&i(n);var r=n.errInfo,s=n,o=s;return r?s.errInfo=a(t,r,s):(r={no:n.err_no,msg:n.err_msg||""},delete s.err_no,delete s.err_msg,o={data:s,errInfo:a(t,r,s)}),o}return n}function a(e,t){var n=y[w[e]||e];if(n&&t&&0!=t.no){var i=n[t.no]||n[-1];if(i){var r=i.msg;t.msg=r,t.field=i.field}}return t}function s(t){if(e&&e.traceID&&e.traceID.getTraceID&&e.traceID.getTraceID(t),t){var n=t.errInfo,i=t;if(!n)for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];a&&(t[r]=decodeURIComponent(a))}n||(n={no:t.err_no,msg:t.err_msg||""},delete i.err_no,delete i.err_msg,t={data:i,errInfo:n})}return t}var o=function(){};t.prototype={get_isComplete:function(){return this._isComplete},get_value:function(){if(!this._isComplete)return void 0;if(this._exception)throw this._exception;return this._value},call:function(e){for(var t=[],n=0,i=arguments.length-1;i>n;n++)t[n]=arguments[n+1];return this.when(function(n){return n[e].apply(n,t)})},getValue:function(e){return this.when(function(t){return t[e]})},setValue:function(e,t){this.whenOnly(function(n){n[e]=t})},when:function(e,n,i){return t.when(this,e,n,i)},whenOnly:function(e,n,i){t.whenOnly(this,e,n,i)},success:function(e,t){return this.when(e,o,t)},fail:function(e,t){return this.when(o,e,t)},_enqueueOne:function(e){this._isComplete?this._notify(e):this._requests.push(e)},_notify:function(e){this._exception?e.breakPromise&&e.breakPromise(this._exception):e.fulfillPromise&&e.fulfillPromise(this._value)},_notifyAll:function(){for(var e=0,t=this._requests.length;t>e;e++)this._notify(this._requests[e])},_fulfillPromise:function(e){this._value=e,this._exception=null,this._isComplete=!0,this._notifyAll()},_breakPromise:function(e){this._value=null,this._exception=e||new Error("An error occured"),this._isComplete=!0,this._notifyAll()}},t.when=function(e,n,i,r){return new t(function(a,s){t.make(e)._enqueueOne({fulfillPromise:function(e){a(n?n.call(r,e):e)},breakPromise:function(e){if(i)try{a(i.call(r,e))}catch(t){s(t)}else s(e)}})})},t.whenOnly=function(e,n,i,r){t.make(e)._enqueueOne({fulfillPromise:function(e){n&&n.call(r,e)},breakPromise:function(e){i&&i.call(r,e)}})},t.make=function(e){return e instanceof t?e:t.immediate(e)},t.immediate=function(e){return new t(function(t){t(e)})};var l={};!function(e){var t=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");e.trim=function(e){return String(e).replace(t,"")},e.getUniqueId=function(e){return e+Math.floor(2147483648*Math.random()).toString(36)},e.g=function(e){return e?"string"==typeof e||e instanceof String?document.getElementById(e):!e.nodeName||1!=e.nodeType&&9!=e.nodeType?null:e:null},e.getParent=function(t){return t=e.g(t),t.parentElement||t.parentNode||null},e.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},e.array=e.array||{},e.array.indexOf=function(e,t,n){var i=e.length;for(n=0|n,0>n&&(n=Math.max(0,i+n));i>n;n++)if(n in e&&e[n]===t)return n;return-1},e.browser=e.browser||{},e.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,e.insertHTML=function(t,n,i){t=e.g(t);var r,a;return t.insertAdjacentHTML&&!e.browser.opera?t.insertAdjacentHTML(n,i):(r=t.ownerDocument.createRange(),n=n.toUpperCase(),"AFTERBEGIN"==n||"BEFOREEND"==n?(r.selectNodeContents(t),r.collapse("AFTERBEGIN"==n)):(a="BEFOREBEGIN"==n,r[a?"setStartBefore":"setEndAfter"](t),r.collapse(a)),r.insertNode(r.createContextualFragment(i))),t}}(l),e.base=l;var c={};!function(n){var i="__bdpp_pstc__"+(new Date).getTime(),r=i+"_form",a=i+"_ifr",s=function(e){if("object"==typeof e){var t=[];for(var n in e){var i=e[n];if(void 0!==i&&null!==i){t.length&&t.push("&");var r=encodeURIComponent("boolean"==typeof i?i?"1":"0":i.toString());t.push(encodeURIComponent(n),"=",r)}}return t.join("")}return"string"==typeof e?e:null},o=function(e,t){if(t=s(t),"string"==typeof t){var n=/\?/g.test(e);e+=(n?"&":"?")+s(t)}return e},c=function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},u=function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},d=function(e,t,n){function i(e){return function(){try{e?d.onfailure&&d.onfailure():(t.apply(window,arguments),clearTimeout(a)),window[r]=null,delete window[r]}catch(n){}finally{u(s)}}}var r,a,s=document.createElement("SCRIPT"),o="bd__cbs__",d=n||{},g=d.charset,p=d.queryField||"callback",f=d.timeOut||0,m=new RegExp("(\\?|&)"+p+"=([^&]*)");r=l.getUniqueId(o),window[r]=i(0),f&&(a=setTimeout(i(1),f)),e=e.replace(m,"$1"+p+"="+r),e.search(m)<0&&(e+=(e.indexOf("?")<0?"?":"&")+p+"="+r),c(s,e,g)},g=function(e,t){var n=[];n.push("<form id='",r,"' target='",a,"' "),n.push("action='",l.encodeHTML(e),"' method='post'>");for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];if(void 0!==s&&null!==s){var o=l.encodeHTML("boolean"==typeof s?s?"1":"0":s);n.push("<input type='hidden' name='",l.encodeHTML(i),"' value='",o,"' />")}}return n.push("</form>"),n.join("")},p=function(e,t,n,s){function o(e){return function(){try{e?s.onfailure&&s.onfailure():(n.apply(window,arguments),u&&clearTimeout(u)),window[d]=null,delete window[d]}catch(t){}}}s=s||{};var c=s.timeOut||0,u=!1,d=l.getUniqueId("bd__pcbs__");t[s.queryField||"callback"]="parent."+d;var p=g(e,t);if(l.g(r))l.getParent(r).innerHTML=p;else{var f=[];f.push("<div id='",i,"' style='display:none;'>"),f.push("<div>",p,"</div>"),f.push("<iframe name='",a,"' src='"+("https:"==(window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase())?"https://passport.baidu.com/passApi/html/_blank.html":"about:blank")+"' style='display:none;'></iframe>"),f.push("</div>"),l.insertHTML(document.body,"beforeEnd",f.join(""))}window[d]=o(),c&&(u=setTimeout(o(1),c)),l.g(r).submit()};n.jsonp=function(n,i,r){return r=r||{},e&&e.traceID&&e.traceID.createTraceID&&(i.traceid=e.traceID.createTraceID()),new t(function(e,t){n=o(n,i),d(n,function(t){r.processData&&(t=r.processData(t)),e&&e(t)},{charset:r.charset,queryField:r.queryField,timeOut:r.timeOut,onfailure:function(){t&&t()}})})},n.submit=function(n,i,r){return e&&e.traceID&&e.traceID.createTraceID&&(i.traceid=e.traceID.createTraceID()),n&&i?new t(function(e){p(n,i,function(t){r.processData&&(t=r.processData(t)),e&&e(t)},r)}):void 0};var f=[];n.load=function(e){return new t(function(t){var n=f.push(new Image)-1,i=!1,r=setTimeout(function(){i=!0,t&&t()},1e3);f[n].onload=function(){clearTimeout(r),i||t&&t(),i=!0,f[n]=f[n].onload=null},f[n].src=e})}}(c);var u="https://passport.baidu.com",d={getApiInfo:"/v2/api/?getapi",getLoginHistory:"/v2/api/?loginhistory",loginCheck:"/v2/api/?logincheck",getVerifyCodeStr:"/v2/?reggetcodestr",getRegSmsVerifyCodeStr:"/v2/?regsmscodestr",checkUserName:"/v2/?regnamesugg",checkPassword:"/v2/?regpwdcheck",checkMail:"/v2/?regmailcheck",isUserNoName:"/v2/api/?ucenteradduname",checkPhone:"/v2/?regphonecheck",getphonestatus:"/v2/?getphonestatus",sendPhoneCode:"/v2/?regphonesend",multiBind:"/v2/?multiaccountassociate",multiUnbind:"/v2/?multiaccountdisassociate",multiCheckUserName:"/v2/?multiaccountusername",multiGetaccounts:"/v2/?multiaccountget",multiSwitchuser:"/v2/?loginswitch",checkVerifycode:"/v2/?checkvcode",getRsaKey:"/v2/getpublickey",authwidGetverify:"/v2/sapi/authwidgetverify",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert",checkIDcardState:"/v3/finance/main/checkupcert"},g={login:"/v2/api/?login",reg:"/v2/api/?reg",fillUserName:"/v2/api/?ucenteradduname",regPhone:"/v2/api/?regphone",checkIDcard:"/v3/finance/main/idnumcert",checkIDcardSecondStep:"/v3/finance/main/upcert",checkIDcardAllStep:"/v3/finance/main/idnumcert"},p={getApiInfo:{apiType:"class"},login:{memberPass:"mem_pass",safeFlag:"safeflg",isPhone:"isPhone",timeSpan:"ppui_logintime",logLoginType:"logLoginType"},fillUserName:{selectedSuggestName:"pass_fillinusername_suggestuserradio",timeSpan:"ppui_fillusernametime"},reg:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"},regPhone:{password:"loginpass",timeSpan:"ppui_regtime",suggestIndex:"suggestIndex",suggestType:"suggestType",selectedSuggestName:"pass_reg_suggestuserradio_0",logRegType:"logRegType"}},f={loginCheck:{isPhone:function(e){return e?"true":"false"}},login:{memberPass:function(e){return e?"on":""}}},m={checkPassword:{fromreg:1},reg:{registerType:1,verifypass:function(e){return e.password}}},h={password:!0},v={login:function(){}},w={checkUserName:"reg",checkMail:"reg",checkPhone:"regPhone",sendPhoneCode:"regPhone",multiCheckUserName:"multiBind",multiSwitchuser:"changeUser",checkVerifycode:"checkVerifycode"},y=$.err.getCurrent().errMsg||$.err.getCurrent(),b={};e.setContext=function(e){b.product=e.product||b.product,b.charset=e.charset||b.charset,b.staticPage=e.staticPage||b.staticPage,b.token=e.token||b.token,b.subpro=e.subpro||b.subpro},e.traceID={headID:e.traceID&&e.traceID.headID||"",flowID:e.traceID&&e.traceID.flowID||"",cases:e.traceID&&e.traceID.cases||"",initTraceID:function(e){var t=this;e&&e.length>0?(t.headID=e.slice(0,6),t.flowID=e.slice(6,8)):t.destory()},createTraceID:function(){var e=this;return e.headID+e.flowID+e.cases},startFlow:function(e){var t=this,n=t.getFlowID(e);0===t.flowID.length||t.flowID===n?(t.createHeadID(),t.flowID=n):t.finishFlow(n)},finishFlow:function(){var e=this;e.destory()},getRandom:function(){return parseInt(90*Math.random()+10,10)},createHeadID:function(){var e=this,t=(new Date).getTime()+e.getRandom().toString(),n=Number(t).toString(16),i=n.length,r=n.slice(i-6,i).toUpperCase();e.headID=r},getTraceID:function(e){var t=this,n=e&&e.traceid||"";t.initTraceID(n)},getFlowID:function(e){var t={login:"01",reg:"02"};return t[e]},setData:function(e){var t=this;return e.data?e.data.traceid=t.createTraceID():e.url=e.url+(e.url.indexOf("?")>-1?"&":"?")+"traceid="+t.createTraceID(),e},destory:function(){var e=this;e.headID="",e.flowID=""}};for(var _ in d)d.hasOwnProperty(_)&&(e[_]=n(_,d[_]));for(var _ in g)g.hasOwnProperty(_)&&(e[_]=n(_,g[_],!0));e.jsonp=function(e,t){return 0!=e.indexOf("http")&&(e=u+e),t=t||{},t.flag_code&&1==t.flag_code||(t.apiver="v3"),t.tt=(new Date).getTime(),c.jsonp(e,t,{charset:"utf-8",processData:function(e){return s(e)}})},e.post=function(e,t){return t=t||{},"wap"!==t.apitype&&(e=u+e),t.staticpage=t.staticpage||b.staticPage,t.charset=t.charset||b.charset||document.characterSet||document.charset||"",t.token=t.token||b.token,t.tpl=t.tpl||b.product,c.submit(e,t,{charset:"utf-8",processData:function(e){return s(e)}})},e.request=c}($.data),L.passport=F.lang.createClass(function(){this._validateInfo={}},{type:"magic.passport",superClass:L.Base}).extend({_getRegularField:function(e){var t=e.pwd?"password":"text",n=this,i='autocomplete="off"',r=e.maxLength?'maxlength="'+e.maxLength+'"':"",a=e.tip?e.tip:"",s=e.value?e.value:"",o=e.field+""=="verifycode"?"none":"",l="";l="text"===t?'<input type="text" style="display:none;">':'<input type="password" style="display: none;">';var c='<p id="'+n.$getId(e.field+"Wrapper")+'" class="pass-form-item pass-form-item-'+e.field+'" style="display:'+o+'">'+(e.label?'<label for="'+n.$getId(e.field)+'" id="'+n.$getId(e.field+"Label")+'" class="pass-label pass-label-'+e.field+'">'+e.label+"</label>":"")+l+'<input id="'+n.$getId(e.field)+'" type="'+t+'" name="'+e.field+'" class="pass-text-input pass-text-input-'+e.field+'" '+r+(e.placeholder?'placeholder="'+e.placeholder+'" ':"")+i+(e.disabled?'" disabled':"")+' value="'+s+'"/>'+(e.noError?"":'<span id="'+n.$getId(e.field+"Error")+'" class="pass-item-error pass-item-error-'+e.field+'"></span>')+(e.hasSucc?'<span id="'+n.$getId(e.field+"Succ")+'" class="pass-item-succ pass-item-succ-'+e.field+'" style="display:none;"></span>':"")+'<span id="'+n.$getId(e.field+"Tip")+'" class="pass-item-tip pass-item-tip-'+e.field+'" style="display:none"><span id="'+n.$getId(e.field+"TipText")+'" class="pass-item-tiptext pass-item-tiptext-'+e.field+'">'+a+"</span></span></p>";return c},_getHiddenField:function(e,t){var n,i=this,r='<p id="'+i.$getId(t||"hiddenFields")+'" style="display:none">';for(var a in e)e.hasOwnProperty(a)&&(n="string"==typeof e[a]?e[a].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;"):e[a],r+='<input type="hidden" id="'+i.$getId((t?t+"_":"")+a)+'" name="'+a+'" value="'+n+'" />');return r+="</p>"},_setEvent:function(){var e=this,t=this.getElement(),n=function(t){e._eventHandler.entrance.apply(e,[t])};F(e.getElement()).on("resize",function(){var e=(navigator.userAgent,!navigator.userAgent.match(/OS [1-8]_\d[_\d]* like Mac OS X/i)),t=!!navigator.userAgent.toString().match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),n=navigator.userAgent.toString().indexOf("iPad");if(e&&t&&null!=n){var i=document.getElementsByClassName("popBox");null!=i&&i.length>0&&(i[0].style.height=window.screen.height>document.body.clientHeight?window.screen.height*(window.screen.height/document.body.clientHeight)+120+"px":window.screen.height*(window.screen.height/document.body.clientHeight))}}),F(e.getElement("form")).on("submit",n),F(e.getElement("license")).on("click",n),F(e.getElement("verifyCodeChange")).on("click",n),F(e.getElement("verifyCodeSend")).on("click",n),F(e.getElement("smsVcodeSend")).on("click",n),F(t).delegate(".pass-suggest-item label","click",n),F(".pass-text-input",e.getElement()).on({focus:n,blur:n,change:n,keyup:n,mouseover:n,mouseout:n})},_validator:{confStorage:{},builtInMsg:{required:"请您输入%s",phone:"手机号码格式不正确",email:"邮箱格式不正确",idcard:"身份证格式不正确"},builtInRules:{required:/\S+/,phone:/^1[3456789]\d{9}$/,email:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,idcard:/(^\d{15}$)|(^\d{17}(\d|X|x)$)/},init:function(e,t){this.confStorage[e.$getId()]=t},validate:function(e,t,n,i){var r=e.getElement(t),a={field:t},s=/^\s*(.+?)\s*$/;if(!r||0===+r.offsetHeight)return!1;for(var o=r.value.replace(s,"$1"),l=this.confStorage[e.$getId()][t],c=l.rules,u=0,d=c.length;d>u;u++){var g,p=c[u],f=this.builtInRules[p];if(g="[object function]"===Object.prototype.toString.call(f).toLowerCase()?f.call(e,r,i):new RegExp(f).test(o),!g)return a.error=!0,e._validateInfo[t]=0,a.msg=this.builtInMsg[p].replace(/\%s/,l.desc),e._validateError(a),void n.error(a)}l.asyncRule?l.asyncRule.call(e,{success:function(i){a.error=!1,a.data=i.data,e._validateInfo[t]=1,e._validateSuccess(a),n.success(a)},error:function(i){a.error=!0,e._validateInfo[t]=0,a.msg=i.msg,e._validateError(a),n.error(a)}},i):(a.error=!1,e._validateInfo[t]=1,e._validateSuccess(a),n.success(a))},validateAll:function(e,t,n){function i(){o=!0,s?t&&t.error(l):t&&t.success(l)}var r=this.confStorage[e.$getId()],a=0,s=!1,o=!1,l=[],c=this._getActiveValidate(e,!0);for(var u in r){if(o)break;this.validate(e,u,{success:function(e){a++,l.push(e),a===c&&i()},error:function(e){return s=!0,a++,l.push(e),n?void i():void(a===c&&i())}},"all")}},_getActiveValidate:function(e,t){var n=this.confStorage[e.$getId()],i=[];for(var r in n){var a=e.getElement(r);a&&0!==a.offsetHeight&&i.push(a)}return t?i.length:i},addRule:function(e,t){var n={};n[e]=t,F.extend(this.builtInRules,n)},addMsg:function(e,t){var n={};n[e]=t,F.extend(this.builtInMsg,n)}},validate:function(e,t){var n=this,i=n.fireEvent("beforeValidate",{validate:{field:e,ele:F(n.getElement(e))}});i&&n._validator.validate(n,e,{success:function(e){var i=n.fireEvent("validateSuccess",{validate:e});i&&t&&t.success&&t.success(e)},error:function(e){var i=n.fireEvent("validateError",{validate:e});i&&t&&t.error&&t.error(e)}})},validateAll:function(e,t){var n=this;t="boolean"==typeof e?e:t?t:!1;var i=n.fireEvent("beforeValidateAll");i&&n._validator.validateAll(n,{success:function(t){var i=n.fireEvent("validateAllSuccess",{validates:t});i&&e&&e.success&&e.success(t)},error:function(t){var i=n.fireEvent("validateAllError",{validates:t});i&&e&&e.error&&e.error(t)}},t)},getValidateStatus:function(e){return this._validateInfo.hasOwnProperty(e)?this._validateInfo[e]:-1},setValidateSuccess:function(e){var t=this;t._validateInfo[e]=1,t._validateSuccess({field:e})},setValidateError:function(e,t,n){var i=this;i._validateInfo[e]=0,i._validateError({field:e,msg:t},n)},setGeneralError:function(e){this.getElement("error").innerHTML=e},clearGeneralError:function(){this.getElement("error").innerHTML=""},_isSupportPlaceholder:function(){return"placeholder"in document.createElement("input")},_getPlaceholder:function(e){for(var t=this,n={},i="",r={},a=0;a<e.length;a++)i=t.lang[e[a].placeholder],0!==+e[a].clearbtn&&(r[a]=F('<span id="'+t.$getId(e[a].label+"_clearbtn")+'" class="pass-clearbtn pass-clearbtn-'+e[a].label+'" style="display:none;"></span>'http://passport.baidu.com/passApi/js/),F(t.getElement(e[a].label)).after(r[a])),t._isSupportPlaceholder()&&!F.browser.ie?F(t.getElement(e[a].label)).attr({placeholder:i}):(n[a]=F('<span id="'+t.$getId(e[a].label+"_placeholder")+'" class="pass-placeholder pass-placeholder-'+e[a].label+'">'+i+"</span>"),F(t.getElement(e[a].label)).after(n[a])),t._rendEventPlaceholder(t.getElement(e[a].label),n[a],r[a])},_getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},_logPass:function(e,t){function n(e){var t,n,i,r,a,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=e.length,n=0,t="";i>n;){if(r=255&e.charCodeAt(n++),n===i){t+=o.charAt(r>>2),t+=o.charAt((3&r)<<4),t+="==";break}if(a=e.charCodeAt(n++),n===i){t+=o.charAt(r>>2),t+=o.charAt((3&r)<<4|(240&a)>>4),t+=o.charAt((15&a)<<2),t+="=";break}s=e.charCodeAt(n++),t+=o.charAt(r>>2),t+=o.charAt((3&r)<<4|(240&a)>>4),t+=o.charAt((15&a)<<2|(192&s)>>6),t+=o.charAt(63&s)}return t}var i=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&v="+(new Date).getTime(),r="";for(var a in t)r=r+a+":"+t[a]+",";r=n("{"+r.substring(0,r.length-1)+"}");for(var s in e)e.hasOwnProperty(s)&&(i+="&"+s+"="+e[s]);if(i+="&source=pc",i+="&auto_statistic="+r+"&auto_en="+t.eventType){var o=new Image;o.onload=o.onerror=function(){o.onload=o.onerror=null,o=null},o.src=i}},logClickLink:function(e,t){e=e||{},e=this.formatLogData(e);var n=t.target||t.srcElement,i=n&&n.getAttribute&&n.getAttribute("target"),r="_self"===i||null===i,a=this.makeImgSrc(e);if(r&&(t.preventDefault?t.preventDefault():t.returnValue=!1),window.navigator.sendBeacon&&r)window.navigator.sendBeacon(a),window.location.href=n.getAttribute("href");else if(r)this.lazyLog(n,a,null);else{var s=new Image;s.onload=s.onerror=function(){s.onload=s.onerror=null,s=null},s.src=a}},logCallBack:function(e,t){e=e||{},e=this.formatLogData(e);var n=this.makeImgSrc(e);this.lazyLog({},n,t)},formatLogData:function(e){var t=this.config||{};return F.extend({},{page:e.logPage||"",source:"pc-api",tpl:t.product||"",subpro:t.subpro||"",extrajson:t.extrajson||"",data_source:"fe"},e)},makeImgSrc:function(e){var t=document.location.protocol+"//nsclick.baidu.com/v.gif?pid=111&type=1023&v="+(new Date).getTime(),n="";for(var i in e)e.hasOwnProperty(i)&&(n+="en"!==i?"&"+i+"="+e[i]:"&auto_en="+e[i]);var r="{eventType:"+(e.en||"")+"}";return r=this.base64encode(r),t+="&auto_statistic="+r,t+="&auto_en="+(e.en||""),t+=n},lazyLog:function(e,t,n){function i(){n?n():window.location.href=r}var r=e.getAttribute&&e.getAttribute("href"),a=new Image,s=setTimeout(function(){a.onload=a.onerror=a=null,i("imgTimeout")},200);a.onload=a.onerror=function(){clearTimeout(s),a.onload=a.onerror=a=null,i("imgSuccess")},a.src=t},base64encode:function(e){var t,n,i,r,a,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=e.length,n=0,t="";i>n;){if(r=255&e.charCodeAt(n++),n===i){t+=o.charAt(r>>2),t+=o.charAt((3&r)<<4),t+="==";break}if(a=e.charCodeAt(n++),n===i){t+=o.charAt(r>>2),t+=o.charAt((3&r)<<4|(240&a)>>4),t+=o.charAt((15&a)<<2),t+="=";break}s=e.charCodeAt(n++),t+=o.charAt(r>>2),t+=o.charAt((3&r)<<4|(240&a)>>4),t+=o.charAt((15&a)<<2|(192&s)>>6),t+=o.charAt(63&s)}return t},_rendEventPlaceholder:function(e,t,n){if(e||n){var i,r,a=this,s=function(e){1===+e?(t&&t[0]&&a.$hide(t[0]),n&&n[0]&&a.$show(n[0])):(t&&t[0]&&a.$show(t[0]),n&&n[0]&&a.$hide(n[0]))};setTimeout(function(){e&&e.value&&s(1)},200),F(t).on("mousedown",function(){r=!0,clearTimeout(i),i=setTimeout(function(){a.suggestionDom&&"none"!==a.suggestionDom.style.display||e.focus()},0)}),F(n).on("click",function(){e.value="",s(0),e.focus(),a.suggestionDom&&(a.suggestionDom.data_delete=!0,setTimeout(function(){a.suggestionDom.data_delete=!1},200))}),F(e).on("keyup",function(){s(e.value?1:0)}),F(e).on("focus",function(){window.inputCheckTimer=setInterval(function(){e.value.length?(s(1),clearInterval(window.inputCheckTimer)):s(0)},30)})}},SBCtoDBC:function(e){var t="";if(e){for(var n=e.length,i=0;n>i;i++){var r=e.charCodeAt(i);r=r>=65281&&65374>=r?r-65248:r,r=12288==r?32:r,t+=String.fromCharCode(r)}return t}},hide:function(){this.getElement().style.display="none"},show:function(){this.getElement().style.display="block"
},_analysis:function(e,t){return window.passport.analysis&&window.passport.analysis[this.module]&&window.passport.analysis[this.module][e]?(window.passport.analysis[this.module][e](this,t),{preventDefault:!1,preventEvent:!1}):void 0},_hook:function(e,t){return window.passport.hook&&window.passport.hook[this.module]&&window.passport.hook[this.module][e]?window.passport.hook[this.module][e](this,t):{preventDefault:!1,preventEvent:!1}},fireEvent:function(e,t){var n=this._hook(e,t),i=!0;return n.preventEvent||(i=this.fire(e,t)),!n.preventDefault&&i},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):""}}),L.passport.loginWap=F.lang.createClass(function(e){var t=this;if($&&"https"==$._protocol)var n="https:";else var n=window.location?window.location.protocol.toLowerCase():document.location.protocol.toLowerCase();t._domain={auto:"https:"==n?"https://wappass.baidu.com":"http://wappass.baidu.com/"},t.config={isPhone:!1,memberPass:!0,safeFlag:0,product:"",charset:"",staticPage:"",subpro:"",u:"",lang:"zh-CN"},F.extend(t.config,e),this.module="loginWap",this.serverTimeCount=0,t.rsa="B3C61EBBA4659C4CE3639287EE871F1F48F7930EA977991C7AFE3CC442FEA49643212E7D570C853F368065CC57A2014666DA8AE7D493FD47D171C0D894EEE3ED7F99F6798B7FFD7B5873227038AD23E3197631A8CB642213B9F27D4901AB0D92BFA27542AE890855396ED92775255C977F5C302F1E7ED4B1E369C12CB6B1822F",t.constant={CONTAINER_CLASS:"",FOCUS_CLASS:"",HOVER_CLASS:"",ERROR_CLASS:"",NOCAPTCHA_URL:"https://passport.baidu.com/static/passpc-base/js/ld.min.js?cdnversion="+(new Date).getTime()},t.lang={"zh-CN":{username:"帐号",password:"密码",verifycode:"验证码",usernamePlaceholder:"手机号/邮箱/用户名",passwordPlaceholder:"密码",verifycodePlaceholder:"验证码",forgot:"登录遇到问题",submitText:"登录",submitLoading5s:"继续登录中",submitLoading:"登录中"}}[t.config.lang],$.data.setContext(F.extend({},t.config)),this.initTime=(new Date).getTime(),t.insertNoCaptchaScript()},{type:"magic.passport.loginWap",superClass:L.passport}).extend({_getIrregularField:function(e){var t=this,n={username:'<p id="'+t.$getId("usernameWrapper")+'" class="pass-form-item pass-form-wrapper"><label for="'+t.$getId("username")+'" id="'+t.$getId("usernameLabel")+'" class="pass-label pass-label-username"></label><input id="'+t.$getId("username")+'" type="text" name="username" class="pass-text-input pass-text-input-username" autocomplete="off" placeholder="'+t.lang.usernamePlaceholder+'" /><span class="pass-input-clearValue" id="'+t.$getId("usernameClearValue")+'"></span></p>',password:'<p id="'+t.$getId("passwordWrapper")+'" class="pass-form-item pass-form-wrapper pass-form-item-password"><label for="'+t.$getId("password")+'" id="'+t.$getId("passwordLabel")+'" class="pass-label pass-label-password"></label><input id="'+t.$getId("password")+'" type="password" name="password" class="pass-text-input pass-text-input-password" autocomplete="off" placeholder="'+t.lang.passwordPlaceholder+'" /><span class="pass-input-clearValue" id="'+t.$getId("passwordClearValue")+'"></span><span id="'+t.$getId("pwdToggle")+'" class="pass-input-aide pass-input-pwdToggle"></span></p>',verifycode:'<p id="'+t.$getId("verifycodeImgWrapper")+'" class="pass-form-item pass-form-item-verifycode" style="display:none;"><span class="pass-form-wrapper"><input id="'+t.$getId("verifycode")+'" type="text" name="verifycode" class="pass-text-input pass-text-input-verifycode" maxlength="6" autocomplete="off" placeholder="'+t.lang.verifycodePlaceholder+'"/><span class="pass-input-clearValue" id="'+t.$getId("verifycodeClearValue")+'"></span></span><img id="'+t.$getId("verifycodeImg")+'" class="pass-verifycode" src="" /><span id="'+t.$getId("verifycodeChange")+'" href="#" class="pass-change-verifycode"></span></p>',submit:'<p id="'+t.$getId("submitWrapper")+'" class="pass-form-item pass-form-item-submit"><input id="'+t.$getId("submit")+'" type="submit" value="'+t.lang.submitText+'" class="pass-button pass-button-submit pass-button-disabled" /></p>',generalError:'<p id="'+t.$getId("errorWrapper")+'" class="pass-generalErrorWrapper"><span id="'+t.$getId("error")+'" class="pass-generalError"></span></p>',passwordRightDom:'<span id="'+t.$getId("pwdToggle")+'" class="pass-input-aide pass-input-pwdToggle"></span>',forgot:'<p class="pass-forgot"><a id="'+t.$getId("forgot")+'" class="pass-right" href="http://wappass.baidu.com/passport/getpass?tpl='+t.config.product+"&u="+t.config.u+'">'+t.lang.forgot+"</a></p>"};return n[e]},_getTemplate:function(){var e=this,t='<form id="'+e.$getId("form")+'" method="POST" autocomplete="off">',n={codeString:"",isphone:0,safeFlag:e.config.safeFlag,u:e.config.u,subpro:e.config.subpro,staticPage:e.config.staticPage,loginmerge:1};return t+=e._getIrregularField("generalError"),t+=e._getHiddenField(n),t+=e._getIrregularField("username"),t+=e._getIrregularField("password"),t+=e._getIrregularField("verifycode"),t+=e._getIrregularField("submit"),t+=e._getIrregularField("forgot"),t+="</form>"},_getSeverTime:function(){var e=this;$.data.jsonp(e._domain.auto+"/wp/api/security/antireplaytoken?tpl="+e.config.product+"&v="+(new Date).getTime(),{}).success(function(t){e.serverTime=t.data.time})},render:function(e){var t=this;t.getElement()||t.$mappingDom("",e||document.body);var n=F(t.getElement()),i=t._getTemplate();n.get(0).appendChild(F(i).get(0));var r=t.fireEvent("render");r&&(t._setValidator(),t._getSeverTime(),t._setEvent(),t._moudleEvent())},insertNoCaptchaScript:function(){var e=this;e.insertScriptW(e.constant.NOCAPTCHA_URL,function(){})},insertScriptW:function(e,t){if(window._loadedFilesW=window._loadedFilesW||{},!window._loadedFilesW[e]){window._loadedFilesW[e]=!0;var n=document,i=n.createElement("SCRIPT");i.type="text/javascript",i.charset="UTF-8",i.readyState?i.onreadystatechange=function(){("loaded"===i.readyState||"complete"===i.readyState)&&(i.onreadystatechange=null,t&&t())}:i.onload=function(){t&&t()},i.src=e,n.getElementsByTagName("head")[0].appendChild(i)}},getDv:function(){return window.LG_DV_ARG.dvjsInput?window.LG_DV_ARG.dvjsInput:document.getElementById("dv_Input")?document.getElementById("dv_Input").value:""},_moudleEvent:function(){var e=this,t=function(t){e._eventHandler.entrance.apply(e,[t])};F(".pass-input-clearValue",e.getElement()).on({click:t}),F(".pass-verifycode",e.getElement()).on({click:t}),F(".pass-change-verifycode",e.getElement()).on({click:t}),F(".pass-input-pwdToggle",e.getElement()).on({click:t})},_getVerifyCode:function(e){var t=this;if(t.getElement("verifycodeChange").parentNode.style.display="",e&&e.length)t.getElement("verifycodeImg").src="http://wappass.baidu.com/cgi-bin/genimage?"+e+"&v="+(new Date).getTime(),t.getElement("vcodestr")||F(t.getElement("hiddenFields")).append('<input type="hidden" id="'+t.$getId("vcodestr")+'" name="vcodestr" value="" />'),t.getElement("vcodestr").value=e;else{var n=t.getElement("verifycodeImg"),i=n.src.split("&")[0];n.src=i+"&v="+(new Date).getTime()}t.getElement("verifycode").value="",t.getElement("verifycode").focus(),t._setSubmitStyle()},_clearVerifyCode:function(){var e=this;e.getElement("verifycodeImgWrapper").style.display="none",e.getElement("vcodestr").value=""},_sureAccountType:function(){var e=this,t='<div class="pass-sureAccount-content" id="'+e.$getId("sureAccountType")+'"><p>亲爱的用户:</p><p>为了确保您的帐号安全，请先确认您输入的帐号是用户名还是手机号</p><div class="pass-sureAccount-btn"><input type="button" value="手机号" class="pass-button-auto" id="'+e.$getId("accountTypePhone")+'"><input type="button" value="用户名" class="pass-button-auto" id="'+e.$getId("accountTypeUsername")+'"></div><p class="pass-goback-login"><a href="###">帐号密码登录</a></p></div>';e.getElement().appendChild(F(t).get(0)),e.getElement("form").style.position="absolute",e.getElement("form").style.left="-10000px",F(".pass-button-auto",e.getElement()).on("click",function(t){e.getElement("loginmerge").value=0,e.getElement("isphone").value="手机号"==t.target.value?1:0,e._submit(),t.preventDefault()}),F(".pass-goback-login a",e.getElement()).on("click",function(t){var n=e.getElement("sureAccountType"),i=n.parentNode;i.removeChild(n),e.getElement("loginmerge").value=1,e.getElement("form").style.position="static",t.preventDefault()})},_setValidator:function(){var e=this;e.validateRules={username:{rules:["required"],desc:e.lang.username},password:{rules:["required"],desc:e.lang.password},verifycode:{rules:["required"],desc:e.lang.verifycode}},e._validator.init(e,e.validateRules)},_validateError:function(e,t){var n=this;F(n.getElement(e.field)),n.setGeneralError(e.msg),t&&t.callback&&callback()},_validateSuccess:function(e,t){var n=this;F(n.getElement(e.field)),n.clearGeneralError(),t&&t.callback&&callback()},_setSubmitStyle:function(e){function t(){n.keyupTimer=!0;for(var e in n.validateRules){var t=n.getElement(e);if(t&&0!=t.offsetHeight&&""==t.value)return-1==n.getElement("submit").className.indexOf("pass-button-disabled")&&F(n.getElement("submit")).addClass("pass-button-disabled"),!1}F(n.getElement("submit")).removeClass("pass-button-disabled")}var n=this;clearTimeout(n.keyupTimer),0===e?t():n.keyupTimer=setTimeout(function(){t()},200)},_submit:function(e){var t=this,n=t.getElement("submit");n.disabled||t.validateAll({success:function(){t.getElement("submit").focus();var i=t.fireEvent("beforeSubmit");if(i){n.disabled=!0,n.value=t.lang.submitLoading;var r=F.form.json(t.getElement("form"));r.password=t.getElement("password").value;var s=r.password;r.timeSpan=(new Date).getTime()-t.initTime,r.apitype="wap";var o=t.getDv();r.dv=o||"";try{a(131),t.serverTime&&(r.password=r.password+t.serverTime,r.servertime=t.serverTime);var l=new x("10001","",t.rsa);r.password=P(l,r.password)}catch(c){}$.data.post(t._domain.auto+"/wp/api/login?v="+(new Date).getTime(),r).success(function(i){if(n.disabled=!1,clearTimeout(t.submitTimer10s),0==i.errInfo.no){var r=t.fireEvent("loginSuccess",{rsp:i});if(!r)return;document.location=i.data.u}else{t._getSeverTime(),t.getElement("password").value||(t.getElement("password").value=s);var r=t.fireEvent("loginError",{rsp:i});if(!r)return;if(i.data.gotoUrl)document.location=i.data.gotoUrl;else if(400401==i.errInfo.no)t._sureAccountType();else{if(50018==i.errInfo.no&&t.serverTimeCount<=2)return void t._submit(e);i.errInfo.msg.indexOf("系统繁忙")>-1||$.data.base.array.indexOf(["500004","400012","50000"],i.errInfo.no)>-1?i.errInfo.msg+='，<a href="'+t._domain.auto+"/wp/feedback?errno="+i.errInfo.no+'">帮助中心</a>':$.data.base.array.indexOf(["400010"],i.errInfo.no)>-1?i.errInfo.msg+='或<a href="http://passport.baidu.com/passApi/js/'+t._domain.auto+'/passport/login?sms=1">短信登录</a>':$.data.base.array.indexOf(["900001"],i.errInfo.no)>-1&&(i.errInfo.msg+='，<a href="'+t._domain.auto+"/wp/feedback?errno="+i.errInfo.no+'#faq5">如何开启？</a>')}if(t.setGeneralError(i.errInfo.msg),i.data.codeString){t._getVerifyCode(i.data.codeString);var a=t.getElement("sureAccountType");if(a){var o=a.parentNode;o.removeChild(a),t.getElement("form").style.position="static"}}}n.value=t.lang.submitText}),t.submitTimer10s=setTimeout(function(){n.disabled=!1,n.value=t.lang.submitText,t.setGeneralError("网络连接失败，请检查您的网络设置并稍后再试。")},1e4)}}},!0)},_eventHandler:function(){var e,t={focus:function(t){""!=e.getElement(t).value&&e.getElement(t+"ClearValue")&&(e.getElement(t+"ClearValue").style.display="block");var n=e.fireEvent("fieldFocus",{ele:this});n&&e.getElement(t+"Label")&&F(e.getElement(t+"Label")).addClass("pass-label-"+t+"-focus")},blur:function(t){e.getElement(t+"ClearValue")&&setTimeout(function(){e.getElement(t+"ClearValue").style.display="none"},300),e._setSubmitStyle(0);var n=e.fireEvent("fieldBlur",{ele:this});n&&e.getElement(t+"Label")&&F(e.getElement(t+"Label")).removeClass("pass-label-"+t+"-focus")},mouseover:function(){e.fireEvent("fieldMouseover",{ele:this})},mouseout:function(){e.fireEvent("fieldMouseout",{ele:this})},keyup:function(t){""!=e.getElement(t).value&&e.getElement(t+"ClearValue")&&(e.getElement(t+"ClearValue").style.display="block"),e._setSubmitStyle()}},n={focus:{username:function(){},password:function(){},verifycode:function(){}},blur:{userName:function(){},password:function(){},verifycode:function(){}},change:{username:function(t){var n=this.get(0).value;n.length&&e.validate(t,{success:function(){$.data.jsonp(e._domain.auto+"/wp/api/login/check?username="+n+"&apitype=wap&tpl="+e.config.product+"&v="+(new Date).getTime(),{}).success(function(t){t.data.codeString?e._getVerifyCode(t.data.codeString):e._clearVerifyCode()})}})}},click:{usernameClearValue:function(){e.getElement("username").value=""},passwordClearValue:function(){e.getElement("password").value=""},verifycodeClearValue:function(){e.getElement("verifycode").value=""},verifycodeImg:function(t,n){e._getVerifyCode(),n.preventDefault()},pwdToggle:function(t){var n=e.getElement("password");"text"http://passport.baidu.com/passApi/js/==n.type?(n.type="password",F(e.getElement(t)).removeClass("pass-input-pwdToggle-show")):(n.type="text",F(e.getElement(t)).addClass("pass-input-pwdToggle-show")),e.getElement("password").focus()},verifycodeChange:function(t,n){e._getVerifyCode(),n.preventDefault()}},submit:function(t){t.preventDefault(),e._submit(t)}};return{entrance:function(i){e=this;var r=(F(i.target),i.target.name);if(!r&&i.target.id){var a=i.target.id.match(/\d+__(.*)$/);a&&(r=a[1])}r&&(t.hasOwnProperty(i.type)&&t[i.type].apply(F(i.target),[r,i]),n.hasOwnProperty(i.type)&&("function"==typeof n[i.type]&&n[i.type].apply(F(i.target),[i]),n[i.type].hasOwnProperty(r)&&n[i.type][r].apply(F(i.target),[r,i])))}}}(),$dispose:function(){var e=this;e.disposed||(e.getElement().removeChild(e.getElement("form")),L.Base.prototype.$dispose.call(e))}}),L});