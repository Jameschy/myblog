<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>twoWay</title>
    <style>
        .classC{
            color: red;
        }
    </style>
</head>
<script src='http://cdnjs.cloudflare.com/ajax/libs/vue/1.0.26/vue.min.js'></script>
<body id="demo">
自定义组件：<input v-example="a.b.c" /> <br/>
父作用域：{{a.b.c}}
</body>
<script>
    Vue.directive('my-directive',{
        twoWay:true,
        bind:function () {
                this.handler=function () {
                    // 把数据写回vm
                    // 如果指令这样绑定v-example=“a.b.c”
                    // 这里将会给vm.a.b.c赋值
                    this.set(this.el.value)
                }.bind(this)
            this.el.addEventListener('input',this.handler)

            },
        unbind:function () {
            this.el.removeEventListener('input',this.handler)
        }
    })

    var demo = new Vue({
        el:'#demo',
        data:{
           a:{b:{c:2}}
        }
    })
</script>
</html>
